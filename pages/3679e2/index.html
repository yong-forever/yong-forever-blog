<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MyBatis面试题 | yong-forever&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/yong-forever-blog/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/yong-forever-blog/assets/css/0.styles.33de1b1c.css" as="style"><link rel="preload" href="/yong-forever-blog/assets/js/app.61540ce8.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/2.e7cba03d.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/3.be5a514c.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/71.d32a7e9c.js" as="script"><link rel="prefetch" href="/yong-forever-blog/assets/js/10.1b3f0f0e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/100.b79cf637.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/101.b39f267a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/102.6f3e1545.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/103.6019464f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/104.b6e94524.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/105.15d73ac1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/106.d4703deb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/107.cf6d6727.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/108.d457175c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/109.f79fc245.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/11.b2681599.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/110.bc495869.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/111.e0154aa0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/112.36a203d5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/113.5f16e2fa.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/114.5f0911bd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/115.1c8a7df2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/116.f940b16e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/117.8815292b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/118.c0aca63f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/119.dc00a694.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/12.5a54551f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/120.ce5b9fa2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/121.37e9bf9f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/122.ca0dbdeb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/123.ab615e6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/124.dd68e5c2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/125.31a8b242.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/126.6e6f6bf6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/127.4206a9fe.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/128.e197d232.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/129.4fcfc708.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/13.a1964649.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/130.1621e03d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/131.c75e57d9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/132.4cf6ca00.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/133.8aa8922d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/134.23fd63a4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/135.fa929d53.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/136.c3dbcfc0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/137.7381e405.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/138.680b5e55.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/139.0d339a30.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/14.67cdaae4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/140.d1990d07.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/141.a85eb3e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/142.6669aea5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/143.9406be88.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/144.cd1c833c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/145.e4908329.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/146.af9cd351.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/147.7cbd9705.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/148.2f8359ab.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/149.39c964b9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/15.e28ff222.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/150.2edc5fe0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/151.505ebc9f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/152.66029736.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/153.77b96b14.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/154.49d58388.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/155.dd3795e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/156.a045abae.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/157.e4b6f759.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/158.46af0f81.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/159.8665f021.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/16.828a21e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/160.63aa9240.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/161.0cbb13bd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/162.c2da629e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/163.17037959.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/164.84d401a3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/165.1d3b5e77.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/166.a5da2543.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/167.bd318b44.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/168.8747c65a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/169.c5799fc4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/17.6f7ac0e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/170.3a4cb9f7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/171.08ca67c0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/172.4d9efba6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/173.312ef937.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/174.a035690a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/175.8aa33f37.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/176.e200db06.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/177.637ed132.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/178.88194a7e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/179.44a8b73c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/18.b3168bb4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/180.fccf148e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/181.4a4a5a6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/182.a8b6cfbb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/183.a9d32ac3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/184.540c264c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/185.a5afec75.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/186.62333d59.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/187.e0a69f60.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/188.82703f70.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/189.d537cbe0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/19.cd14c28c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/190.6cc54e4f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/191.daddfa5c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/192.9e30aa68.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/193.6cb9bc42.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/194.7810c6c2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/195.e59dc288.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/196.fa8d38e5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/197.5b359936.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/198.513074e8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/199.5dff0fa8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/20.dced456a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/200.0dc6b27e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/201.d739af71.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/202.d4c4d1d1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/203.7632f828.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/204.59426f06.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/205.2c7b8b1d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/206.fd91b74f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/207.ea9c2876.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/208.3ba49cc5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/209.4c9e1548.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/21.a63af816.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/210.3d91b7f1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/211.d1658ea8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/212.21a5f6c9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/213.198ba17c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/214.cc971a61.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/215.2551bbaa.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/216.15293d3d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/217.fb384925.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/218.dd881677.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/219.64ff2e6f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/22.bc7f8215.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/220.52503d55.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/221.a57103a5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/222.3d646d24.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/223.80c881b8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/224.37f24793.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/225.beeda46b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/226.6571413d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/227.e6bce7c8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/228.02b119df.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/229.064bce27.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/23.5b8bb994.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/230.49188d34.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/231.f6fcf5ea.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/232.ee08ecc8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/233.fec10017.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/234.d59d9c7f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/235.a9fc3363.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/236.f5cb46e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/237.0bb02b7d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/238.a1078b85.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/239.5592d144.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/24.b45707a5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/240.4ff1d7e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/241.50f3463d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/242.b39e58ba.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/243.f2ec6d2d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/244.22fe7586.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/245.872e98b6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/246.17c651ae.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/247.b8c4330f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/248.4f84d2c6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/249.fe390318.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/25.5532a89a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/250.751ac8f7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/251.818a742c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/252.e3fe1cd7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/253.d00d13bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/26.dcb6a594.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/27.cd1fadca.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/28.8d75bd01.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/29.a93fab7e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/30.bdc09a5f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/31.3ab9e6b8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/32.fd7e7bdf.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/33.e2ec2722.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/34.9eaf806f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/35.6c7f488c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/36.b2048811.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/37.5b1950af.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/38.f76a2c0a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/39.35e99502.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/4.7f68c7bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/40.069b8344.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/41.8e23678d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/42.9249fba3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/43.2f3a6204.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/44.85071374.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/45.950c1821.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/46.829fad5d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/47.77809037.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/48.c9133684.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/49.56da1a38.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/5.dced6ce5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/50.a166e7bf.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/51.f174feb0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/52.798ec56d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/53.723a0225.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/54.58255563.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/55.40c3bb39.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/56.969dd19d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/57.25213bb1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/58.f2b47607.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/59.3e38129e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/6.232f8fcd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/60.95d3735c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/61.7eaccbe1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/62.ce1257e9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/63.7276ebb1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/64.91d550d5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/65.44b10f7b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/66.14afcb8d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/67.9f1ac73e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/68.3c421cdc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/69.ede88e61.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/7.a69db60e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/70.25aea6c8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/72.dc33542c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/73.c6ab9d11.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/74.a054e9d1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/75.47c602bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/76.b1b12a6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/77.36e405c3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/78.b2d8fa01.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/79.82a0042b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/8.0afa700f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/80.404f17d6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/81.d6c7ee75.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/82.2d70cd0e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/83.4ae92aef.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/84.ca962558.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/85.37178f11.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/86.e0d6294e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/87.6d2105a1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/88.7042a96a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/89.e3dd2c65.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/9.97d3521a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/90.bc2a3190.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/91.baa2f2f6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/92.82fe3ae1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/93.47cfcf24.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/94.f305e568.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/95.13164362.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/96.0df202be.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/97.fe9d44de.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/98.4598be77.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/99.effd5575.js">
    <link rel="stylesheet" href="/yong-forever-blog/assets/css/0.styles.33de1b1c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yong-forever-blog/" class="home-link router-link-active"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=1258225956&amp;spec=640&amp;img_type=jpg" alt="yong-forever's blog" class="logo"> <span class="site-name can-hide">yong-forever's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yong-forever-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yong-forever-blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/yong-forever-blog/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/test/" class="nav-link">TEST</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/docker/" class="nav-link">《docker》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/javaweb/" class="nav-link">《JavaWeb》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/juc/" class="nav-link">《JUC》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/jvm/" class="nav-link">《JVM》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mysql/" class="nav-link">《Mysql》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/redis/" class="nav-link">《Redis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/springcloud/" class="nav-link">《SpringCloud》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/design/" class="nav-link">《设计模式》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/yong-forever-blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/yong-forever-blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/yong-forever-blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/yong-forever-blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/yong-forever-blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yong-forever-blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yong-forever/yong-forever-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=1258225956&amp;spec=640&amp;img_type=jpg"> <div class="blogger-info"><h3>Yiyong Zhan</h3> <span>如何对世界抱有持续的爱</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/yong-forever-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yong-forever-blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/yong-forever-blog/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/test/" class="nav-link">TEST</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/docker/" class="nav-link">《docker》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/javaweb/" class="nav-link">《JavaWeb》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/juc/" class="nav-link">《JUC》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/jvm/" class="nav-link">《JVM》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mysql/" class="nav-link">《Mysql》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/redis/" class="nav-link">《Redis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/springcloud/" class="nav-link">《SpringCloud》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/design/" class="nav-link">《设计模式》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/yong-forever-blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/yong-forever-blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/yong-forever-blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/yong-forever-blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/yong-forever-blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yong-forever-blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yong-forever/yong-forever-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yong-forever-blog/pages/aea6571b7a8bae86/" class="sidebar-link">面试问题集锦</a></li><li><a href="/yong-forever-blog/pages/598675/" class="sidebar-link">JAVA【基础】面试题</a></li><li><a href="/yong-forever-blog/pages/2023d6/" class="sidebar-link">JAVA【集合】面试题</a></li><li><a href="/yong-forever-blog/pages/746214/" class="sidebar-link">Spring面试题</a></li><li><a href="/yong-forever-blog/pages/d617af/" class="sidebar-link">SpringMVC面试题</a></li><li><a href="/yong-forever-blog/pages/3c0dc3/" class="sidebar-link">SpringBoot面试题</a></li><li><a href="/yong-forever-blog/pages/3679e2/" aria-current="page" class="active sidebar-link">MyBatis面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-编程步骤" class="sidebar-link">MyBatis 编程步骤</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#和-的区别是什么" class="sidebar-link">#{} 和 ${} 的区别是什么？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#当实体类中的属性名和表中的字段名不一样-怎么办" class="sidebar-link">当实体类中的属性名和表中的字段名不一样 ，怎么办？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#xml-映射文件中-除了常见的-select-insert-update-delete标-签之外-还有哪些标签" class="sidebar-link">XML 映射文件中，除了常见的 select | insert | update | delete标 签之外，还有哪些标签？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理吗" class="sidebar-link">Mybatis 动态 SQL 是做什么的？都有哪些动态 SQL ？能简述一下动态 SQL 的执行原理吗？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#最佳实践中-通常一个-xml-映射文件-都会写一个-mapper-接口与之对应。请问-这个-mapper-接口的工作原理是什么-mapper-接口里的方法-参数不同时-方法能重载吗" class="sidebar-link">最佳实践中，通常一个 XML 映射文件，都会写一个 Mapper 接口与之对应。请问，这个 Mapper 接口的工作原理是什么？Mapper 接口里的方法，参数不同时，方法能重载吗？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mapper-接口绑定有几种实现方式-分别是怎么实现的" class="sidebar-link">Mapper 接口绑定有几种实现方式,分别是怎么实现的?</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-的-xml-mapper文件中-不同的-xml-映射文件-id-是否可以重复" class="sidebar-link">Mybatis 的 XML Mapper文件中，不同的 XML 映射文件，id 是否可以重复？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#如何获取自动生成的-主-键值" class="sidebar-link">如何获取自动生成的(主)键值?</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-执行批量插入-能返回数据库主键列表吗" class="sidebar-link">Mybatis 执行批量插入，能返回数据库主键列表吗？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#在-mapper-中如何传递多个参数" class="sidebar-link">在 Mapper 中如何传递多个参数?</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-是否可以映射-enum-枚举类" class="sidebar-link">Mybatis 是否可以映射 Enum 枚举类？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-都有哪些-executor-执行器-它们之间的区别是什么" class="sidebar-link">Mybatis 都有哪些 Executor 执行器？它们之间的区别是什么？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-如何执行批量插入" class="sidebar-link">MyBatis 如何执行批量插入?</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#介绍-mybatis-的一级缓存和二级缓存的概念和实现原理" class="sidebar-link">介绍 MyBatis 的一级缓存和二级缓存的概念和实现原理？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-是否支持延迟加载-如果支持-它的实现原理是什么" class="sidebar-link">Mybatis 是否支持延迟加载？如果支持，它的实现原理是什么？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-能否执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别。" class="sidebar-link">Mybatis 能否执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#简述-mybatis-的插件运行原理-以及如何编写一个插件" class="sidebar-link">简述 Mybatis 的插件运行原理？以及如何编写一个插件？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-是如何进行分页的-分页插件的原理是什么" class="sidebar-link">Mybatis 是如何进行分页的？分页插件的原理是什么？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-与-hibernate-有哪些不同" class="sidebar-link">MyBatis 与 Hibernate 有哪些不同？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#jdbc-编程有哪些不足之处-mybatis是如何解决这些问题的" class="sidebar-link">JDBC 编程有哪些不足之处，MyBatis是如何解决这些问题的？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-比-ibatis-比较大的几个改进是什么" class="sidebar-link">Mybatis 比 IBatis 比较大的几个改进是什么？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#mybatis-映射文件中-如果-a-标签通过-include-引用了b标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在a标签的前面" class="sidebar-link">Mybatis 映射文件中，如果 A 标签通过 include 引用了B标签的内容，请问，B 标签能否定义在 A 标签的后面，还是说必须定义在A标签的前面？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系" class="sidebar-link">简述 Mybatis 的 XML 映射文件和 Mybatis 内部数据结构之间的映射关系？</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/pages/3679e2/#参考与推荐如下文章" class="sidebar-link">参考与推荐如下文章：</a></li></ul></li><li><a href="/yong-forever-blog/pages/c53048/" class="sidebar-link">Mysql面试题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>心情杂货</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实用技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/yong-forever-blog/friends/" class="sidebar-link">友情链接</a></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><ul class="breadcrumbs" data-v-70a2d273><li data-v-70a2d273><a href="/yong-forever-blog/" title="首页" class="iconfont icon-home router-link-active" data-v-70a2d273></a></li> <li data-v-70a2d273><a href="/yong-forever-blog/more" title="更多-目录页" data-v-70a2d273>更多</a></li> <li data-v-70a2d273><a href="/yong-forever-blog/more/#面试" title="更多#面试" data-v-70a2d273>面试</a></li> <!----></ul> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://gitee.com/yong-forever" target="_blank" title="作者" class="beLink" data-v-70a2d273>yong</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2024-03-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          MyBatis面试题
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><p>title: 面试问题集锦
date: 2024-02-05 10:10:06
permalink: /pages/aea6571b7a8bae86
categories:</p> <ul><li>更多</li> <li>面试
tags:</li> <li>null
author:
name: yong-forever
link: https://github.com/yong-forever</li></ul> <h2 id="mybatis-编程步骤"><a href="#mybatis-编程步骤" class="header-anchor">#</a> MyBatis 编程步骤</h2> <ol><li>创建 SqlSessionFactory 对象。</li> <li>通过 SqlSessionFactory 获取 SqlSession 对象。</li> <li>通过 SqlSession 获得 Mapper 代理对象。</li> <li>通过 Mapper 代理对象，执行数据库操作。</li> <li>执行成功，则使用 SqlSession 提交事务。</li> <li>执行失败，则使用 SqlSession 回滚事务。</li> <li>最终，关闭会话。</li></ol> <h2 id="和-的区别是什么"><a href="#和-的区别是什么" class="header-anchor">#</a> <code>#{}</code> 和 <code>${}</code> 的区别是什么？</h2> <p><code>${}</code> 是 Properties 文件中的变量占位符，它可以用于 XML 标签属性值和 SQL 内部，属于<strong>字符串替换</strong>。例如将 <code>${driver}</code> 会被静态替换为 <code>com.mysql.jdbc.Driver</code> ：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;dataSource type=&quot;UNPOOLED&quot;&gt;
    &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
    &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
    &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
&lt;/dataSource&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>${}</code> 也可以对传递进来的参数<strong>原样拼接</strong>在 SQL 中。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;select id=&quot;getSubject3&quot; parameterType=&quot;Integer&quot; resultType=&quot;Subject&quot;&gt;
    SELECT * FROM subject
    WHERE id = ${id}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>实际场景下，不推荐这么做。因为，可能有 SQL 注入的风险。</li></ul> <hr> <p><code>#{}</code> 是 SQL 的参数占位符，Mybatis 会将 SQL 中的 <code>#{}</code> 替换为 <code>?</code> 号，在 SQL 执行前会使用 PreparedStatement 的参数设置方法，按序给 SQL 的 <code>?</code> 号占位符设置参数值，比如 <code>ps.setInt(0, parameterValue)</code> 。 所以，<code>#{}</code> 是<strong>预编译处理</strong>，可以有效防止 SQL 注入，提高系统安全性。</p> <hr> <p>另外，<code>#{}</code> 和 <code>${}</code> 的取值方式非常方便。例如：<code>#{item.name}</code> 的取值方式，为使用反射从参数对象中，获取 <code>item</code> 对象的 <code>name</code> 属性值，相当于 <code>param.getItem().getName()</code> 。</p> <h2 id="当实体类中的属性名和表中的字段名不一样-怎么办"><a href="#当实体类中的属性名和表中的字段名不一样-怎么办" class="header-anchor">#</a> 当实体类中的属性名和表中的字段名不一样 ，怎么办？</h2> <p>第一种， 通过在查询的 SQL 语句中定义字段名的别名，让字段名的别名和实体类的属性名一致。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;select id=&quot;selectOrder&quot; parameterType=&quot;Integer&quot; resultType=&quot;Order&quot;&gt; 
    SELECT order_id AS id, order_no AS orderno, order_price AS price 
    FROM orders 
    WHERE order_id = #{id}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>这里，还有几点建议：
<ul><li>1、数据库的关键字，统一使用大写，例如：<code>SELECT</code>、<code>AS</code>、<code>FROM</code>、<code>WHERE</code> 。</li> <li>2、每 5 个查询字段换一行，保持整齐。</li> <li>3、<code>,</code> 的后面，和 <code>=</code> 的前后，需要有空格，更加清晰。</li> <li>4、<code>SELECT</code>、<code>FROM</code>、<code>WHERE</code> 等，单独一行，高端大气。</li></ul></li></ul> <hr> <p>第二种，是第一种的特殊情况。大多数场景下，数据库字段名和实体类中的属性名差，主要是前者为<strong>下划线风格</strong>，后者为<strong>驼峰风格</strong>。在这种情况下，可以直接配置如下，实现自动的下划线转驼峰的功能。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;setting name=&quot;logImpl&quot; value=&quot;LOG4J&quot;/&gt;
    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot; /&gt;
&lt;/settings&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>😈 也就说，约定大于配置。非常推荐！</p> <hr> <p>第三种，通过 <code>&lt;resultMap&gt;</code> 来映射字段名和实体类属性名的一一对应的关系。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;resultMap type=&quot;me.gacl.domain.Order&quot; id=”OrderResultMap”&gt; 
    &lt;!–- 用 id 属性来映射主键字段 -–&gt; 
    &lt;id property=&quot;id&quot; column=&quot;order_id&quot;&gt; 
    &lt;!–- 用 result 属性来映射非主键字段，property 为实体类属性名，column 为数据表中的属性 -–&gt; 
    &lt;result property=&quot;orderNo&quot; column =&quot;order_no&quot; /&gt; 
    &lt;result property=&quot;price&quot; column=&quot;order_price&quot; /&gt; 
&lt;/resultMap&gt;

&lt;select id=&quot;getOrder&quot; parameterType=&quot;Integer&quot; resultMap=&quot;OrderResultMap&quot;&gt;
    SELECT * 
    FROM orders 
    WHERE order_id = #{id}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>此处 <code>SELECT *</code> 仅仅作为示例只用，实际场景下，千万千万千万不要这么干。用多少字段，查询多少字段。</li> <li>相比第一种，第三种的<strong>重用性</strong>会一些。</li></ul> <h2 id="xml-映射文件中-除了常见的-select-insert-update-delete标-签之外-还有哪些标签"><a href="#xml-映射文件中-除了常见的-select-insert-update-delete标-签之外-还有哪些标签" class="header-anchor">#</a> XML 映射文件中，除了常见的 select | insert | update | delete标 签之外，还有哪些标签？</h2> <p>如下部分，可见 <a href="http://www.mybatis.org/mybatis-3/zh/sqlmap-xml.html" target="_blank" rel="noopener noreferrer">《MyBatis 文档 —— Mapper XML 文件》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：</p> <ul><li><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;cache /&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>标签，给定命名空间的缓存配置。</p> <ul><li><code>&lt;cache-ref /&gt;</code> 标签，其他命名空间缓存配置的引用。</li></ul></li> <li><p><code>&lt;resultMap /&gt;</code> 标签，是最复杂也是最强大的元素，用来描述如何从数据库结果集中来加载对象。</p></li> <li><p><s>`` 标签，已废弃！老式风格的参数映射。内联参数是首选,这个元素可能在将来被移除，这里不会记录。</s></p></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;sql /&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>标签，可被其他语句引用的可重用语句块。</p> <ul><li><code>&lt;include /&gt;</code> 标签，引用 <code>&lt;sql /&gt;</code> 标签的语句。</li></ul></li> <li><p><code>&lt;selectKey /&gt;</code> 标签，不支持自增的主键生成策略标签。</p></li></ul> <p>如下部分，可见 <a href="http://www.mybatis.org/mybatis-3/zh/dynamic-sql.html" target="_blank" rel="noopener noreferrer">《MyBatis 文档 —— 动态 SQL》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：</p> <ul><li><code>&lt;if /&gt;</code></li> <li><code>&lt;choose /&gt;</code>、<code>&lt;when /&gt;</code>、<code>&lt;otherwise /&gt;</code></li> <li><code>&lt;trim /&gt;</code>、<code>&lt;where /&gt;</code>、<code>&lt;set /&gt;</code></li> <li><code>&lt;foreach /&gt;</code></li> <li><code>&lt;bind /&gt;</code></li></ul> <h2 id="mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理吗"><a href="#mybatis-动态-sql-是做什么的-都有哪些动态-sql-能简述一下动态-sql-的执行原理吗" class="header-anchor">#</a> Mybatis 动态 SQL 是做什么的？都有哪些动态 SQL ？能简述一下动态 SQL 的执行原理吗？</h2> <ul><li>Mybatis 动态 SQL ，可以让我们在 XML 映射文件内，以 XML 标签的形式编写动态 SQL ，完成逻辑判断和动态拼接 SQL 的功能。</li> <li>Mybatis 提供了 9 种动态 SQL 标签：<code>&lt;if /&gt;</code>、<code>&lt;choose /&gt;</code>、<code>&lt;when /&gt;</code>、<code>&lt;otherwise /&gt;</code>、<code>&lt;trim /&gt;</code>、<code>&lt;where /&gt;</code>、<code>&lt;set /&gt;</code>、<code>&lt;foreach /&gt;</code>、<code>&lt;bind /&gt;</code> 。</li> <li>其执行原理为，使用 <strong>OGNL</strong> 的表达式，从 SQL 参数对象中计算表达式的值，根据表达式的值动态拼接 SQL ，以此来完成动态 SQL 的功能。</li></ul> <p>如上的内容，更加详细的话，请看 <a href="http://www.mybatis.org/mybatis-3/zh/dynamic-sql.html" target="_blank" rel="noopener noreferrer">《MyBatis 文档 —— 动态 SQL》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档。</p> <h2 id="最佳实践中-通常一个-xml-映射文件-都会写一个-mapper-接口与之对应。请问-这个-mapper-接口的工作原理是什么-mapper-接口里的方法-参数不同时-方法能重载吗"><a href="#最佳实践中-通常一个-xml-映射文件-都会写一个-mapper-接口与之对应。请问-这个-mapper-接口的工作原理是什么-mapper-接口里的方法-参数不同时-方法能重载吗" class="header-anchor">#</a> 最佳实践中，通常一个 XML 映射文件，都会写一个 Mapper 接口与之对应。请问，这个 Mapper 接口的工作原理是什么？Mapper 接口里的方法，参数不同时，方法能重载吗？</h2> <p>Mapper 接口，对应的关系如下：</p> <ul><li>接口的全限名，就是映射文件中的 <code>&quot;namespace&quot;</code> 的值。</li> <li>接口的方法名，就是映射文件中 MappedStatement 的 <code>&quot;id&quot;</code> 值。</li> <li>接口方法内的参数，就是传递给 SQL 的参数。</li></ul> <p>Mapper 接口是没有实现类的，当调用接口方法时，接口全限名 + 方法名拼接字符串作为 key 值，可唯一定位一个对应的 MappedStatement 。举例：<code>com.mybatis3.mappers.StudentDao.findStudentById</code> ，可以唯一找到 <code>&quot;namespace&quot;</code> 为 <code>com.mybatis3.mappers.StudentDao</code> 下面 <code>&quot;id&quot;</code> 为 <code>findStudentById</code> 的 MappedStatement 。</p> <p>总结来说，在 Mybatis 中，每一个 <code>&lt;select /&gt;</code>、<code>&lt;insert /&gt;</code>、<code>&lt;update /&gt;</code>、<code>&lt;delete /&gt;</code> 标签，都会被解析为一个 MappedStatement 对象。</p> <p>另外，Mapper 接口的实现类，通过 MyBatis 使用 <strong>JDK Proxy</strong> 自动生成其代理对象 Proxy ，而代理对象 Proxy 会拦截接口方法，从而“调用”对应的 MappedStatement 方法，最终执行 SQL ，返回执行结果。整体流程如下图：<a href="http://static.iocoder.cn/images/MyBatis/2020_03_15/02.png" target="_blank" rel="noopener noreferrer"><img src="http://static.iocoder.cn/images/MyBatis/2020_03_15/02.png" alt="流程"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>流程</p> <ul><li><p>其中，SqlSession 在调用 Executor 之前，会获得对应的 MappedStatement 方法。例如：<code>DefaultSqlSession#select(String statement, Object parameter, RowBounds rowBounds, ResultHandler handler)</code> 方法，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// DefaultSqlSession.java

@Override
public void select(String statement, Object parameter, RowBounds rowBounds, ResultHandler handler) {
    try {
        // 获得 MappedStatement 对象
        MappedStatement ms = configuration.getMappedStatement(statement);
        // 执行查询
        executor.query(ms, wrapCollection(parameter), rowBounds, handler);
    } catch (Exception e) {
        throw ExceptionFactory.wrapException(&quot;Error querying database.  Cause: &quot; + e, e);
    } finally {
        ErrorContext.instance().reset();
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>完整的流程，胖友可以慢慢撸下 MyBatis 的源码。</li></ul></li></ul> <hr> <p>Mapper 接口里的方法，是不能重载的，因为是<strong>全限名 + 方法名</strong>的保存和寻找策略。😈 所以有时，想个 Mapper 接口里的方法名，还是蛮闹心的，嘿嘿。</p> <h2 id="mapper-接口绑定有几种实现方式-分别是怎么实现的"><a href="#mapper-接口绑定有几种实现方式-分别是怎么实现的" class="header-anchor">#</a> Mapper 接口绑定有几种实现方式,分别是怎么实现的?</h2> <p>接口绑定有三种实现方式：</p> <p>第一种，通过 <strong>XML Mapper</strong> 里面写 SQL 来绑定。在这种情况下，要指定 XML 映射文件里面的 <code>&quot;namespace&quot;</code> 必须为接口的全路径名。</p> <p>第二种，通过<strong>注解</strong>绑定，就是在接口的方法上面加上 <code>@Select</code>、<code>@Update</code>、<code>@Insert</code>、<code>@Delete</code> 注解，里面包含 SQL 语句来绑定。</p> <p>第三种，是第二种的特例，也是通过<strong>注解</strong>绑定，在接口的方法上面加上 <code>@SelectProvider</code>、<code>@UpdateProvider</code>、<code>@InsertProvider</code>、<code>@DeleteProvider</code> 注解，通过 Java 代码，生成对应的动态 SQL 。</p> <hr> <p>实际场景下，最最最推荐的是<strong>第一种</strong>方式。因为，SQL 通过注解写在 Java 代码中，会非常杂乱。而写在 XML 中，更加有整体性，并且可以更加方便的使用 OGNL 表达式。</p> <h2 id="mybatis-的-xml-mapper文件中-不同的-xml-映射文件-id-是否可以重复"><a href="#mybatis-的-xml-mapper文件中-不同的-xml-映射文件-id-是否可以重复" class="header-anchor">#</a> Mybatis 的 XML Mapper文件中，不同的 XML 映射文件，id 是否可以重复？</h2> <p>不同的 XML Mapper 文件，如果配置了 <code>&quot;namespace&quot;</code> ，那么 id 可以重复；如果没有配置 <code>&quot;namespace&quot;</code> ，那么 id 不能重复。毕竟<code>&quot;namespace&quot;</code> 不是必须的，只是最佳实践而已。</p> <p>原因就是，<code>namespace + id</code> 是作为 <code>Map&lt;String, MappedStatement&gt;</code> 的 key 使用的。如果没有 <code>&quot;namespace&quot;</code>，就剩下 id ，那么 id 重复会导致数据互相覆盖。如果有了 <code>&quot;namespace&quot;</code>，自然 id 就可以重复，<code>&quot;namespace&quot;</code>不同，<code>namespace + id</code> 自然也就不同。</p> <h2 id="如何获取自动生成的-主-键值"><a href="#如何获取自动生成的-主-键值" class="header-anchor">#</a> 如何获取自动生成的(主)键值?</h2> <p>不同的数据库，获取自动生成的(主)键值的方式是不同的。</p> <p>MySQL 有两种方式，但是<strong>自增主键</strong>，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 方式一，使用 useGeneratedKeys + keyProperty 属性
&lt;insert id=&quot;insert&quot; parameterType=&quot;Person&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;
    INSERT INTO person(name, pswd)
    VALUE (#{name}, #{pswd})
&lt;/insert&gt;
    
// 方式二，使用 `&lt;selectKey /&gt;` 标签
&lt;insert id=&quot;insert&quot; parameterType=&quot;Person&quot;&gt;
    &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;long&quot; order=&quot;AFTER&quot;&gt;
        SELECT LAST_INSERT_ID()
    &lt;/selectKey&gt;
        
    INSERT INTO person(name, pswd)
    VALUE (#{name}, #{pswd})
&lt;/insert&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>其中，<strong>方式一</strong>较为常用。</li></ul> <hr> <p>Oracle 有两种方式，<strong>序列</strong>和<strong>触发器</strong>。因为自己不了解 Oracle ，所以问了银行的朋友，他们是使用<strong>序列</strong>。而基于<strong>序列</strong>，根据 <code>&lt;selectKey /&gt;</code> 执行的时机，也有两种方式，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 这个是创建表的自增序列
CREATE SEQUENCE student_sequence
INCREMENT BY 1
NOMAXVALUE
NOCYCLE
CACHE 10;

// 方式一，使用 `&lt;selectKey /&gt;` 标签 + BEFORE
&lt;insert id=&quot;add&quot; parameterType=&quot;Student&quot;&gt;
　　&lt;selectKey keyProperty=&quot;student_id&quot; resultType=&quot;int&quot; order=&quot;BEFORE&quot;&gt;
      select student_sequence.nextval FROM dual
    &lt;/selectKey&gt;
    
     INSERT INTO student(student_id, student_name, student_age)
     VALUES (#{student_id},#{student_name},#{student_age})
&lt;/insert&gt;

// 方式二，使用 `&lt;selectKey /&gt;` 标签 + AFTER
&lt;insert id=&quot;save&quot; parameterType=&quot;com.threeti.to.ZoneTO&quot; &gt;
    &lt;selectKey resultType=&quot;java.lang.Long&quot; keyProperty=&quot;id&quot; order=&quot;AFTER&quot; &gt;
      SELECT SEQ_ZONE.CURRVAL AS id FROM dual
    &lt;/selectKey&gt;
    
    INSERT INTO TBL_ZONE (ID, NAME ) 
    VALUES (SEQ_ZONE.NEXTVAL, #{name,jdbcType=VARCHAR})
&lt;/insert&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><ul><li>他们使用第一种方式，没有具体原因，可能就没什么讲究吧。嘿嘿。</li></ul> <p>至于为什么不用<strong>触发器</strong>呢？朋友描述如下：</p> <blockquote><p>朋友：触发器不行啊，我们这边原来也有触发器，一有数据更改就会有问题了呀
数据更改指的是？
朋友：就改线上某几条数据
噢噢。手动改是吧？
朋友：不行~</p></blockquote> <hr> <p>当然，数据库还有 SQLServer、PostgreSQL、DB2、H2 等等，具体的方式，胖友自己 Google 下噢。</p> <p>关于如何获取自动生成的(主)键值的<strong>原理</strong>，可以看看 <a href="http://svip.iocoder.cn/MyBatis/executor-3/" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— SQL 执行（三）之 KeyGenerator》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-执行批量插入-能返回数据库主键列表吗"><a href="#mybatis-执行批量插入-能返回数据库主键列表吗" class="header-anchor">#</a> Mybatis 执行批量插入，能返回数据库主键列表吗？</h2> <p>能，JDBC 都能做，Mybatis 当然也能做。</p> <h2 id="在-mapper-中如何传递多个参数"><a href="#在-mapper-中如何传递多个参数" class="header-anchor">#</a> 在 Mapper 中如何传递多个参数?</h2> <p>第一种，使用 Map 集合，装载多个参数进行传递。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 调用方法
Map&lt;String, Object&gt; map = new HashMap();
map.put(&quot;start&quot;, start);
map.put(&quot;end&quot;, end);
return studentMapper.selectStudents(map);

// Mapper 接口
List&lt;Student&gt; selectStudents(Map&lt;String, Object&gt; map);

// Mapper XML 代码
&lt;select id=&quot;selectStudents&quot; parameterType=&quot;Map&quot; resultType=&quot;Student&quot;&gt;
    SELECT * 
    FROM students 
    LIMIT #{start}, #{end}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>显然，这不是一种优雅的方式。</li></ul> <hr> <p>第二种，保持传递多个参数，使用 <code>@Param</code> 注解。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 调用方法
return studentMapper.selectStudents(0, 10);

// Mapper 接口
List&lt;Student&gt; selectStudents(@Param(&quot;start&quot;) Integer start, @Param(&quot;end&quot;) Integer end);

// Mapper XML 代码
&lt;select id=&quot;selectStudents&quot; resultType=&quot;Student&quot;&gt;
    SELECT * 
    FROM students 
    LIMIT #{start}, #{end}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>推荐使用这种方式。</li></ul> <hr> <p>第三种，保持传递多个参数，不使用 <code>@Param</code> 注解。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 调用方法
return studentMapper.selectStudents(0, 10);

// Mapper 接口
List&lt;Student&gt; selectStudents(Integer start, Integer end);

// Mapper XML 代码
&lt;select id=&quot;selectStudents&quot; resultType=&quot;Student&quot;&gt;
    SELECT * 
    FROM students 
    LIMIT #{param1}, #{param2}
&lt;/select&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>其中，按照参数在方法方法中的位置，从 1 开始，逐个为 <code>#{param1}</code>、<code>#{param2}</code>、<code>#{param3}</code> 不断向下。</li></ul> <h2 id="mybatis-是否可以映射-enum-枚举类"><a href="#mybatis-是否可以映射-enum-枚举类" class="header-anchor">#</a> Mybatis 是否可以映射 Enum 枚举类？</h2> <p>Mybatis 可以映射枚举类，对应的实现类为 EnumTypeHandler 或 EnumOrdinalTypeHandler 。</p> <ul><li>EnumTypeHandler ，基于 <code>Enum.name</code> 属性( String )。<strong>默认</strong>。</li> <li>EnumOrdinalTypeHandler ，基于 <code>Enum.ordinal</code> 属性( <code>int</code> )。可通过 <code>&lt;setting name=&quot;defaultEnumTypeHandler&quot; value=&quot;EnumOrdinalTypeHandler&quot; /&gt;</code> 来设置。</li></ul> <p>😈 当然，实际开发场景，我们很少使用 Enum 类型，更加的方式是，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class Dog {

    public static final int STATUS_GOOD = 1;
    public static final int STATUS_BETTER = 2;
    public static final int STATUS_BEST = 3；
    
    private int status;
    
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><hr> <p>并且，不单可以映射枚举类，Mybatis 可以映射任何对象到表的一列上。映射方式为自定义一个 TypeHandler 类，实现 TypeHandler 的<code>#setParameter(...)</code> 和 <code>#getResult(...)</code> 接口方法。</p> <p>TypeHandler 有两个作用：</p> <ul><li>一是，完成从 javaType 至 jdbcType 的转换。</li> <li>二是，完成 jdbcType 至 javaType 的转换。</li></ul> <p>具体体现为 <code>#setParameter(...)</code> 和 <code>#getResult(..)</code> 两个方法，分别代表设置 SQL 问号占位符参数和获取列查询结果。</p> <p>关于 TypeHandler 的<strong>原理</strong>，可以看看 <a href="http://svip.iocoder.cn/MyBatis/type-package/" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— 类型模块》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-都有哪些-executor-执行器-它们之间的区别是什么"><a href="#mybatis-都有哪些-executor-执行器-它们之间的区别是什么" class="header-anchor">#</a> Mybatis 都有哪些 Executor 执行器？它们之间的区别是什么？</h2> <p>Mybatis 有四种 Executor 执行器，分别是 SimpleExecutor、ReuseExecutor、BatchExecutor、CachingExecutor 。</p> <ul><li>SimpleExecutor ：每执行一次 update 或 select 操作，就创建一个 Statement 对象，用完立刻关闭 Statement 对象。</li> <li>ReuseExecutor ：执行 update 或 select 操作，以 SQL 作为key 查找<strong>缓存</strong>的 Statement 对象，存在就使用，不存在就创建；用完后，不关闭 Statement 对象，而是放置于缓存 <code>Map&lt;String, Statement&gt;</code> 内，供下一次使用。简言之，就是重复使用 Statement 对象。</li> <li>BatchExecutor ：执行 update 操作（没有 select 操作，因为 JDBC 批处理不支持 select 操作），将所有 SQL 都添加到批处理中（通过 addBatch 方法），等待统一执行（使用 executeBatch 方法）。它缓存了多个 Statement 对象，每个 Statement 对象都是调用 addBatch 方法完毕后，等待一次执行 executeBatch 批处理。<strong>实际上，整个过程与 JDBC 批处理是相同</strong>。</li> <li>CachingExecutor ：在上述的三个执行器之上，增加<strong>二级缓存</strong>的功能。</li></ul> <hr> <p>通过设置 <code>&lt;setting name=&quot;defaultExecutorType&quot; value=&quot;&quot;&gt;</code> 的 <code>&quot;value&quot;</code> 属性，可传入 SIMPLE、REUSE、BATCH 三个值，分别使用 SimpleExecutor、ReuseExecutor、BatchExecutor 执行器。</p> <p>通过设置 <code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;&quot;</code> 的 <code>&quot;value&quot;</code> 属性为 <code>true</code> 时，创建 CachingExecutor 执行器。</p> <hr> <p>这块的源码解析，可见 <a href="http://svip.iocoder.cn/MyBatis/executor-1" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— SQL 执行（一）之 Executor》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-如何执行批量插入"><a href="#mybatis-如何执行批量插入" class="header-anchor">#</a> MyBatis 如何执行批量插入?</h2> <p>首先，在 Mapper XML 编写一个简单的 Insert 语句。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;insert id=&quot;insertUser&quot; parameterType=&quot;String&quot;&gt; 
    INSERT INTO users(name) 
    VALUES (#{value}) 
&lt;/insert&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>然后，然后在对应的 Mapper 接口中，编写映射的方法。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public interface UserMapper {
    
    void insertUser(@Param(&quot;name&quot;) String name);

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>最后，调用该 Mapper 接口方法。代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>private static SqlSessionFactory sqlSessionFactory;

@Test
public void testBatch() {
    // 创建要插入的用户的名字的数组
    List&lt;String&gt; names = new ArrayList&lt;&gt;();
    names.add(&quot;占小狼&quot;);
    names.add(&quot;朱小厮&quot;);
    names.add(&quot;徐妈&quot;);
    names.add(&quot;飞哥&quot;);

    // 获得执行器类型为 Batch 的 SqlSession 对象，并且 autoCommit = false ，禁止事务自动提交
    try (SqlSession session = sqlSessionFactory.openSession(ExecutorType.BATCH, false)) {
        // 获得 Mapper 对象
        UserMapper mapper = session.getMapper(UserMapper.class);
        // 循环插入
        for (String name : names) {
            mapper.insertUser(name);
        }
        // 提交批量操作
        session.commit();
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>代码比较简单，胖友仔细看看。当然，还有另一种方式，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>INSERT INTO [表名]([列名],[列名]) 
VALUES
([列值],[列值])),
([列值],[列值])),
([列值],[列值]));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>对于这种方式，需要保证单条 SQL 不超过语句的最大限制 <code>max_allowed_packet</code> 大小，默认为 1 M 。</li></ul> <p>这两种方式的性能对比，可以看看 [《<a href="https://www.jianshu.com/p/cce617be9f9e" target="_blank" rel="noopener noreferrer">实验]mybatis批量插入方式的比较》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="介绍-mybatis-的一级缓存和二级缓存的概念和实现原理"><a href="#介绍-mybatis-的一级缓存和二级缓存的概念和实现原理" class="header-anchor">#</a> 介绍 MyBatis 的一级缓存和二级缓存的概念和实现原理？</h2> <p>内容有些长，直接参见 <a href="https://tech.meituan.com/mybatis_cache.html" target="_blank" rel="noopener noreferrer">《聊聊 MyBatis 缓存机制》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 一文。</p> <hr> <p>这块的源码解析，可见 <a href="http://svip.iocoder.cn/MyBatis/cache-package" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— 缓存模块》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-是否支持延迟加载-如果支持-它的实现原理是什么"><a href="#mybatis-是否支持延迟加载-如果支持-它的实现原理是什么" class="header-anchor">#</a> Mybatis 是否支持延迟加载？如果支持，它的实现原理是什么？</h2> <p>Mybatis 仅支持 association 关联对象和 collection 关联集合对象的延迟加载。其中，association 指的就是<strong>一对一</strong>，collection 指的就是<strong>一对多查询</strong>。</p> <p>在 Mybatis 配置文件中，可以配置 <code>&lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;</code> 来启用延迟加载的功能。默认情况下，延迟加载的功能是<strong>关闭</strong>的。</p> <hr> <p>它的原理是，使用 CGLIB 或 Javassist( 默认 ) 创建目标对象的代理对象。当调用代理对象的延迟加载属性的 getting 方法时，进入拦截器方法。比如调用 <code>a.getB().getName()</code> 方法，进入拦截器的 <code>invoke(...)</code> 方法，发现 <code>a.getB()</code> 需要延迟加载时，那么就会单独发送事先保存好的查询关联 B 对象的 SQL ，把 B 查询上来，然后调用<code>a.setB(b)</code> 方法，于是 <code>a</code> 对象 <code>b</code> 属性就有值了，接着完成<code>a.getB().getName()</code> 方法的调用。这就是延迟加载的基本原理。</p> <p>当然了，不光是 Mybatis，几乎所有的包括 Hibernate 在内，支持延迟加载的原理都是一样的。</p> <hr> <p>这块的源码解析，可见 <a href="http://svip.iocoder.cn/MyBatis/executor-5" target="_blank" rel="noopener noreferrer">《 精尽 MyBatis 源码分析 —— SQL 执行（五）之延迟加载》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文章。</p> <h2 id="mybatis-能否执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别。"><a href="#mybatis-能否执行一对一、一对多的关联查询吗-都有哪些实现方式-以及它们之间的区别。" class="header-anchor">#</a> Mybatis 能否执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。</h2> <blockquote><p>这道题有点难度。理解倒是好理解，主要那块源码的实现，看的有点懵逼。大体的意思是懂的，但是一些细节没扣完。</p></blockquote> <p>能，Mybatis 不仅可以执行一对一、一对多的关联查询，还可以执行多对一，多对多的关联查询。</p> <blockquote><p>不过貌似，我自己实际开发中，还是比较喜欢自己去查询和拼接映射的数据。😈</p></blockquote> <ul><li>多对一查询，其实就是一对一查询，只需要把 <code>selectOne(...)</code> 修改为 <code>selectList(...)</code> 即可。案例可见 <a href="https://blog.csdn.net/xzm_rainbow/article/details/15336959" target="_blank" rel="noopener noreferrer">《MyBatis：多对一表关系详解》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</li> <li>多对多查询，其实就是一对多查询，只需要把 <code>#selectOne(...)</code> 修改为 <code>selectList(...)</code> 即可。案例可见 <a href="https://blog.csdn.net/eson_15/article/details/51655188" target="_blank" rel="noopener noreferrer">《【MyBatis学习10】高级映射之多对多查询》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</li></ul> <hr> <p>关联对象查询，有两种实现方式：</p> <blockquote><p>所有的技术方案，即会有好处，又会有坏处。很难出现，一个完美的银弹方案。</p></blockquote> <ul><li>一种是单独发送一个 SQL 去查询关联对象，赋给主对象，然后返回主对象。好处是多条 SQL 分开，相对简单，坏处是发起的 SQL 可能会比较多。</li> <li>另一种是使用嵌套查询，嵌套查询的含义为使用 <code>join</code> 查询，一部分列是 A 对象的属性值，另外一部分列是关联对象 B 的属性值。好处是只发一个 SQL 查询，就可以把主对象和其关联对象查出来，坏处是 SQL 可能比较复杂。</li></ul> <p>那么问题来了，<code>join</code> 查询出来 100 条记录，如何确定主对象是 5 个，而不是 100 个呢？其去重复的原理是 <code>&lt;resultMap&gt;</code> 标签内的<code>&lt;id&gt;</code> 子标签，指定了唯一确定一条记录的 <code>id</code> 列。Mybatis 会根据<code>&lt;id&gt;</code> 列值来完成 100 条记录的去重复功能，<code>&lt;id&gt;</code> 可以有多个，代表了联合主键的语意。</p> <p>同样主对象的关联对象，也是根据这个原理去重复的。尽管一般情况下，只有主对象会有重复记录，关联对象一般不会重复。例如：下面 <code>join</code> 查询出来6条记录，一、二列是 Teacher 对象列，第三列为 Student 对象列。Mybatis 去重复处理后，结果为 1 个老师和 6 个学生，而不是 6 个老师和 6 个学生。</p> <table><thead><tr><th style="text-align:left;">t_id</th> <th style="text-align:left;">t_name</th> <th style="text-align:left;">s_id</th></tr></thead> <tbody><tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">38</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">39</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">40</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">41</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">42</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">teacher</td> <td style="text-align:left;">43</td></tr></tbody></table> <h2 id="简述-mybatis-的插件运行原理-以及如何编写一个插件"><a href="#简述-mybatis-的插件运行原理-以及如何编写一个插件" class="header-anchor">#</a> 简述 Mybatis 的插件运行原理？以及如何编写一个插件？</h2> <p>Mybatis 仅可以编写针对 ParameterHandler、ResultSetHandler、StatementHandler、Executor 这 4 种接口的插件。</p> <p>Mybatis 使用 JDK 的动态代理，为需要拦截的接口生成代理对象以实现接口方法拦截功能，每当执行这 4 种接口对象的方法时，就会进入拦截方法，具体就是 InvocationHandler 的 <code>#invoke(...)</code>方法。当然，只会拦截那些你指定需要拦截的方法。</p> <hr> <p>编写一个 MyBatis 插件的步骤如下：</p> <ol><li>首先，实现 Mybatis 的 Interceptor 接口，并实现 <code>#intercept(...)</code> 方法。</li> <li>然后，在给插件编写注解，指定要拦截哪一个接口的哪些方法即可</li> <li>最后，在配置文件中配置你编写的插件。</li></ol> <p>具体的，可以参考 <a href="http://www.mybatis.org/mybatis-3/zh/configuration.html#plugins" target="_blank" rel="noopener noreferrer">《MyBatis 官方文档 —— 插件》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <hr> <p>插件的详细解析，可以看看 <a href="http://svip.iocoder.cn/MyBatis/plugin-1" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— 插件体系（一）之原理》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-是如何进行分页的-分页插件的原理是什么"><a href="#mybatis-是如何进行分页的-分页插件的原理是什么" class="header-anchor">#</a> Mybatis 是如何进行分页的？分页插件的原理是什么？</h2> <p>Mybatis 使用 RowBounds 对象进行分页，它是针对 ResultSet 结果集执行的<strong>内存分页</strong>，而非<strong>数据库分页</strong>。</p> <p>所以，实际场景下，不适合直接使用 MyBatis 原有的 RowBounds 对象进行分页。而是使用如下两种方案：</p> <ul><li>在 SQL 内直接书写带有数据库分页的参数来完成数据库分页功能</li> <li>也可以使用分页插件来完成数据库分页。</li></ul> <p>这两者都是基于数据库分页，差别在于前者是工程师<strong>手动</strong>编写分页条件，后者是插件<strong>自动</strong>添加分页条件。</p> <hr> <p>分页插件的基本原理是使用 Mybatis 提供的插件接口，实现自定义分页插件。在插件的拦截方法内，拦截待执行的 SQL ，然后重写 SQL ，根据dialect 方言，添加对应的物理分页语句和物理分页参数。</p> <p>举例：<code>SELECT * FROM student</code> ，拦截 SQL 后重写为：<code>select * FROM student LIMI 0，10</code> 。</p> <p>目前市面上目前使用比较广泛的 MyBatis 分页插件有：</p> <ul><li><a href="https://github.com/pagehelper/Mybatis-PageHelper" target="_blank" rel="noopener noreferrer">Mybatis-PageHelper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noopener noreferrer">MyBatis-Plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>从现在看来，<a href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noopener noreferrer">MyBatis-Plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 逐步使用的更加广泛。</p> <p>关于 MyBatis 分页插件的原理深入，可以看看 <a href="http://svip.iocoder.cn/MyBatis/plugin-2" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码分析 —— 插件体系（二）之 PageHelper》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="mybatis-与-hibernate-有哪些不同"><a href="#mybatis-与-hibernate-有哪些不同" class="header-anchor">#</a> MyBatis 与 Hibernate 有哪些不同？</h2> <p>Mybatis 和 Hibernate 不同，它<strong>不完全是</strong>一个 ORM 框架，因为MyBatis 需要程序员自己编写 SQL 语句。不过 MyBatis 可以通过 XML 或注解方式灵活配置要运行的 SQL 语句，并将 Java 对象和 SQL 语句映射生成最终执行的 SQL ，最后将 SQL 执行的结果再映射生成 Java 对象。</p> <p>Mybatis 学习门槛低，简单易学，程序员直接编写原生态 SQL ，可严格控制 SQL 执行性能，灵活度高。但是灵活的前提是 MyBatis 无法做到数据库无关性，如果需要实现支持多种数据库的软件则需要自定义多套 SQL 映射文件，工作量大。</p> <p>Hibernate 对象/关系映射能力强，数据库无关性好。如果用 Hibernate 开发可以节省很多代码，提高效率。但是 Hibernate 的缺点是学习门槛高，要精通门槛更高，而且怎么设计 O/R 映射，在性能和对象模型之间如何权衡，以及怎样用好 Hibernate 需要具有很强的经验和能力才行。</p> <p>总之，按照用户的需求在有限的资源环境下只要能做出维护性、扩展性良好的软件架构都是好架构，所以框架只有适合才是最好。简单总结如下：</p> <ul><li>Hibernate 属于全自动 ORM 映射工具，使用 Hibernate 查询关联对象或者关联集合对象时，可以根据对象关系模型直接获取。</li> <li>Mybatis 属于半自动 ORM 映射工具，在查询关联对象或关联集合对象时，需要手动编写 SQL 来完成。</li></ul> <p>另外，在 <a href="https://www.jianshu.com/p/96171e647885" target="_blank" rel="noopener noreferrer">《浅析 Mybatis 与 Hibernate 的区别与用途》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文章，也是写的非常不错的。</p> <p>当然，实际上，MyBatis 也可以搭配自动生成代码的工具，提升开发效率，还可以使用 <a href="http://mp.baomidou.com/" target="_blank" rel="noopener noreferrer">MyBatis-Plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 框架，已经内置常用的 SQL 操作，也是非常不错的。</p> <h2 id="jdbc-编程有哪些不足之处-mybatis是如何解决这些问题的"><a href="#jdbc-编程有哪些不足之处-mybatis是如何解决这些问题的" class="header-anchor">#</a> JDBC 编程有哪些不足之处，MyBatis是如何解决这些问题的？</h2> <p>问题一：SQL 语句写在代码中造成代码不易维护，且代码会比较混乱。</p> <p>解决方式：将 SQL 语句配置在 Mapper XML 文件中，与 Java 代码分离。</p> <hr> <p>问题二：根据参数不同，拼接不同的 SQL 语句非常麻烦。例如 SQL 语句的 WHERE 条件不一定，可能多也可能少，占位符需要和参数一一对应。</p> <p>解决方式：MyBatis 提供 <code>&lt;where /&gt;</code>、<code>&lt;if /&gt;</code> 等等动态语句所需要的标签，并支持 OGNL 表达式，简化了动态 SQL 拼接的代码，提升了开发效率。</p> <hr> <p>问题三，对结果集解析麻烦，SQL 变化可能导致解析代码变化，且解析前需要遍历。</p> <p>解决方式：Mybatis 自动将 SQL 执行结果映射成 Java 对象。</p> <hr> <p>问题四，数据库链接创建、释放频繁造成系统资源浪费从而影响系统性能，如果使用数据库链接池可解决此问题。</p> <p>解决方式：在 <code>mybatis-config.xml</code> 中，配置数据链接池，使用连接池管理数据库链接。</p> <p>😈 当然，即使不使用 MyBatis ，也可以使用数据库连接池。
另外，MyBatis 默认提供了数据库连接池的实现，只是说，因为其它开源的数据库连接池性能更好，所以一般很少使用 MyBatis 自带的连接池实现。</p> <h2 id="mybatis-比-ibatis-比较大的几个改进是什么"><a href="#mybatis-比-ibatis-比较大的几个改进是什么" class="header-anchor">#</a> Mybatis 比 IBatis 比较大的几个改进是什么？</h2> <blockquote><p>这是一个选择性了解的问题，因为可能现在很多面试官，都没用过 IBatis 框架。</p></blockquote> <ol><li>有接口绑定，包括注解绑定 SQL 和 XML 绑定 SQL 。</li> <li>动态 SQL 由原来的节点配置变成 OGNL 表达式。</li> <li>在一对一或一对多的时候，引进了 <code>association</code> ，在一对多的时候，引入了 <code>collection</code>节点，不过都是在 <code>&lt;resultMap /&gt;</code> 里面配置。</li></ol> <h2 id="mybatis-映射文件中-如果-a-标签通过-include-引用了b标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在a标签的前面"><a href="#mybatis-映射文件中-如果-a-标签通过-include-引用了b标签的内容-请问-b-标签能否定义在-a-标签的后面-还是说必须定义在a标签的前面" class="header-anchor">#</a> Mybatis 映射文件中，如果 A 标签通过 include 引用了B标签的内容，请问，B 标签能否定义在 A 标签的后面，还是说必须定义在A标签的前面？</h2> <blockquote><p>老这道题目，已经和源码实现，有点关系了。</p></blockquote> <p>虽然 Mybatis 解析 XML 映射文件是<strong>按照顺序</strong>解析的。但是，被引用的 B 标签依然可以定义在任何地方，Mybatis 都可以正确识别。<strong>也就是说，无需按照顺序，进行定义</strong>。</p> <p>原理是，Mybatis 解析 A 标签，发现 A 标签引用了 B 标签，但是 B 标签尚未解析到，尚不存在，此时，Mybatis 会将 A 标签标记为<strong>未解析状态</strong>。然后，继续解析余下的标签，包含 B 标签，待所有标签解析完毕，Mybatis 会重新解析那些被标记为未解析的标签，此时再解析A标签时，B 标签已经存在，A 标签也就可以正常解析完成了。</p> <p>可能有一些绕，胖友可以看看 <a href="http://svip.iocoder.cn/MyBatis/builder-package-1" target="_blank" rel="noopener noreferrer">《精尽 MyBatis 源码解析 —— MyBatis 初始化（一）之加载 mybatis-config》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <p>此处，我们在引申一个问题，Spring IOC 中，存在互相依赖的 Bean 对象，该如何解决呢？答案见 <a href="http://svip.iocoder.cn/Spring/IoC-get-Bean-createBean-5/" target="_blank" rel="noopener noreferrer">《【死磕 Spring】—— IoC 之加载 Bean：创建 Bean（五）之循环依赖处理》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <h2 id="简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系"><a href="#简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系" class="header-anchor">#</a> 简述 Mybatis 的 XML 映射文件和 Mybatis 内部数据结构之间的映射关系？</h2> <blockquote><p>老这道题目，已经和源码实现，有点关系了。</p></blockquote> <p>Mybatis 将所有 XML 配置信息都封装到 All-In-One 重量级对象Configuration内部。</p> <p>在 XML Mapper 文件中：</p> <ul><li><code>&lt;parameterMap&gt;</code> 标签，会被解析为 ParameterMap 对象，其每个子元素会被解析为 ParameterMapping 对象。</li> <li><code>&lt;resultMap&gt;</code> 标签，会被解析为 ResultMap 对象，其每个子元素会被解析为 ResultMapping 对象。</li> <li>每一个 <code>&lt;select&gt;</code>、<code>&lt;insert&gt;</code>、<code>&lt;update&gt;</code>、<code>&lt;delete&gt;</code> 标签，均会被解析为一个 MappedStatement 对象，标签内的 SQL 会被解析为一个 BoundSql 对象。</li></ul> <h2 id="参考与推荐如下文章"><a href="#参考与推荐如下文章" class="header-anchor">#</a> 参考与推荐如下文章：</h2> <ul><li>祖大俊 <a href="https://my.oschina.net/zudajun/blog/747682" target="_blank" rel="noopener noreferrer">《Mybatis3.4.x技术内幕（二十三）：Mybatis面试问题集锦（大结局）》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Java3y <a href="https://segmentfault.com/a/1190000013678579" target="_blank" rel="noopener noreferrer">《Mybatis 常见面试题》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Homiss <a href="https://github.com/Homiss/Java-interview-questions/blob/master/%E6%A1%86%E6%9E%B6/MyBatis%E9%9D%A2%E8%AF%95%E9%A2%98.md" target="_blank" rel="noopener noreferrer">《MyBatis 面试题》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yong-forever/yong-forever-blog/edit/master/docs/04.更多/03.面试/10.MyBatis面试题.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/yong-forever-blog/pages/3c0dc3/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">SpringBoot面试题</div></a> <a href="/yong-forever-blog/pages/c53048/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Mysql面试题</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/yong-forever-blog/pages/3c0dc3/" class="prev">SpringBoot面试题</a></span> <span class="next"><a href="/yong-forever-blog/pages/c53048/">Mysql面试题</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/yong-forever-blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/yong-forever-blog/pages/c53048/"><div>Mysql面试题</div></a> <span>03-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/yong-forever-blog/pages/3c0dc3/"><div>SpringBoot面试题</div></a> <span>03-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/yong-forever-blog/pages/746214/"><div>Spring面试题</div></a> <span>03-05</span></dt></dl> <dl><dd></dd> <dt><a href="/yong-forever-blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:yong_forever@aliyun.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/yong-forever" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2024
    <span>Yiyong Zhan | <a href="https://gitee.com/yong-forever" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/yong-forever-blog/assets/js/app.61540ce8.js" defer></script><script src="/yong-forever-blog/assets/js/2.e7cba03d.js" defer></script><script src="/yong-forever-blog/assets/js/3.be5a514c.js" defer></script><script src="/yong-forever-blog/assets/js/71.d32a7e9c.js" defer></script>
  </body>
</html>
