<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《JavaWeb》笔记 | yong-forever&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/yong-forever-blog/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/yong-forever-blog/assets/css/0.styles.33de1b1c.css" as="style"><link rel="preload" href="/yong-forever-blog/assets/js/app.61540ce8.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/2.e7cba03d.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/3.be5a514c.js" as="script"><link rel="preload" href="/yong-forever-blog/assets/js/36.b2048811.js" as="script"><link rel="prefetch" href="/yong-forever-blog/assets/js/10.1b3f0f0e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/100.b79cf637.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/101.b39f267a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/102.6f3e1545.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/103.6019464f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/104.b6e94524.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/105.15d73ac1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/106.d4703deb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/107.cf6d6727.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/108.d457175c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/109.f79fc245.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/11.b2681599.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/110.bc495869.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/111.e0154aa0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/112.36a203d5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/113.5f16e2fa.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/114.5f0911bd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/115.1c8a7df2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/116.f940b16e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/117.8815292b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/118.c0aca63f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/119.dc00a694.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/12.5a54551f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/120.ce5b9fa2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/121.37e9bf9f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/122.ca0dbdeb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/123.ab615e6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/124.dd68e5c2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/125.31a8b242.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/126.6e6f6bf6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/127.4206a9fe.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/128.e197d232.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/129.4fcfc708.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/13.a1964649.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/130.1621e03d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/131.c75e57d9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/132.4cf6ca00.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/133.8aa8922d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/134.23fd63a4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/135.fa929d53.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/136.c3dbcfc0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/137.7381e405.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/138.680b5e55.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/139.0d339a30.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/14.67cdaae4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/140.d1990d07.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/141.a85eb3e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/142.6669aea5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/143.9406be88.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/144.cd1c833c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/145.e4908329.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/146.af9cd351.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/147.7cbd9705.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/148.2f8359ab.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/149.39c964b9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/15.e28ff222.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/150.2edc5fe0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/151.505ebc9f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/152.66029736.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/153.77b96b14.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/154.49d58388.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/155.dd3795e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/156.a045abae.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/157.e4b6f759.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/158.46af0f81.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/159.8665f021.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/16.828a21e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/160.63aa9240.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/161.0cbb13bd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/162.c2da629e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/163.17037959.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/164.84d401a3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/165.1d3b5e77.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/166.a5da2543.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/167.bd318b44.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/168.8747c65a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/169.c5799fc4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/17.6f7ac0e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/170.3a4cb9f7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/171.08ca67c0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/172.4d9efba6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/173.312ef937.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/174.a035690a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/175.8aa33f37.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/176.e200db06.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/177.637ed132.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/178.88194a7e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/179.44a8b73c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/18.b3168bb4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/180.fccf148e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/181.4a4a5a6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/182.a8b6cfbb.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/183.a9d32ac3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/184.540c264c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/185.a5afec75.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/186.62333d59.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/187.e0a69f60.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/188.82703f70.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/189.d537cbe0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/19.cd14c28c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/190.6cc54e4f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/191.daddfa5c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/192.9e30aa68.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/193.6cb9bc42.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/194.7810c6c2.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/195.e59dc288.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/196.fa8d38e5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/197.5b359936.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/198.513074e8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/199.5dff0fa8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/20.dced456a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/200.0dc6b27e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/201.d739af71.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/202.d4c4d1d1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/203.7632f828.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/204.59426f06.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/205.2c7b8b1d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/206.fd91b74f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/207.ea9c2876.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/208.3ba49cc5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/209.4c9e1548.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/21.a63af816.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/210.3d91b7f1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/211.d1658ea8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/212.21a5f6c9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/213.198ba17c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/214.cc971a61.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/215.2551bbaa.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/216.15293d3d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/217.fb384925.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/218.dd881677.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/219.64ff2e6f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/22.bc7f8215.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/220.52503d55.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/221.a57103a5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/222.3d646d24.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/223.80c881b8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/224.37f24793.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/225.beeda46b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/226.6571413d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/227.e6bce7c8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/228.02b119df.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/229.064bce27.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/23.5b8bb994.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/230.49188d34.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/231.f6fcf5ea.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/232.ee08ecc8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/233.fec10017.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/234.d59d9c7f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/235.a9fc3363.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/236.f5cb46e7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/237.0bb02b7d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/238.a1078b85.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/239.5592d144.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/24.b45707a5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/240.4ff1d7e4.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/241.50f3463d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/242.b39e58ba.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/243.f2ec6d2d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/244.22fe7586.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/245.872e98b6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/246.17c651ae.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/247.b8c4330f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/248.4f84d2c6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/249.fe390318.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/25.5532a89a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/250.751ac8f7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/251.818a742c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/252.e3fe1cd7.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/253.d00d13bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/26.dcb6a594.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/27.cd1fadca.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/28.8d75bd01.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/29.a93fab7e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/30.bdc09a5f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/31.3ab9e6b8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/32.fd7e7bdf.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/33.e2ec2722.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/34.9eaf806f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/35.6c7f488c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/37.5b1950af.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/38.f76a2c0a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/39.35e99502.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/4.7f68c7bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/40.069b8344.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/41.8e23678d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/42.9249fba3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/43.2f3a6204.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/44.85071374.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/45.950c1821.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/46.829fad5d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/47.77809037.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/48.c9133684.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/49.56da1a38.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/5.dced6ce5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/50.a166e7bf.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/51.f174feb0.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/52.798ec56d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/53.723a0225.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/54.58255563.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/55.40c3bb39.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/56.969dd19d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/57.25213bb1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/58.f2b47607.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/59.3e38129e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/6.232f8fcd.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/60.95d3735c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/61.7eaccbe1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/62.ce1257e9.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/63.7276ebb1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/64.91d550d5.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/65.44b10f7b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/66.14afcb8d.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/67.9f1ac73e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/68.3c421cdc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/69.ede88e61.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/7.a69db60e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/70.25aea6c8.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/71.d32a7e9c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/72.dc33542c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/73.c6ab9d11.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/74.a054e9d1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/75.47c602bc.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/76.b1b12a6c.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/77.36e405c3.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/78.b2d8fa01.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/79.82a0042b.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/8.0afa700f.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/80.404f17d6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/81.d6c7ee75.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/82.2d70cd0e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/83.4ae92aef.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/84.ca962558.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/85.37178f11.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/86.e0d6294e.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/87.6d2105a1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/88.7042a96a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/89.e3dd2c65.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/9.97d3521a.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/90.bc2a3190.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/91.baa2f2f6.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/92.82fe3ae1.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/93.47cfcf24.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/94.f305e568.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/95.13164362.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/96.0df202be.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/97.fe9d44de.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/98.4598be77.js"><link rel="prefetch" href="/yong-forever-blog/assets/js/99.effd5575.js">
    <link rel="stylesheet" href="/yong-forever-blog/assets/css/0.styles.33de1b1c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yong-forever-blog/" class="home-link router-link-active"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=1258225956&amp;spec=640&amp;img_type=jpg" alt="yong-forever's blog" class="logo"> <span class="site-name can-hide">yong-forever's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yong-forever-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yong-forever-blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/yong-forever-blog/server/" class="link-title router-link-active">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/test/" class="nav-link">TEST</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/docker/" class="nav-link">《docker》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/javaweb/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《JavaWeb》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/juc/" class="nav-link">《JUC》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/jvm/" class="nav-link">《JVM》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mysql/" class="nav-link">《Mysql》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/redis/" class="nav-link">《Redis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/springcloud/" class="nav-link">《SpringCloud》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/design/" class="nav-link">《设计模式》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/yong-forever-blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/yong-forever-blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/yong-forever-blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/yong-forever-blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/yong-forever-blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yong-forever-blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yong-forever/yong-forever-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="http://q.qlogo.cn/headimg_dl?dst_uin=1258225956&amp;spec=640&amp;img_type=jpg"> <div class="blogger-info"><h3>Yiyong Zhan</h3> <span>如何对世界抱有持续的爱</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/yong-forever-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yong-forever-blog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/yong-forever-blog/server/" class="link-title router-link-active">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/test/" class="nav-link">TEST</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/yong-forever-blog/server/docker/" class="nav-link">《docker》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/javaweb/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《JavaWeb》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/juc/" class="nav-link">《JUC》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/jvm/" class="nav-link">《JVM》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/mysql/" class="nav-link">《Mysql》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/redis/" class="nav-link">《Redis》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/springcloud/" class="nav-link">《SpringCloud》</a></li><li class="dropdown-subitem"><a href="/yong-forever-blog/server/design/" class="nav-link">《设计模式》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/yong-forever-blog/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/yong-forever-blog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/yong-forever-blog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/yong-forever-blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/yong-forever-blog/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yong-forever-blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yong-forever-blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yong-forever-blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yong-forever/yong-forever-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端文章</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>学习笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yong-forever-blog/server/docker/" class="sidebar-link">《docker》笔记</a></li><li><a href="/yong-forever-blog/server/javaweb/" aria-current="page" class="active sidebar-link">《JavaWeb》笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_1、基本概念" class="sidebar-link">1、基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_1-1、前言" class="sidebar-link">1.1、前言</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_1-2、web应用程序" class="sidebar-link">1.2、web应用程序</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_1-3、静态web" class="sidebar-link">1.3、静态web</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_1-4、动态web" class="sidebar-link">1.4、动态web</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_2、web服务器" class="sidebar-link">2、web服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_2-1、技术讲解" class="sidebar-link">2.1、技术讲解</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_2-2、web服务器" class="sidebar-link">2.2、web服务器</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_3、tomcat" class="sidebar-link">3、Tomcat</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_3-1、-安装tomcat" class="sidebar-link">3.1、 安装tomcat</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_3-2、tomcat启动和配置" class="sidebar-link">3.2、Tomcat启动和配置</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_3-3、配置" class="sidebar-link">3.3、配置</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_3-4、发布一个web网站" class="sidebar-link">3.4、发布一个web网站</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_4、http" class="sidebar-link">4、Http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_4-1、什么是http" class="sidebar-link">4.1、什么是HTTP</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_4-2、两个时代" class="sidebar-link">4.2、两个时代</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_4-3、http请求" class="sidebar-link">4.3、Http请求</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_4-4、http响应" class="sidebar-link">4.4、Http响应</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5、maven" class="sidebar-link">5、Maven</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-1-maven项目架构管理工具" class="sidebar-link">5.1 Maven项目架构管理工具</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-2-下载安装maven" class="sidebar-link">5.2 下载安装Maven</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-3-配置环境变量" class="sidebar-link">5.3 配置环境变量</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-4-阿里云镜像" class="sidebar-link">5.4 阿里云镜像</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-5-本地仓库" class="sidebar-link">5.5 本地仓库</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-6、在idea中使用maven" class="sidebar-link">5.6、在IDEA中使用Maven</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-7、创建一个普通的maven项目" class="sidebar-link">5.7、创建一个普通的Maven项目</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-8-标记文件夹功能" class="sidebar-link">5.8 标记文件夹功能</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-9-在-idea中配置tomcat" class="sidebar-link">5.9 在 IDEA中配置Tomcat</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-10-pom文件" class="sidebar-link">5.10 pom文件</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-12-idea操作" class="sidebar-link">5.12 IDEA操作</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_5-13-解决遇到的问题" class="sidebar-link">5.13 解决遇到的问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6、servlet" class="sidebar-link">6、Servlet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-1、servlet简介" class="sidebar-link">6.1、Servlet简介</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-2、helloservlet" class="sidebar-link">6.2、HelloServlet</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-3、servlet原理" class="sidebar-link">6.3、Servlet原理</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-4、mapping问题" class="sidebar-link">6.4、Mapping问题</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-5、servletcontext" class="sidebar-link">6.5、ServletContext</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-6、httpservletresponse" class="sidebar-link">6.6、HttpServletResponse</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_6-7、httpservletrequest" class="sidebar-link">6.7、HttpServletRequest</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_7、cookie、session" class="sidebar-link">7、Cookie、Session</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_7-1、会话" class="sidebar-link">7.1、会话</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_7-2、保存会话的两种技术" class="sidebar-link">7.2、保存会话的两种技术</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_7-3、cookie" class="sidebar-link">7.3、Cookie</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_7-4、session-重点" class="sidebar-link">7.4、Session（重点）</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8、jsp" class="sidebar-link">8、JSP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-1、什么是jsp" class="sidebar-link">8.1、什么是JSP</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-2、jsp原理" class="sidebar-link">8.2、JSP原理</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-3、jsp基础语法" class="sidebar-link">8.3、JSP基础语法</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-4、jsp指令" class="sidebar-link">8.4、JSP指令</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-5、9大内置对象" class="sidebar-link">8.5、9大内置对象</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_8-6、jsp标签、jstl标签、el表达式" class="sidebar-link">8.6、JSP标签、JSTL标签、EL表达式</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_9、javabean" class="sidebar-link">9、JavaBean</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_10、mvc三层架构" class="sidebar-link">10、MVC三层架构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_10-1、早些年" class="sidebar-link">10.1、早些年</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_10-2、mvc三层架构" class="sidebar-link">10.2、MVC三层架构</a></li></ul></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_11、filter-重点" class="sidebar-link">11、Filter （重点）</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_12、监听器" class="sidebar-link">12、监听器</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_13、过滤器、监听器常见应用" class="sidebar-link">13、过滤器、监听器常见应用</a></li><li class="sidebar-sub-header"><a href="/yong-forever-blog/server/javaweb/#_14、jdbc" class="sidebar-link">14、JDBC</a></li></ul></li><li><a href="/yong-forever-blog/server/juc/" class="sidebar-link">《JUC》笔记</a></li><li><a href="/yong-forever-blog/server/jvm/" class="sidebar-link">《JVM》笔记</a></li><li><a href="/yong-forever-blog/server/mybatis/" class="sidebar-link">《Mybatis》笔记</a></li><li><a href="/yong-forever-blog/server/Mybatis-Plus/" class="sidebar-link">《Mybatis-Plus》笔记</a></li><li><a href="/yong-forever-blog/server/mysql/" class="sidebar-link">《Mysql》笔记</a></li><li><a href="/yong-forever-blog/server/redis/" class="sidebar-link">《Redis》笔记</a></li><li><a href="/yong-forever-blog/server/springcloud/" class="sidebar-link">《SpringCloud》笔记</a></li><li><a href="/yong-forever-blog/server/design/" class="sidebar-link">《设计模式》笔记</a></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><ul class="breadcrumbs" data-v-70a2d273><li data-v-70a2d273><a href="/yong-forever-blog/" title="首页" class="iconfont icon-home router-link-active" data-v-70a2d273></a></li> <li data-v-70a2d273><a href="/yong-forever-blog/categories/?category=%E5%90%8E%E7%AB%AF" title="分类" data-v-70a2d273>后端</a></li> <li data-v-70a2d273><a href="/yong-forever-blog/categories/?category=%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" title="分类" data-v-70a2d273>学习笔记</a></li> <!----></ul> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://gitee.com/yong-forever" target="_blank" title="作者" class="beLink" data-v-70a2d273>yong</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2021-04-23</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          《JavaWeb》笔记
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="javaweb"><a href="#javaweb" class="header-anchor">#</a> JavaWeb</h1> <p>Java    Web</p> <h2 id="_1、基本概念"><a href="#_1、基本概念" class="header-anchor">#</a> 1、基本概念</h2> <h3 id="_1-1、前言"><a href="#_1-1、前言" class="header-anchor">#</a> 1.1、前言</h3> <p>web开发：</p> <ul><li>web，网页的意思  ， www.baidu.com</li> <li>静态web
<ul><li>html，css</li> <li>提供给所有人看的数据始终不会发生变化！</li></ul></li> <li>动态web
<ul><li>淘宝，几乎是所有的网站；</li> <li>提供给所有人看的数据始终会发生变化，每个人在不同的时间，不同的地点看到的信息各不相同！</li> <li>技术栈：Servlet/JSP，ASP，PHP</li></ul></li></ul> <p>在Java中，动态web资源开发的技术统称为JavaWeb；</p> <h3 id="_1-2、web应用程序"><a href="#_1-2、web应用程序" class="header-anchor">#</a> 1.2、web应用程序</h3> <p>web应用程序：可以提供浏览器访问的程序；</p> <ul><li>a.html、b.html......多个web资源，这些web资源可以被外界访问，对外界提供服务；</li> <li>你们能访问到的任何一个页面或者资源，都存在于这个世界的某一个角落的计算机上。</li> <li>URL</li> <li>这个统一的web资源会被放在同一个文件夹下，web应用程序--&gt;Tomcat：服务器</li> <li>一个web应用由多部分组成 （静态web，动态web）
<ul><li>html，css，js</li> <li>jsp，servlet</li> <li>Java程序</li> <li>jar包</li> <li>配置文件 （Properties）</li></ul></li></ul> <p>web应用程序编写完毕后，若想提供给外界访问：需要一个服务器来统一管理；</p> <h3 id="_1-3、静态web"><a href="#_1-3、静态web" class="header-anchor">#</a> 1.3、静态web</h3> <ul><li>*.htm, *.html,这些都是网页的后缀，如果服务器上一直存在这些东西，我们就可以直接进行读取。通络；</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567822802516-1638967703884.png" alt="1567822802516"></p> <ul><li>静态web存在的缺点
<ul><li>Web页面无法动态更新，所有用户看到都是同一个页面
<ul><li>轮播图，点击特效：伪动态</li> <li>JavaScript [实际开发中，它用的最多]</li> <li>VBScript</li></ul></li> <li>它无法和数据库交互（数据无法持久化，用户无法交互）</li></ul></li></ul> <h3 id="_1-4、动态web"><a href="#_1-4、动态web" class="header-anchor">#</a> 1.4、动态web</h3> <p>页面会动态展示： “Web的页面展示的效果因人而异”；</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567823191289-1638968119306.png" alt="1567823191289"></p> <p>缺点：</p> <ul><li>加入服务器的动态web资源出现了错误，我们需要重新编写我们的<strong>后台程序</strong>,重新发布；
<ul><li>停机维护</li></ul></li></ul> <p>优点：</p> <ul><li>Web页面可以动态更新，所有用户看到都不是同一个页面</li> <li>它可以与数据库交互 （数据持久化：注册，商品信息，用户信息........）</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567823350584-1638968096607.png" alt="1567823350584"></p> <p>新手村：--魔鬼训练（分析原理，看源码）--&gt; PK场</p> <h2 id="_2、web服务器"><a href="#_2、web服务器" class="header-anchor">#</a> 2、web服务器</h2> <h3 id="_2-1、技术讲解"><a href="#_2-1、技术讲解" class="header-anchor">#</a> 2.1、技术讲解</h3> <p><strong>ASP:</strong></p> <ul><li><p>微软：国内最早流行的就是ASP；</p></li> <li><p>在HTML中嵌入了VB的脚本，  ASP + COM；</p></li> <li><p>在ASP开发中，基本一个页面都有几千行的业务代码，页面极其换乱</p></li> <li><p>维护成本高！</p></li> <li><p>C#</p></li> <li><p>IIS</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
            &lt;%
            System.out.println(&quot;hello&quot;)
            %&gt;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul> <p><strong>php：</strong></p> <ul><li>PHP开发速度很快，功能很强大，跨平台，代码很简单 （70% , WP）</li> <li>无法承载大访问量的情况（局限性）</li></ul> <p>**JSP/Servlet : **</p> <p>B/S：浏览和服务器</p> <p>C/S:  客户端和服务器</p> <ul><li>sun公司主推的B/S架构</li> <li>基于Java语言的 (所有的大公司，或者一些开源的组件，都是用Java写的)</li> <li>可以承载三高问题带来的影响；</li> <li>语法像ASP ， ASP--&gt;JSP , 加强市场强度；</li></ul> <p>.....</p> <h3 id="_2-2、web服务器"><a href="#_2-2、web服务器" class="header-anchor">#</a> 2.2、web服务器</h3> <p>服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应信息；</p> <p><strong>IIS</strong></p> <p>微软的； ASP...,Windows中自带的</p> <p><strong>Tomcat</strong></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567824446428-1638968092762.png" alt="1567824446428"></p> <p>面向百度编程；</p> <p>Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，因为Tomcat 技术先进、性能稳定，而且<strong>免费</strong>，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web 应用服务器。</p> <p>Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8" target="_blank" rel="noopener noreferrer">服务器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。对于一个Java初学web的人来说，它是最佳的选择</p> <p>Tomcat 实际上运行JSP 页面和Servlet。Tomcat最新版本为<strong>9.0。</strong></p> <p>....</p> <p><strong>工作3-5年之后，可以尝试手写Tomcat服务器；</strong></p> <p>下载tomcat：</p> <ol><li>安装 or  解压</li> <li>了解配置文件及目录结构</li> <li>这个东西的作用</li></ol> <h2 id="_3、tomcat"><a href="#_3、tomcat" class="header-anchor">#</a> 3、Tomcat</h2> <h3 id="_3-1、-安装tomcat"><a href="#_3-1、-安装tomcat" class="header-anchor">#</a> 3.1、 安装tomcat</h3> <p>tomcat官网：http://tomcat.apache.org/</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567825600842-1638968088436.png" alt="1567825600842"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567825627138-1638968085122.png" alt="1567825627138"></p> <h3 id="_3-2、tomcat启动和配置"><a href="#_3-2、tomcat启动和配置" class="header-anchor">#</a> 3.2、Tomcat启动和配置</h3> <p>文件夹作用：</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567825763180-1638968081596.png" alt="1567825763180"></p> <p><strong>启动。关闭Tomcat</strong></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567825840657-1638968078529.png" alt="1567825840657"></p> <p>访问测试：http://localhost:8080/</p> <p>可能遇到的问题：</p> <ol><li>Java环境变量没有配置</li> <li>闪退问题：需要配置兼容性</li> <li>乱码问题：配置文件中设置</li></ol> <h3 id="_3-3、配置"><a href="#_3-3、配置" class="header-anchor">#</a> 3.3、配置</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567825967256-1638968073836.png" alt="1567825967256"></p> <p>可以配置启动的端口号</p> <ul><li>tomcat的默认端口号为：8080</li> <li>mysql：3306</li> <li>http：80</li> <li>https：443</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8081<span class="token punctuation">&quot;</span></span> <span class="token attr-name">protocol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>HTTP/1.1<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name">connectionTimeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20000<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name">redirectPort</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8443<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以配置主机的名称</p> <ul><li>默认的主机名为：localhost-&gt;127.0.0.1</li> <li>默认网站应用存放的位置为：webapps</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Host</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.qinjiang.com<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">appBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>webapps<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">unpackWARs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autoDeploy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="高难度面试题"><a href="#高难度面试题" class="header-anchor">#</a> 高难度面试题：</h4> <p>请你谈谈网站是如何进行访问的！</p> <ol><li><p>输入一个域名；回车</p></li> <li><p>检查本机的 C:\Windows\System32\drivers\etc\hosts配置文件下有没有这个域名映射；</p> <ol><li><p>有：直接返回对应的ip地址，这个地址中，有我们需要访问的web程序，可以直接访问</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>       www<span class="token punctuation">.</span>yong<span class="token operator">-</span>forever<span class="token punctuation">.</span>com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>没有：去DNS服务器找，找到的话就返回，找不到就返回找不到；</p></li></ol> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567827057913-1638968041484.png" alt="1567827057913"></p></li> <li><p>可以配置一下环境变量（可选性）</p></li></ol> <h3 id="_3-4、发布一个web网站"><a href="#_3-4、发布一个web网站" class="header-anchor">#</a> 3.4、发布一个web网站</h3> <p>不会就先模仿</p> <ul><li>将自己写的网站，放到服务器(Tomcat)中指定的web应用的文件夹（webapps）下，就可以访问了</li></ul> <p>网站应该有的结构</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">--</span>webapps ：<span class="token class-name">Tomcat</span>服务器的web目录
	<span class="token operator">-</span><span class="token constant">ROOT</span>
	<span class="token operator">-</span>kuangstudy ：网站的目录名
		<span class="token operator">-</span> <span class="token constant">WEB</span><span class="token operator">-</span><span class="token constant">INF</span>
			<span class="token operator">-</span>classes <span class="token operator">:</span> java程序
			<span class="token operator">-</span>lib：web应用所依赖的jar包
			<span class="token operator">-</span>web<span class="token punctuation">.</span>xml ：网站配置文件
		<span class="token operator">-</span> index<span class="token punctuation">.</span>html 默认的首页
		<span class="token operator">-</span> <span class="token keyword">static</span> 
            <span class="token operator">-</span>css
            	<span class="token operator">-</span>style<span class="token punctuation">.</span>css
            <span class="token operator">-</span>js
            <span class="token operator">-</span>img
         <span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>HTTP协议 ： 面试</p> <p>Maven：构建工具</p> <ul><li>Maven安装包</li></ul> <p>Servlet 入门</p> <ul><li>HelloWorld！</li> <li>Servlet配置</li> <li>原理</li></ul> <h2 id="_4、http"><a href="#_4、http" class="header-anchor">#</a> 4、Http</h2> <h3 id="_4-1、什么是http"><a href="#_4-1、什么是http" class="header-anchor">#</a> 4.1、什么是HTTP</h3> <p>HTTP（超文本传输协议）是一个简单的请求-响应协议，它通常运行在TCP之上。</p> <ul><li>文本：html，字符串，~ ….</li> <li>超文本：图片，音乐，视频，定位，地图…….</li> <li>80</li></ul> <p>Https：安全的</p> <ul><li>443</li></ul> <h3 id="_4-2、两个时代"><a href="#_4-2、两个时代" class="header-anchor">#</a> 4.2、两个时代</h3> <ul><li><p>http1.0</p> <ul><li>HTTP/1.0：客户端可以与web服务器连接后，只能获得一个web资源，断开连接</li></ul></li> <li><p>http2.0</p> <ul><li>HTTP/1.1：客户端可以与web服务器连接后，可以获得多个web资源。‘</li></ul></li></ul> <h3 id="_4-3、http请求"><a href="#_4-3、http请求" class="header-anchor">#</a> 4.3、Http请求</h3> <ul><li>客户端---发请求（Request）---服务器</li></ul> <p>百度：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Request</span> <span class="token constant">URL</span><span class="token operator">:</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span>   请求地址
<span class="token class-name">Request</span> <span class="token class-name">Method</span><span class="token operator">:</span><span class="token constant">GET</span>    get方法<span class="token operator">/</span>post方法
<span class="token class-name">Status</span> <span class="token class-name">Code</span><span class="token operator">:</span><span class="token number">200</span> <span class="token constant">OK</span>    状态码：<span class="token number">200</span>
<span class="token class-name">Remote</span>（远程） <span class="token class-name">Address</span><span class="token operator">:</span><span class="token number">14.215</span><span class="token number">.177</span><span class="token number">.39</span><span class="token operator">:</span><span class="token number">443</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Accept</span><span class="token operator">:</span>text<span class="token operator">/</span>html  
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span>gzip<span class="token punctuation">,</span> deflate<span class="token punctuation">,</span> br
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Language</span><span class="token operator">:</span>zh<span class="token operator">-</span><span class="token constant">CN</span><span class="token punctuation">,</span>zh<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.9</span>    语言
<span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span><span class="token operator">:</span>max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">0</span>
<span class="token class-name">Connection</span><span class="token operator">:</span>keep<span class="token operator">-</span>alive
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_1、请求行"><a href="#_1、请求行" class="header-anchor">#</a> 1、请求行</h4> <ul><li>请求行中的请求方式：GET</li> <li>请求方式：<strong>Get，Post</strong>，HEAD,DELETE,PUT,TRACT…
<ul><li>get：请求能够携带的参数比较少，大小有限制，会在浏览器的URL地址栏显示数据内容，不安全，但高效</li> <li>post：请求能够携带的参数没有限制，大小没有限制，不会在浏览器的URL地址栏显示数据内容，安全，但不高效。</li></ul></li></ul> <h4 id="_2、消息头"><a href="#_2、消息头" class="header-anchor">#</a> 2、消息头</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Accept</span>：告诉浏览器，它所支持的数据类型
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Encoding</span>：支持哪种编码格式  <span class="token constant">GBK</span>   <span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span>   <span class="token constant">GB2312</span>  <span class="token constant">ISO8859</span><span class="token operator">-</span><span class="token number">1</span>
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Language</span>：告诉浏览器，它的语言环境
<span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span>：缓存控制
<span class="token class-name">Connection</span>：告诉浏览器，请求完成是断开还是保持连接
<span class="token constant">HOST</span>：主机<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>/<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-4、http响应"><a href="#_4-4、http响应" class="header-anchor">#</a> 4.4、Http响应</h3> <ul><li>服务器---响应-----客户端</li></ul> <p>百度：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span><span class="token operator">:</span><span class="token keyword">private</span>    缓存控制
<span class="token class-name">Connection</span><span class="token operator">:</span><span class="token class-name">Keep</span><span class="token operator">-</span><span class="token class-name">Alive</span>    连接
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Encoding</span><span class="token operator">:</span>gzip    编码
<span class="token class-name">Content</span><span class="token operator">-</span><span class="token class-name">Type</span><span class="token operator">:</span>text<span class="token operator">/</span>html   类型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1-响应体"><a href="#_1-响应体" class="header-anchor">#</a> 1.响应体</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Accept</span>：告诉浏览器，它所支持的数据类型
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Encoding</span>：支持哪种编码格式  <span class="token constant">GBK</span>   <span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span>   <span class="token constant">GB2312</span>  <span class="token constant">ISO8859</span><span class="token operator">-</span><span class="token number">1</span>
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Language</span>：告诉浏览器，它的语言环境
<span class="token class-name">Cache</span><span class="token operator">-</span><span class="token class-name">Control</span>：缓存控制
<span class="token class-name">Connection</span>：告诉浏览器，请求完成是断开还是保持连接
<span class="token constant">HOST</span>：主机<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>/<span class="token punctuation">.</span>
<span class="token class-name">Refresh</span>：告诉客户端，多久刷新一次；
<span class="token class-name">Location</span>：让网页重新定位；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2、响应状态码"><a href="#_2、响应状态码" class="header-anchor">#</a> 2、响应状态码</h4> <p>200：请求响应成功  200</p> <p>3xx：请求重定向</p> <ul><li>重定向：你重新到我给你新位置去；</li></ul> <p>4xx：找不到资源   404</p> <ul><li>资源不存在；</li></ul> <p>5xx：服务器代码错误   500       502:网关错误</p> <p><strong>常见面试题：</strong></p> <p>当你的浏览器中地址栏输入地址并回车的一瞬间到页面能够展示回来，经历了什么？</p> <h2 id="_5、maven"><a href="#_5、maven" class="header-anchor">#</a> 5、Maven</h2> <p><strong>我为什么要学习这个技术？</strong></p> <ol><li><p>在Javaweb开发中，需要使用大量的jar包，我们手动去导入；</p></li> <li><p>如何能够让一个东西自动帮我导入和配置这个jar包。</p> <p>由此，Maven诞生了！</p></li></ol> <h3 id="_5-1-maven项目架构管理工具"><a href="#_5-1-maven项目架构管理工具" class="header-anchor">#</a> 5.1 Maven项目架构管理工具</h3> <p>我们目前用来就是方便导入jar包的！</p> <p>Maven的核心思想：<strong>约定大于配置</strong></p> <ul><li>有约束，不要去违反。</li></ul> <p>Maven会规定好你该如何去编写我们的Java代码，必须要按照这个规范来；</p> <h3 id="_5-2-下载安装maven"><a href="#_5-2-下载安装maven" class="header-anchor">#</a> 5.2 下载安装Maven</h3> <p>官网;https://maven.apache.org/</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567842350606-1638968038380.png" alt="1567842350606"></p> <p>下载完成后，解压即可；</p> <p>小狂神友情建议：电脑上的所有环境都放在一个文件夹下，方便管理；</p> <h3 id="_5-3-配置环境变量"><a href="#_5-3-配置环境变量" class="header-anchor">#</a> 5.3 配置环境变量</h3> <p>在我们的系统环境变量中</p> <p>配置如下配置：</p> <ul><li>M2_HOME     maven目录下的bin目录</li> <li>MAVEN_HOME      maven的目录</li> <li>在系统的path中配置  %MAVEN_HOME%\bin</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567842882993-1638968034994.png" alt="1567842882993"></p> <p>测试Maven是否安装成功，保证必须配置完毕！</p> <h3 id="_5-4-阿里云镜像"><a href="#_5-4-阿里云镜像" class="header-anchor">#</a> 5.4 阿里云镜像</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567844609399-1638968031374.png" alt="1567844609399"></p> <ul><li>镜像：mirrors
<ul><li>作用：加速我们的下载</li></ul></li> <li>国内建议使用阿里云的镜像</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus-aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*,!jeecg,!jeecg-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5-5-本地仓库"><a href="#_5-5-本地仓库" class="header-anchor">#</a> 5.5 本地仓库</h3> <p>在本地的仓库，远程仓库；</p> <p>**建立一个本地仓库：**localRepository</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>D:\Environment\apache-maven-3.6.2\maven-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_5-6、在idea中使用maven"><a href="#_5-6、在idea中使用maven" class="header-anchor">#</a> 5.6、在IDEA中使用Maven</h3> <ol><li><p>启动IDEA</p></li> <li><p>创建一个MavenWeb项目</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567844785602-1638968027674.png" alt="1567844785602"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567844841172-1638968023967.png" alt="1567844841172"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567844917185-1638968021178.png" alt="1567844917185"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567844956177-1638968017144.png" alt="1567844956177"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845029864-1638968012377.png" alt="1567845029864"></p></li> <li><p>等待项目初始化完毕</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845105970-1638968008656.png" alt="1567845105970"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845137978-1638968004898.png" alt="1567845137978"></p></li> <li><p>观察maven仓库中多了什么东西？</p></li> <li><p>IDEA中的Maven设置</p> <p>注意：IDEA项目创建成功后，看一眼Maven的配置</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845341956-1638968002117.png" alt="1567845341956"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845413672-1638967999146.png" alt="1567845413672"></p></li> <li><p>到这里，Maven在IDEA中的配置和使用就OK了!</p></li></ol> <h3 id="_5-7、创建一个普通的maven项目"><a href="#_5-7、创建一个普通的maven项目" class="header-anchor">#</a> 5.7、创建一个普通的Maven项目</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845557744-1638967996480.png" alt="1567845557744"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845717377-1638967992882.png" alt="1567845717377"></p> <p>这个只有在Web应用下才会有！</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845782034-1638967989693.png" alt="1567845782034"></p> <h3 id="_5-8-标记文件夹功能"><a href="#_5-8-标记文件夹功能" class="header-anchor">#</a> 5.8 标记文件夹功能</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845910728-1638967985955.png" alt="1567845910728"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567845957139-1638967983365.png" alt="1567845957139"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846034906-1638967980898.png" alt="1567846034906"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846073511-1638967978362.png" alt="1567846073511"></p> <h3 id="_5-9-在-idea中配置tomcat"><a href="#_5-9-在-idea中配置tomcat" class="header-anchor">#</a> 5.9 在 IDEA中配置Tomcat</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846140348-1638967975235.png" alt="1567846140348"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846179573-1638967972535.png" alt="1567846179573"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846234175-1638967969856.png" alt="1567846234175"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846369751-1638967965170.png" alt="1567846369751"></p> <p>解决警告问题</p> <p>必须要的配置：<strong>为什么会有这个问题：我们访问一个网站，需要指定一个文件夹名字；</strong></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846421963-1638967961732.png" alt="1567846421963"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846546465-1638967958553.png" alt="1567846546465"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846559111-1638967955677.png" alt="1567846559111"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846640372-1638967950183.png" alt="1567846640372"></p> <h3 id="_5-10-pom文件"><a href="#_5-10-pom文件" class="header-anchor">#</a> 5.10 pom文件</h3> <p>pom.xml 是Maven的核心配置文件</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567846784849-1638967946772.png" alt="1567846784849"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="token comment">&lt;!--Maven版本和头文件--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--这里就是我们刚才配置的GAV--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.kuang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javaweb-01-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--Package：项目的打包方式
  jar：java应用
  war：JavaWeb应用
  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>


  <span class="token comment">&lt;!--配置--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--项目的默认构建编码--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--编码版本--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--项目依赖--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--具体依赖的jar包配置文件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--项目构建用的东西--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>javaweb-01-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-clean-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-install-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-deploy-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567847410771-1638967935800.png" alt="1567847410771"></p> <p>maven由于他的约定大于配置，我们之后可以能遇到我们写的配置文件，无法被导出或者生效的问题，解决方案：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--在build中配置resources，来防止我们资源导出失败的问题--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_5-12-idea操作"><a href="#_5-12-idea操作" class="header-anchor">#</a> 5.12 IDEA操作</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567847630808-1638967930310.png" alt="1567847630808"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567847662429-1638967925657.png" alt="1567847662429"></p> <h3 id="_5-13-解决遇到的问题"><a href="#_5-13-解决遇到的问题" class="header-anchor">#</a> 5.13 解决遇到的问题</h3> <ol><li><p>Maven 3.6.2</p> <p>解决方法：降级为3.6.1</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567904721301-1638967918299.png" alt="1567904721301"></p></li> <li><p>Tomcat闪退</p></li> <li><p>IDEA中每次都要重复配置Maven
在IDEA中的全局默认配置中去配置</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567905247201-1638967912787.png" alt="1567905247201"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567905291002-1638967909453.png" alt="1567905291002"></p></li> <li><p>Maven项目中Tomcat无法配置</p></li> <li><p>maven默认web项目中的web.xml版本问题</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567905537026-1638967906057.png" alt="1567905537026"></p></li> <li><p>替换为webapp4.0版本和tomcat一致</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee
                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>Maven仓库的使用</p> <p>地址：https://mvnrepository.com/</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567905870750-1638967901435.png" alt="1567905870750"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567905982979-1638967896768.png" alt="1567905982979"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567906017448-1638967892761.png" alt="1567906017448"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567906039469-1638967888817.png" alt="1567906039469"></p></li></ol> <h2 id="_6、servlet"><a href="#_6、servlet" class="header-anchor">#</a> 6、Servlet</h2> <h3 id="_6-1、servlet简介"><a href="#_6-1、servlet简介" class="header-anchor">#</a> 6.1、Servlet简介</h3> <ul><li>Servlet就是sun公司开发动态web的一门技术</li> <li>Sun在这些API中提供一个接口叫做：Servlet，如果你想开发一个Servlet程序，只需要完成两个小步骤：
<ul><li>编写一个类，实现Servlet接口</li> <li>把开发好的Java类部署到web服务器中。</li></ul></li></ul> <p><strong>把实现了Servlet接口的Java程序叫做，Servlet</strong></p> <h3 id="_6-2、helloservlet"><a href="#_6-2、helloservlet" class="header-anchor">#</a> 6.2、HelloServlet</h3> <p>Serlvet接口Sun公司有两个默认的实现类：HttpServlet，GenericServlet</p> <ol><li><p>构建一个普通的Maven项目，删掉里面的src目录，以后我们的学习就在这个项目里面建立Moudel；这个空的工程就是Maven主工程；</p></li> <li><p>关于Maven父子工程的理解：</p> <p>父项目中会有</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>servlet-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>子项目会有</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javaweb-02-servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.kuang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>父项目中的java子项目可以直接使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>son <span class="token keyword">extends</span> father
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Maven环境优化</p> <ol><li>修改web.xml为最新的</li> <li>将maven的结构搭建完整</li></ol></li> <li><p>编写一个Servlet程序</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567911804700-1638967885509.png" alt="1567911804700"></p> <ol><li><p>编写一个普通类</p></li> <li><p>实现Servlet接口，这里我们直接继承HttpServlet</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    
    <span class="token comment">//由于get或者post只是请求实现的不同的方式，可以相互调用，业务逻辑都一样；</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//ServletOutputStream outputStream = resp.getOutputStream();</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//响应流</span>
        writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello,Serlvet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ol></li> <li><p>编写Servlet的映射</p> <p>为什么需要映射：我们写的是JAVA程序，但是要通过浏览器访问，而浏览器需要连接web服务器，所以我们需要再web服务中注册我们写的Servlet，还需给他一个浏览器能够访问的路径；</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>
    <span class="token comment">&lt;!--注册Servlet--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.kuang.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--Servlet的请求路径--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>配置Tomcat</p> <p>注意：配置项目发布的路径就可以了</p></li> <li><p>启动测试，OK！</p></li></ol> <h3 id="_6-3、servlet原理"><a href="#_6-3、servlet原理" class="header-anchor">#</a> 6.3、Servlet原理</h3> <p>Servlet是由Web服务器调用，web服务器在收到浏览器请求之后，会：</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567913793252-1638967880918.png" alt="1567913793252"></p> <h3 id="_6-4、mapping问题"><a href="#_6-4、mapping问题" class="header-anchor">#</a> 6.4、Mapping问题</h3> <ol><li><p>一个Servlet可以指定一个映射路径</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>一个Servlet可以指定多个映射路径</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li> <li><p>一个Servlet可以指定通用映射路径</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>默认请求路径</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token comment">&lt;!--默认请求路径--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>指定一些后缀或者前缀等等….</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>
<span class="token comment">&lt;!--可以自定义后缀实现请求映射
    注意点，*前面不能加项目映射的路径
    hello/sajdlkajda.qinjiang
    --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.qinjiang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>优先级问题
指定了固有的映射路径优先级最高，如果找不到就会走默认的处理请求；</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--404--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.kuang.servlet.ErrorServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ol> <h3 id="_6-5、servletcontext"><a href="#_6-5、servletcontext" class="header-anchor">#</a> 6.5、ServletContext</h3> <p>web容器在启动的时候，它会为每个web程序都创建一个对应的ServletContext对象，它代表了当前的web应用；</p> <h4 id="_1、共享数据"><a href="#_1、共享数据" class="header-anchor">#</a> 1、共享数据</h4> <p>我在这个Servlet中保存的数据，可以在另外一个servlet中拿到；</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        
        <span class="token comment">//this.getInitParameter()   初始化参数</span>
        <span class="token comment">//this.getServletConfig()   Servlet配置</span>
        <span class="token comment">//this.getServletContext()  Servlet上下文</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;秦疆&quot;</span><span class="token punctuation">;</span> <span class="token comment">//数据</span>
        context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将一个数据保存在了ServletContext中，名字为：username 。值 username</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;名字&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-XML line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.kuang.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>getc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.kuang.servlet.GetServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>getc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/getc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>测试访问结果；</p> <h4 id="_2、获取初始化参数"><a href="#_2、获取初始化参数" class="header-anchor">#</a> 2、获取初始化参数</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token comment">&lt;!--配置一些web应用初始化参数--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>jdbc:mysql://localhost:3306/mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3、请求转发"><a href="#_3、请求转发" class="header-anchor">#</a> 3、请求转发</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;进入了ServletDemo04&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/gp&quot;); //转发的请求路径</span>
    <span class="token comment">//requestDispatcher.forward(req,resp); //调用forward实现请求转发；</span>
    context<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/gp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567924457532-1638967877451.png" alt="1567924457532"></p> <h4 id="_4、读取资源文件"><a href="#_4、读取资源文件" class="header-anchor">#</a> 4、读取资源文件</h4> <p>Properties</p> <ul><li>在java目录下新建properties</li> <li>在resources目录下新建properties</li></ul> <p>发现：都被打包到了同一个路径下：classes，我们俗称这个路径为classpath:</p> <p>思路：需要一个文件流；</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root12312</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">zxczxczxc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo05</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/classes/com/kuang/servlet/aa.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> user <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> pwd <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>user<span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>访问测试即可ok；</p> <h3 id="_6-6、httpservletresponse"><a href="#_6-6、httpservletresponse" class="header-anchor">#</a> 6.6、HttpServletResponse</h3> <p>web服务器接收到客户端的http请求，针对这个请求，分别创建一个代表请求的HttpServletRequest对象，代表响应的一个HttpServletResponse；</p> <ul><li>如果要获取客户端请求过来的参数：找HttpServletRequest</li> <li>如果要给客户端响应一些信息：找HttpServletResponse</li></ul> <h4 id="_1、简单分类"><a href="#_1、简单分类" class="header-anchor">#</a> 1、简单分类</h4> <p>负责向浏览器发送数据的方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ServletOutputStream</span> <span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token class-name">PrintWriter</span> <span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>负责向浏览器发送响应头的方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">void</span> <span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setContentLength</span><span class="token punctuation">(</span><span class="token keyword">int</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setContentLengthLong</span><span class="token punctuation">(</span><span class="token keyword">long</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">addDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token class-name">String</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token class-name">String</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">setIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">int</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">addIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">,</span> <span class="token keyword">int</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>响应的状态码</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">int</span> <span class="token constant">SC_CONTINUE</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_SWITCHING_PROTOCOLS</span> <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_CREATED</span> <span class="token operator">=</span> <span class="token number">201</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_ACCEPTED</span> <span class="token operator">=</span> <span class="token number">202</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NON_AUTHORITATIVE_INFORMATION</span> <span class="token operator">=</span> <span class="token number">203</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NO_CONTENT</span> <span class="token operator">=</span> <span class="token number">204</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_RESET_CONTENT</span> <span class="token operator">=</span> <span class="token number">205</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_PARTIAL_CONTENT</span> <span class="token operator">=</span> <span class="token number">206</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_MULTIPLE_CHOICES</span> <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_MOVED_PERMANENTLY</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_MOVED_TEMPORARILY</span> <span class="token operator">=</span> <span class="token number">302</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_FOUND</span> <span class="token operator">=</span> <span class="token number">302</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_SEE_OTHER</span> <span class="token operator">=</span> <span class="token number">303</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NOT_MODIFIED</span> <span class="token operator">=</span> <span class="token number">304</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_USE_PROXY</span> <span class="token operator">=</span> <span class="token number">305</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_TEMPORARY_REDIRECT</span> <span class="token operator">=</span> <span class="token number">307</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_BAD_REQUEST</span> <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_UNAUTHORIZED</span> <span class="token operator">=</span> <span class="token number">401</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_PAYMENT_REQUIRED</span> <span class="token operator">=</span> <span class="token number">402</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_FORBIDDEN</span> <span class="token operator">=</span> <span class="token number">403</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NOT_FOUND</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_METHOD_NOT_ALLOWED</span> <span class="token operator">=</span> <span class="token number">405</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NOT_ACCEPTABLE</span> <span class="token operator">=</span> <span class="token number">406</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_PROXY_AUTHENTICATION_REQUIRED</span> <span class="token operator">=</span> <span class="token number">407</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_REQUEST_TIMEOUT</span> <span class="token operator">=</span> <span class="token number">408</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_CONFLICT</span> <span class="token operator">=</span> <span class="token number">409</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_GONE</span> <span class="token operator">=</span> <span class="token number">410</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_LENGTH_REQUIRED</span> <span class="token operator">=</span> <span class="token number">411</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_PRECONDITION_FAILED</span> <span class="token operator">=</span> <span class="token number">412</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_REQUEST_ENTITY_TOO_LARGE</span> <span class="token operator">=</span> <span class="token number">413</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_REQUEST_URI_TOO_LONG</span> <span class="token operator">=</span> <span class="token number">414</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_UNSUPPORTED_MEDIA_TYPE</span> <span class="token operator">=</span> <span class="token number">415</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_REQUESTED_RANGE_NOT_SATISFIABLE</span> <span class="token operator">=</span> <span class="token number">416</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_EXPECTATION_FAILED</span> <span class="token operator">=</span> <span class="token number">417</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_INTERNAL_SERVER_ERROR</span> <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_NOT_IMPLEMENTED</span> <span class="token operator">=</span> <span class="token number">501</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_BAD_GATEWAY</span> <span class="token operator">=</span> <span class="token number">502</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_SERVICE_UNAVAILABLE</span> <span class="token operator">=</span> <span class="token number">503</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_GATEWAY_TIMEOUT</span> <span class="token operator">=</span> <span class="token number">504</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token constant">SC_HTTP_VERSION_NOT_SUPPORTED</span> <span class="token operator">=</span> <span class="token number">505</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h4 id="_2、下载文件"><a href="#_2、下载文件" class="header-anchor">#</a> 2、下载文件</h4> <ol><li>向浏览器输出消息 （一直在讲，就不说了）</li> <li>下载文件
<ol><li>要获取下载文件的路径</li> <li>下载的文件名是啥？</li> <li>设置想办法让浏览器能够支持下载我们需要的东西</li> <li>获取下载文件的输入流</li> <li>创建缓冲区</li> <li>获取OutputStream对象</li> <li>将FileOutputStream流写入到buffer缓冲区</li> <li>使用OutputStream将缓冲区中的数据输出到客户端！</li></ol></li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 要获取下载文件的路径</span>
    <span class="token class-name">String</span> realPath <span class="token operator">=</span> <span class="token string">&quot;F:\\班级管理\\西开【19525】\\2、代码\\JavaWeb\\javaweb-02-servlet\\response\\target\\classes\\秦疆.png&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下载文件的路径：&quot;</span><span class="token operator">+</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 下载的文件名是啥？</span>
    <span class="token class-name">String</span> fileName <span class="token operator">=</span> realPath<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>realPath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;\\&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 设置想办法让浏览器能够支持(Content-Disposition)下载我们需要的东西,中文文件名URLEncoder.encode编码，否则有可能乱码</span>
    resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment;filename=&quot;</span><span class="token operator">+</span><span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. 获取下载文件的输入流</span>
    <span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 5. 创建缓冲区</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 6. 获取OutputStream对象</span>
    <span class="token class-name">ServletOutputStream</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 7. 将FileOutputStream流写入到buffer缓冲区,使用OutputStream将缓冲区中的数据输出到客户端！</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_3、验证码功能"><a href="#_3、验证码功能" class="header-anchor">#</a> 3、验证码功能</h4> <p>验证怎么来的？</p> <ul><li>前端实现</li> <li>后端实现，需要用到 Java 的图片类，生产一个图片</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">//如何让浏览器3秒自动刷新一次;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//在内存中创建一个图片</span>
        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token class-name">BufferedImage</span><span class="token punctuation">.</span><span class="token constant">TYPE_INT_RGB</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//得到图片</span>
        <span class="token class-name">Graphics2D</span> g <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span> image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//笔</span>
        <span class="token comment">//设置图片的背景颜色</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给图片写数据</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">BOLD</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//告诉浏览器，这个请求用图片的方式打开</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//网站存在缓存，不让浏览器缓存</span>
        resp<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">&quot;expires&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Cache-Control&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Pragma&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//把图片写给浏览器</span>
        <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//生成随机数</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> num <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">9999999</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token operator">-</span>num<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        num <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> num<span class="token punctuation">;</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h4 id="_4、实现重定向"><a href="#_4、实现重定向" class="header-anchor">#</a> 4、实现重定向</h4> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567931587955-1638967874061.png" alt="1567931587955"></p> <p>B一个web资源收到客户端A请求后，B他会通知A客户端去访问另外一个web资源C，这个过程叫重定向</p> <p>常见场景：</p> <ul><li>用户登录</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token class-name">String</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>测试：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">/*
        resp.setHeader(&quot;Location&quot;,&quot;/r/img&quot;);
        resp.setStatus(302);
         */</span>
    resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/r/img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//重定向</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>面试题：请你聊聊重定向和转发的区别？</p> <p>相同点</p> <ul><li>页面都会实现跳转</li></ul> <p>不同点</p> <ul><li>请求转发的时候，url不会产生变化</li> <li>重定向时候，url地址栏会发生变化；</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567932163430-1638967871031.png" alt="1567932163430"></p> <h4 id="_5、简单实现登录重定向"><a href="#_5、简单实现登录重定向" class="header-anchor">#</a> 5、简单实现登录重定向</h4> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%--这里提交的路径，需要寻找到项目的路径--%&gt;
&lt;%--${pageContext.request.contextPath}代表当前的项目--%&gt;

&lt;form action=&quot;${pageContext.request.contextPath}/login&quot; method=&quot;get&quot;&gt;
    用户名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; &lt;br&gt;
    密码：&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; &lt;br&gt;
    &lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-JAVA line-numbers-mode"><pre class="language-java"><code>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//处理请求</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//重定向时候一定要注意，路径问题，否则404；</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/r/success.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-xml line-numbers-mode"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>requset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.kuang.servlet.RequestTest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>requset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;Success&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-7、httpservletrequest"><a href="#_6-7、httpservletrequest" class="header-anchor">#</a> 6.7、HttpServletRequest</h3> <p>HttpServletRequest代表客户端的请求，用户通过Http协议访问服务器，HTTP请求中的所有信息会被封装到HttpServletRequest，通过这个HttpServletRequest的方法，获得客户端的所有信息；</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567933996830-1638967868082.png" alt="1567933996830"></p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567934023106-1638967863611.png" alt="1567934023106"></p> <h4 id="获取参数-请求转发"><a href="#获取参数-请求转发" class="header-anchor">#</a> 获取参数，请求转发</h4> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1567934110794-1638967859875.png" alt="1567934110794"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobbys <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;hobbys&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;=============================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//后台接收中文乱码问题</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>hobbys<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;=============================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//通过请求转发</span>
    <span class="token comment">//这里的 / 代表当前的web应用</span>
    req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/success.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>面试题：请你聊聊重定向和转发的区别？</strong></p> <p>相同点</p> <ul><li>页面都会实现跳转</li></ul> <p>不同点</p> <ul><li>请求转发的时候，url不会产生变化   307</li> <li>重定向时候，url地址栏会发生变化； 302</li></ul> <h2 id="_7、cookie、session"><a href="#_7、cookie、session" class="header-anchor">#</a> 7、Cookie、Session</h2> <h3 id="_7-1、会话"><a href="#_7-1、会话" class="header-anchor">#</a> 7.1、会话</h3> <p><strong>会话</strong>：用户打开一个浏览器，点击了很多超链接，访问多个web资源，关闭浏览器，这个过程可以称之为会话；</p> <p><strong>有状态会话</strong>：一个同学来过教室，下次再来教室，我们会知道这个同学，曾经来过，称之为有状态会话；</p> <p><strong>你能怎么证明你是西开的学生？</strong></p> <p>你              西开</p> <ol><li>发票                西开给你发票</li> <li>学校登记        西开标记你来过了</li></ol> <p><strong>一个网站，怎么证明你来过？</strong></p> <p>客户端              服务端</p> <ol><li>服务端给客户端一个 信件，客户端下次访问服务端带上信件就可以了； cookie</li> <li>服务器登记你来过了，下次你来的时候我来匹配你； seesion</li></ol> <h3 id="_7-2、保存会话的两种技术"><a href="#_7-2、保存会话的两种技术" class="header-anchor">#</a> 7.2、保存会话的两种技术</h3> <p><strong>cookie</strong></p> <ul><li>客户端技术   （响应，请求）</li></ul> <p><strong>session</strong></p> <ul><li>服务器技术，利用这个技术，可以保存用户的会话信息？ 我们可以把信息或者数据放在Session中！</li></ul> <p>常见常见：网站登录之后，你下次不用再登录了，第二次访问直接就上去了！</p> <h3 id="_7-3、cookie"><a href="#_7-3、cookie" class="header-anchor">#</a> 7.3、Cookie</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568344447291-1638967856880.png" alt="1568344447291"></p> <ol><li>从请求中拿到cookie信息</li> <li>服务器响应给客户端cookie</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获得Cookie</span>
cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获得cookie中的key</span>
cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获得cookie中的vlaue</span>
<span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;lastLoginTime&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//新建一个cookie</span>
cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置cookie的有效期</span>
resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//响应给客户端一个cookie</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>cookie：一般会保存在本地的 用户目录下 appdata；</strong></p> <p>一个网站cookie是否存在上限！<strong>聊聊细节问题</strong></p> <ul><li>一个Cookie只能保存一个信息；</li> <li>一个web站点可以给浏览器发送多个cookie，最多存放20个cookie；</li> <li>Cookie大小有限制4kb；</li> <li>300个cookie浏览器上限</li></ul> <p><strong>删除Cookie；</strong></p> <ul><li>不设置有效期，关闭浏览器，自动失效；</li> <li>设置有效期时间为 0 ；</li></ul> <p><strong>编码解码：</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;秦疆&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_7-4、session-重点"><a href="#_7-4、session-重点" class="header-anchor">#</a> 7.4、Session（重点）</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568344560794-1638967852997.png" alt="1568344560794"></p> <p>什么是Session：</p> <ul><li>服务器会给每一个用户（浏览器）创建一个Seesion对象；</li> <li>一个Seesion独占一个浏览器，只要浏览器没有关闭，这个Session就存在；</li> <li>用户登录之后，整个网站它都可以访问！--&gt; 保存用户的信息；保存购物车的信息…..</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568342773861-1638967849002.png" alt="1568342773861"></p> <p>Session和cookie的区别：</p> <ul><li>Cookie是把用户的数据写给用户的浏览器，浏览器保存 （可以保存多个）</li> <li>Session把用户的数据写到用户独占Session中，服务器端保存  （保存重要的信息，减少服务器资源的浪费）</li> <li>Session对象由服务创建；</li></ul> <p>使用场景：</p> <ul><li>保存一个登录用户的信息；</li> <li>购物车信息；</li> <li>在整个网站中经常会使用的数据，我们将它保存在Session中；</li></ul> <p>使用Session：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Person</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        
        <span class="token comment">//解决乱码问题</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//得到Session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给Session中存东西</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;秦疆&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取Session的ID</span>
        <span class="token class-name">String</span> sessionId <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//判断Session是不是新创建</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">isNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;session创建成功,ID:&quot;</span><span class="token operator">+</span>sessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;session以及在服务器中存在了,ID:&quot;</span><span class="token operator">+</span>sessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//Session创建的时候做了什么事情；</span>
<span class="token comment">//        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;,sessionId);</span>
<span class="token comment">//        resp.addCookie(cookie);</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//得到Session</span>
<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//手动注销Session</span>
session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><strong>会话自动过期：web.xml配置</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--设置Session默认的失效时间--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--15分钟后Session自动失效，以分钟为单位--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">&gt;</span></span>15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568344679763-1638967845205.png" alt="1568344679763"></p> <h2 id="_8、jsp"><a href="#_8、jsp" class="header-anchor">#</a> 8、JSP</h2> <h3 id="_8-1、什么是jsp"><a href="#_8-1、什么是jsp" class="header-anchor">#</a> 8.1、什么是JSP</h3> <p>Java Server Pages ： Java服务器端页面，也和Servlet一样，用于动态Web技术！</p> <p>最大的特点：</p> <ul><li>写JSP就像在写HTML</li> <li>区别：
<ul><li>HTML只给用户提供静态的数据</li> <li>JSP页面中可以嵌入JAVA代码，为用户提供动态数据；</li></ul></li></ul> <h3 id="_8-2、jsp原理"><a href="#_8-2、jsp原理" class="header-anchor">#</a> 8.2、JSP原理</h3> <p>思路：JSP到底怎么执行的！</p> <ul><li><p>代码层面没有任何问题</p></li> <li><p>服务器内部工作</p> <p>tomcat中有一个work目录；</p> <p>IDEA中使用Tomcat的会在IDEA的tomcat中生产一个work目录</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568345873736-1638967840432.png" alt="1568345873736"></p> <p>我电脑的地址：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Users</span>\<span class="token class-name">Administrator</span>\<span class="token punctuation">.</span>IntelliJIdea2018<span class="token punctuation">.</span><span class="token number">1</span>\system\tomcat\<span class="token class-name">Unnamed_javaweb</span><span class="token operator">-</span>session<span class="token operator">-</span>cookie\work\<span class="token class-name">Catalina</span>\localhost\<span class="token constant">ROOT</span>\org\apache\jsp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>发现页面转变成了Java程序！</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568345948307-1638967836144.png" alt="1568345948307"></p></li></ul> <p><strong>浏览器向服务器发送请求，不管访问什么资源，其实都是在访问Servlet！</strong></p> <p>JSP最终也会被转换成为一个Java类！</p> <p><strong>JSP 本质上就是一个Servlet</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//初始化</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
  <span class="token punctuation">}</span>
<span class="token comment">//销毁</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token comment">//JSPService</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspService</span><span class="token punctuation">(</span><span class="token punctuation">.</span>HttpServletRequest request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
      
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol><li><p>判断请求</p></li> <li><p>内置一些对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span>PageContext</span> pageContext<span class="token punctuation">;</span>  <span class="token comment">//页面上下文</span>
<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpSession</span> session <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">//session</span>
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletContext</span> application<span class="token punctuation">;</span>   <span class="token comment">//applicationContext</span>
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletConfig</span> config<span class="token punctuation">;</span>         <span class="token comment">//config</span>
<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span>JspWriter</span> out <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>           <span class="token comment">//out</span>
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span> page <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>               <span class="token comment">//page：当前</span>
<span class="token class-name">HttpServletRequest</span> request                        <span class="token comment">//请求</span>
<span class="token class-name">HttpServletResponse</span> response                      <span class="token comment">//响应</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>输出页面前增加的代码</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//设置响应的页面类型</span>
pageContext <span class="token operator">=</span> _jspxFactory<span class="token punctuation">.</span><span class="token function">getPageContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span>
                                          <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">8192</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
_jspx_page_context <span class="token operator">=</span> pageContext<span class="token punctuation">;</span>
application <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
_jspx_out <span class="token operator">=</span> out<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>以上的这些个对象我们可以在JSP页面中直接使用！</p></li></ol> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568347078207-1638967831149.png" alt="1568347078207"></p> <p>在JSP页面中；</p> <p>只要是 JAVA代码就会原封不动的输出；</p> <p>如果是HTML代码，就会被转换为：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;html&gt;\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的格式，输出到前端！</p> <h3 id="_8-3、jsp基础语法"><a href="#_8-3、jsp基础语法" class="header-anchor">#</a> 8.3、JSP基础语法</h3> <p>任何语言都有自己的语法，JAVA中有,。 JSP 作为java技术的一种应用，它拥有一些自己扩充的语法（了解，知道即可！），Java所有语法都支持！</p> <h4 id="jsp表达式"><a href="#jsp表达式" class="header-anchor">#</a> <strong>JSP表达式</strong></h4> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>  &lt;%--JSP表达式
  作用：用来将程序的输出，输出到客户端
  &lt;%= 变量或者表达式%&gt;
  --%&gt;
  &lt;%= new java.util.Date()%&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="jsp脚本片段"><a href="#jsp脚本片段" class="header-anchor">#</a> <strong>jsp脚本片段</strong></h4> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>
  &lt;%--jsp脚本片段--%&gt;
  &lt;%
    int sum = 0;
    for (int i = 1; i &lt;=100 ; i++) {
      sum+=i;
    }
    out.println(&quot;&lt;h1&gt;Sum=&quot;+sum+&quot;&lt;/h1&gt;&quot;);
  %&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>脚本片段的再实现</strong></p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>  &lt;%
    int x = 10;
    out.println(x);
  %&gt;
  &lt;p&gt;这是一个JSP文档&lt;/p&gt;
  &lt;%
    int y = 2;
    out.println(y);
  %&gt;

  &lt;hr&gt;


  &lt;%--在代码嵌入HTML元素--%&gt;
  &lt;%
    for (int i = 0; i &lt; 5; i++) {
  %&gt;
    &lt;h1&gt;Hello,World  &lt;%=i%&gt; &lt;/h1&gt;
  &lt;%
    }
  %&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="jsp声明"><a href="#jsp声明" class="header-anchor">#</a> JSP声明</h4> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>  &lt;%!
    static {
      System.out.println(&quot;Loading Servlet!&quot;);
    }

    private int globalVar = 0;

    public void kuang(){
      System.out.println(&quot;进入了方法Kuang！&quot;);
    }
  %&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>JSP声明：会被编译到JSP生成Java的类中！其他的，就会被生成到_jspService方法中！</p> <p>在JSP，嵌入Java代码即可！</p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%%&gt;
&lt;%=%&gt;
&lt;%!%&gt;

&lt;%--注释--%&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>JSP的注释，不会在客户端显示，HTML就会！</p> <h3 id="_8-4、jsp指令"><a href="#_8-4、jsp指令" class="header-anchor">#</a> 8.4、JSP指令</h3> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%@page args.... %&gt;
&lt;%@include file=&quot;&quot;%&gt;

&lt;%--@include会将两个页面合二为一--%&gt;

&lt;%@include file=&quot;common/header.jsp&quot;%&gt;
&lt;h1&gt;网页主体&lt;/h1&gt;

&lt;%@include file=&quot;common/footer.jsp&quot;%&gt;

&lt;hr&gt;


&lt;%--jSP标签
    jsp:include：拼接页面，本质还是三个
    --%&gt;
&lt;jsp:include page=&quot;/common/header.jsp&quot;/&gt;
&lt;h1&gt;网页主体&lt;/h1&gt;
&lt;jsp:include page=&quot;/common/footer.jsp&quot;/&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_8-5、9大内置对象"><a href="#_8-5、9大内置对象" class="header-anchor">#</a> 8.5、9大内置对象</h3> <ul><li>PageContext    存东西</li> <li>Request     存东西</li> <li>Response</li> <li>Session      存东西</li> <li>Application   【SerlvetContext】   存东西</li> <li>config    【SerlvetConfig】</li> <li>out</li> <li>page ，不用了解</li> <li>exception</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>pageContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆1号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存的数据只在一个页面中有效</span>
request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆2号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存的数据只在一次请求中有效，请求转发会携带这个数据</span>
session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆3号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存的数据只在一次会话中有效，从打开浏览器到关闭浏览器</span>
application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;name4&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆4号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//保存的数据只在服务器中有效，从打开服务器到关闭服务器</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>request：客户端向服务器发送请求，产生的数据，用户看完就没用了，比如：新闻，用户看完没用的！</p> <p>session：客户端向服务器发送请求，产生的数据，用户用完一会还有用，比如：购物车；</p> <p>application：客户端向服务器发送请求，产生的数据，一个用户用完了，其他用户还可能使用，比如：聊天数据；</p> <h3 id="_8-6、jsp标签、jstl标签、el表达式"><a href="#_8-6、jsp标签、jstl标签、el表达式" class="header-anchor">#</a> 8.6、JSP标签、JSTL标签、EL表达式</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- JSTL表达式的依赖 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp.jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- standard标签库 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>EL表达式：  ${ }</p> <ul><li><strong>获取数据</strong></li> <li><strong>执行运算</strong></li> <li><strong>获取web开发的常用对象</strong></li></ul> <p><strong>JSP标签</strong></p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%--jsp:include--%&gt;

&lt;%--
http://localhost:8080/jsptag.jsp?name=kuangshen&amp;age=12
--%&gt;

&lt;jsp:forward page=&quot;/jsptag2.jsp&quot;&gt;
    &lt;jsp:param name=&quot;name&quot; value=&quot;kuangshen&quot;&gt;&lt;/jsp:param&gt;
    &lt;jsp:param name=&quot;age&quot; value=&quot;12&quot;&gt;&lt;/jsp:param&gt;
&lt;/jsp:forward&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>JSTL表达式</strong></p> <p>JSTL标签库的使用就是为了弥补HTML标签的不足；它自定义许多标签，可以供我们使用，标签的功能和Java代码一样！</p> <p><strong>格式化标签</strong></p> <p><strong>SQL标签</strong></p> <p><strong>XML 标签</strong></p> <p><strong>核心标签</strong> （掌握部分）</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568362473764-1638967827680.png" alt="1568362473764"></p> <p><strong>JSTL标签库使用步骤</strong></p> <ul><li>引入对应的 taglib</li> <li>使用其中的方法</li> <li><strong>在Tomcat 也需要引入 jstl的包，否则会报错：JSTL解析错误</strong></li></ul> <p>c：if</p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;


&lt;h4&gt;if测试&lt;/h4&gt;

&lt;hr&gt;

&lt;form action=&quot;coreif.jsp&quot; method=&quot;get&quot;&gt;
    &lt;%--
    EL表达式获取表单中的数据
    ${param.参数名}
    --%&gt;
    &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;${param.username}&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;
&lt;/form&gt;

&lt;%--判断如果提交的用户名是管理员，则登录成功--%&gt;
&lt;c:if test=&quot;${param.username=='admin'}&quot; var=&quot;isAdmin&quot;&gt;
    &lt;c:out value=&quot;管理员欢迎您！&quot;/&gt;
&lt;/c:if&gt;

&lt;%--自闭合标签--%&gt;
&lt;c:out value=&quot;${isAdmin}&quot;/&gt;

&lt;/body&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>c:choose   c:when</p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;body&gt;

&lt;%--定义一个变量score，值为85--%&gt;
&lt;c:set var=&quot;score&quot; value=&quot;55&quot;/&gt;

&lt;c:choose&gt;
    &lt;c:when test=&quot;${score&gt;=90}&quot;&gt;
        你的成绩为优秀
    &lt;/c:when&gt;
    &lt;c:when test=&quot;${score&gt;=80}&quot;&gt;
        你的成绩为一般
    &lt;/c:when&gt;
    &lt;c:when test=&quot;${score&gt;=70}&quot;&gt;
        你的成绩为良好
    &lt;/c:when&gt;
    &lt;c:when test=&quot;${score&lt;=60}&quot;&gt;
        你的成绩为不及格
    &lt;/c:when&gt;
&lt;/c:choose&gt;

&lt;/body&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>c:forEach</p> <div class="language-jsp line-numbers-mode"><pre class="language-text"><code>&lt;%

    ArrayList&lt;String&gt; people = new ArrayList&lt;&gt;();
    people.add(0,&quot;张三&quot;);
    people.add(1,&quot;李四&quot;);
    people.add(2,&quot;王五&quot;);
    people.add(3,&quot;赵六&quot;);
    people.add(4,&quot;田六&quot;);
    request.setAttribute(&quot;list&quot;,people);
%&gt;


&lt;%--
var , 每一次遍历出来的变量
items, 要遍历的对象
begin,   哪里开始
end,     到哪里
step,   步长
--%&gt;
&lt;c:forEach var=&quot;people&quot; items=&quot;${list}&quot;&gt;
    &lt;c:out value=&quot;${people}&quot;/&gt; &lt;br&gt;
&lt;/c:forEach&gt;

&lt;hr&gt;

&lt;c:forEach var=&quot;people&quot; items=&quot;${list}&quot; begin=&quot;1&quot; end=&quot;3&quot; step=&quot;1&quot; &gt;
    &lt;c:out value=&quot;${people}&quot;/&gt; &lt;br&gt;
&lt;/c:forEach&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_9、javabean"><a href="#_9、javabean" class="header-anchor">#</a> 9、JavaBean</h2> <p>实体类</p> <p>JavaBean有特定的写法：</p> <ul><li>必须要有一个无参构造</li> <li>属性必须私有化</li> <li>必须有对应的get/set方法；</li></ul> <p>一般用来和数据库的字段做映射  ORM；</p> <p>ORM ：对象关系映射</p> <ul><li>表---&gt;类</li> <li>字段--&gt;属性</li> <li>行记录----&gt;对象</li></ul> <p><strong>people表</strong></p> <table><thead><tr><th>id</th> <th>name</th> <th>age</th> <th>address</th></tr></thead> <tbody><tr><td>1</td> <td>秦疆1号</td> <td>3</td> <td>西安</td></tr> <tr><td>2</td> <td>秦疆2号</td> <td>18</td> <td>西安</td></tr> <tr><td>3</td> <td>秦疆3号</td> <td>100</td> <td>西安</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆1号&quot;</span><span class="token punctuation">,</span><span class="token number">3</span>，<span class="token string">&quot;西安&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆2号&quot;</span><span class="token punctuation">,</span><span class="token number">3</span>，<span class="token string">&quot;西安&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;秦疆3号&quot;</span><span class="token punctuation">,</span><span class="token number">3</span>，<span class="token string">&quot;西安&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>过滤器</li> <li>文件上传</li> <li>邮件发送</li> <li>JDBC 复习 ： 如何使用JDBC ,  JDBC crud， jdbc 事务</li></ul> <h2 id="_10、mvc三层架构"><a href="#_10、mvc三层架构" class="header-anchor">#</a> 10、MVC三层架构</h2> <p>什么是MVC：  Model     view     Controller  模型、视图、控制器</p> <h3 id="_10-1、早些年"><a href="#_10-1、早些年" class="header-anchor">#</a> 10.1、早些年</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568423664332-1638967824233.png" alt="1568423664332"></p> <p>用户直接访问控制层，控制层就可以直接操作数据库；</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>servlet<span class="token operator">--</span><span class="token constant">CRUD</span><span class="token operator">--</span><span class="token operator">&gt;</span>数据库
弊端：程序十分臃肿，不利于维护  
servlet的代码中：处理请求、响应、视图跳转、处理<span class="token constant">JDBC</span>、处理业务代码、处理逻辑代码

架构：没有什么是加一层解决不了的！
程序猿调用
<span class="token operator">|</span>
<span class="token constant">JDBC</span>
<span class="token operator">|</span>
<span class="token class-name">Mysql</span> <span class="token class-name">Oracle</span> <span class="token class-name">SqlServer</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_10-2、mvc三层架构"><a href="#_10-2、mvc三层架构" class="header-anchor">#</a> 10.2、MVC三层架构</h3> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568424227281-1638967821153.png" alt="1568424227281"></p> <p>Model</p> <ul><li>业务处理 ：业务逻辑（Service）</li> <li>数据持久层：CRUD   （Dao）</li></ul> <p>View</p> <ul><li>展示数据</li> <li>提供链接发起Servlet请求 （a，form，img…）</li></ul> <p>Controller  （Servlet）</p> <ul><li><p>接收用户的请求 ：（req：请求参数、Session信息….）</p></li> <li><p>交给业务层处理对应的代码</p></li> <li><p>控制视图的跳转</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>登录<span class="token operator">--</span><span class="token operator">-&gt;</span>接收用户的登录请求<span class="token operator">--</span><span class="token operator">-&gt;</span>处理用户的请求（获取用户登录的参数，username，password）<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>交给业务层处理登录业务（判断用户名密码是否正确：事务）<span class="token operator">--</span><span class="token operator">-&gt;</span><span class="token class-name">Dao</span>层查询用户名和密码是否正确<span class="token operator">--</span><span class="token operator">&gt;</span>数据库
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="_11、filter-重点"><a href="#_11、filter-重点" class="header-anchor">#</a> 11、Filter （重点）</h2> <p>Filter：过滤器 ，用来过滤网站的数据；</p> <ul><li>处理中文乱码</li> <li>登录验证….</li></ul> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568424858708-1638967816802.png" alt="1568424858708"></p> <p>Filter开发步骤：</p> <ol><li><p>导包</p></li> <li><p>编写过滤器</p> <ol><li><p>导包不要错</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568425162525-1638967811677.png" alt="1568425162525"></p> <p>实现Filter接口，重写对应的方法即可</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token comment">//初始化：web服务器启动，就以及初始化了，随时等待过滤对象出现！</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter初始化&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Chain : 链</span>
    <span class="token comment">/*
    1. 过滤中的所有代码，在过滤特定请求的时候都会执行
    2. 必须要让过滤器继续同行
        chain.doFilter(request,response);
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter执行前....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//让我们的请求继续走，如果不写，程序到这里就被拦截停止！</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter执行后....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//销毁：web服务器关闭的时候，过滤会销毁</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter销毁&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li></ol></li> <li><p>在web.xml中配置 Filter</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.kuang.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--只要是 /servlet的任何请求，会经过这个过滤器--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servlet/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--&lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ol> <h2 id="_12、监听器"><a href="#_12、监听器" class="header-anchor">#</a> 12、监听器</h2> <p>实现一个监听器的接口；（有N种）</p> <ol><li><p>编写一个监听器</p> <p>实现监听器的接口…</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//统计网站在线人数 ： 统计session</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OnlineCountListener</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionListener</span> <span class="token punctuation">{</span>

    <span class="token comment">//创建session监听： 看你的一举一动</span>
    <span class="token comment">//一旦创建Session就会触发一次这个事件！</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionCreated</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletContext</span> ctx <span class="token operator">=</span> se<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>se<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Integer</span> onlineCount <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;OnlineCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>onlineCount<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> onlineCount<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        ctx<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;OnlineCount&quot;</span><span class="token punctuation">,</span>onlineCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">//销毁session监听</span>
    <span class="token comment">//一旦销毁Session就会触发一次这个事件！</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionDestroyed</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ServletContext</span> ctx <span class="token operator">=</span> se<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Integer</span> onlineCount <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;OnlineCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>onlineCount<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> onlineCount<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        ctx<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;OnlineCount&quot;</span><span class="token punctuation">,</span>onlineCount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token comment">/*
    Session销毁：
    1. 手动销毁  getSession().invalidate();
    2. 自动销毁
     */</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div></li> <li><p>web.xml中注册监听器</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--注册监听器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>com.kuang.listener.OnlineCountListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>看情况是否使用！</p></li></ol> <h2 id="_13、过滤器、监听器常见应用"><a href="#_13、过滤器、监听器常见应用" class="header-anchor">#</a> 13、过滤器、监听器常见应用</h2> <p><strong>监听器：GUI编程中经常使用；</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestPanel</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Frame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Frame</span><span class="token punctuation">(</span><span class="token string">&quot;中秋节快乐&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//新建一个窗体</span>
        <span class="token class-name">Panel</span> panel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Panel</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//面板</span>
        frame<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置窗体的布局</span>

        frame<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        frame<span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置背景颜色</span>

        panel<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置背景颜色</span>

        frame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//监听事件，监听关闭事件</span>
        frame<span class="token punctuation">.</span><span class="token function">addWindowListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WindowAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">windowClosing</span><span class="token punctuation">(</span><span class="token class-name">WindowEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">windowClosing</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>用户登录之后才能进入主页！用户注销后就不能进入主页了！</p> <ol><li><p>用户登录之后，向Sesison中放入用户的数据</p></li> <li><p>进入主页的时候要判断用户是否已经登录；要求：在过滤器中实现！</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> req<span class="token punctuation">;</span>
<span class="token class-name">HttpServletResponse</span> response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> resp<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">USER_SESSION</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/error.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol> <h2 id="_14、jdbc"><a href="#_14、jdbc" class="header-anchor">#</a> 14、JDBC</h2> <p>什么是JDBC ： Java连接数据库！</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568439601825-1638967806829.png" alt="1568439601825"></p> <p>需要jar包的支持：</p> <ul><li>java.sql</li> <li>javax.sql</li> <li>mysql-conneter-java…  连接驱动（必须要导入）</li></ul> <p><strong>实验环境搭建</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> users<span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    birthday <span class="token keyword">DATE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span>email<span class="token punctuation">,</span>birthday<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token string">'zs@qq.com'</span><span class="token punctuation">,</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span>email<span class="token punctuation">,</span>birthday<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token string">'ls@qq.com'</span><span class="token punctuation">,</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span>email<span class="token punctuation">,</span>birthday<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token string">'ww@qq.com'</span><span class="token punctuation">,</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">SELECT</span>	<span class="token operator">*</span> <span class="token keyword">FROM</span> users<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>导入数据库依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--mysql的驱动--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>IDEA中连接数据库：</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568440926845-1638967803331.png" alt="1568440926845"></p> <p><strong>JDBC 固定步骤：</strong></p> <ol><li>加载驱动</li> <li>连接数据库,代表数据库</li> <li>向数据库发送SQL的对象Statement : CRUD</li> <li>编写SQL （根据业务，不同的SQL）</li> <li>执行SQL</li> <li>关闭连接</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJdbc</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//配置信息</span>
        <span class="token comment">//useUnicode=true&amp;characterEncoding=utf-8 解决中文乱码</span>
        <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//1.加载驱动</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.连接数据库,代表数据库</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.向数据库发送SQL的对象Statement,PreparedStatement : CRUD</span>
        <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.编写SQL</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from users&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//5.执行查询SQL，返回一个 ResultSet  ： 结果集</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id=&quot;</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name=&quot;</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;password=&quot;</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;email=&quot;</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;birthday=&quot;</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;birthday&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//6.关闭连接，释放资源（一定要做） 先开后关</span>
        rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p><strong>预编译SQL</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJDBC2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//配置信息</span>
        <span class="token comment">//useUnicode=true&amp;characterEncoding=utf-8 解决中文乱码</span>
        <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//1.加载驱动</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.连接数据库,代表数据库</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.编写SQL</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into  users(id, name, password, email, birthday) values (?,?,?,?,?);&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//4.预编译</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给第一个占位符？ 的值赋值为1；</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;狂神说Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给第二个占位符？ 的值赋值为狂神说Java；</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给第三个占位符？ 的值赋值为123456；</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;24736743@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给第四个占位符？ 的值赋值为1；</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给第五个占位符？ 的值赋值为new Date(new java.util.Date().getTime())；</span>

        <span class="token comment">//5.执行SQL</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;插入成功@&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//6.关闭连接，释放资源（一定要做） 先开后关</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>事务</strong></p> <p>要么都成功，要么都失败！</p> <p>ACID原则：保证数据的安全。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>开启事务
事务提交  <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
事务回滚  <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
关闭事务

转账：
<span class="token class-name">A</span><span class="token operator">:</span><span class="token number">1000</span>
<span class="token class-name">B</span><span class="token operator">:</span><span class="token number">1000</span>
    
<span class="token class-name">A</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token number">100</span><span class="token operator">--</span><span class="token operator">&gt;</span>   <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token number">1100</span><span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Junit单元测试</strong></p> <p>依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--单元测试--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>简单使用</p> <p>@Test注解只有在方法上有效，只要加了这个注解的方法，就可以直接运行！</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568442261610-1638967723573.png" alt="1568442261610"></p> <p>失败的时候是红色：</p> <p><img src="https://gitee.com/yong-forever/image_store/raw/master/utools/1568442289597-1638967719545.png" alt="1568442289597"></p> <p><strong>搭建一个环境</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> account<span class="token punctuation">(</span>
   id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
   <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   money <span class="token keyword">FLOAT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> account<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span>money<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> account<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span>money<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> account<span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span>money<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//配置信息</span>
        <span class="token comment">//useUnicode=true&amp;characterEncoding=utf-8 解决中文乱码</span>
        <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//1.加载驱动</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2.连接数据库,代表数据库</span>
             connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//3.通知数据库开启事务,false 开启</span>
            connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update account set money = money-100 where name = 'A'&quot;</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//制造错误</span>
            <span class="token comment">//int i = 1/0;</span>

            <span class="token class-name">String</span> sql2 <span class="token operator">=</span> <span class="token string">&quot;update account set money = money+100 where name = 'B'&quot;</span><span class="token punctuation">;</span>
            connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//以上两条SQL都执行成功了，就提交事务！</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token comment">//如果出现异常，就通知数据库回滚事务</span>
                connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yong-forever/yong-forever-blog/edit/master/docs/02.后端/40.学习笔记/10.《JavaWeb》笔记.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/yong-forever-blog/tags/?tag=%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" title="标签">#学习笔记</a><a href="/yong-forever-blog/tags/?tag=java" title="标签">#java</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/07/27, 22:17:49</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/yong-forever-blog/server/docker/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">《docker》笔记</div></a> <a href="/yong-forever-blog/server/juc/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">《JUC》笔记</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/yong-forever-blog/server/docker/" class="prev">《docker》笔记</a></span> <span class="next"><a href="/yong-forever-blog/server/juc/">《JUC》笔记</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/yong-forever-blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/yong-forever-blog/pages/c53048/"><div>Mysql面试题</div></a> <span>03-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/yong-forever-blog/pages/3679e2/"><div>MyBatis面试题</div></a> <span>03-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/yong-forever-blog/pages/3c0dc3/"><div>SpringBoot面试题</div></a> <span>03-05</span></dt></dl> <dl><dd></dd> <dt><a href="/yong-forever-blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:yong_forever@aliyun.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/yong-forever" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2024
    <span>Yiyong Zhan | <a href="https://gitee.com/yong-forever" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/yong-forever-blog/assets/js/app.61540ce8.js" defer></script><script src="/yong-forever-blog/assets/js/2.e7cba03d.js" defer></script><script src="/yong-forever-blog/assets/js/3.be5a514c.js" defer></script><script src="/yong-forever-blog/assets/js/36.b2048811.js" defer></script>
  </body>
</html>
