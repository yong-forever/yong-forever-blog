(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{409:function(_,v,e){"use strict";e.r(v);var t=e(4),r=Object(t.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("p",[_._v("title: é¢è¯•é—®é¢˜é›†é”¦\ndate: 2024-02-04 09:11:55\npermalink: /pages/aea6571b7a8bae86\ncategories:")]),_._v(" "),v("ul",[v("li",[_._v("æ›´å¤š")]),_._v(" "),v("li",[_._v("é¢è¯•\ntags:")]),_._v(" "),v("li",[_._v("null\nauthor:\nname: yong-forever\nlink: https://github.com/yong-forever")])]),_._v(" "),v("h1",{attrs:{id:"å¼€å‘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘"}},[_._v("#")]),_._v(" å¼€å‘")]),_._v(" "),v("h2",{attrs:{id:"ä¸ºä»€ä¹ˆäº’è”ç½‘å…¬å¸ä¸€èˆ¬é€‰æ‹©-mysql-è€Œä¸æ˜¯-oracle"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆäº’è”ç½‘å…¬å¸ä¸€èˆ¬é€‰æ‹©-mysql-è€Œä¸æ˜¯-oracle"}},[_._v("#")]),_._v(" ä¸ºä»€ä¹ˆäº’è”ç½‘å…¬å¸ä¸€èˆ¬é€‰æ‹© MySQL è€Œä¸æ˜¯ Oracle?")]),_._v(" "),v("p",[v("strong",[_._v("å…è´¹")]),_._v("ã€æµè¡Œã€å¤Ÿç”¨ã€‚")]),_._v(" "),v("p",[_._v("ğŸ˜ˆ å½“ç„¶ï¼Œè¿™ä¸ªå›ç­”è¦ç¨å¾®æ¶¦è‰²ä¸‹ã€‚ä¸è¿‡ä¸€èˆ¬ï¼Œå¾ˆå°‘é—®è¿™ä¸ªé—®é¢˜äº†ã€‚")]),_._v(" "),v("h2",{attrs:{id:"æ•°æ®åº“çš„ä¸‰èŒƒå¼æ˜¯ä»€ä¹ˆ-ä»€ä¹ˆæ˜¯åæ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“çš„ä¸‰èŒƒå¼æ˜¯ä»€ä¹ˆ-ä»€ä¹ˆæ˜¯åæ¨¡å¼"}},[_._v("#")]),_._v(" æ•°æ®åº“çš„ä¸‰èŒƒå¼æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯åæ¨¡å¼ï¼Ÿ")]),_._v(" "),v("blockquote",[v("p",[_._v("é‡ç‚¹åœ¨äºåæ¨¡å¼çš„å›ç­”ã€‚å®é™…å¼€å‘ä¸­ï¼Œä¸ä¼šä¸¥æ ¼éµå®ˆä¸‰èŒƒå¼ã€‚")])]),_._v(" "),v("p",[_._v("èƒ–å‹ç›´æ¥çœ‹ "),v("a",{attrs:{href:"http://blog.720ui.com/2017/mysql_core_07_anti-pattern/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠæœåŠ¡ç«¯æŒ‡å— æ•°æ®å­˜å‚¨ç¯‡ | MySQLï¼ˆ07ï¼‰ èŒƒå¼ä¸åæ¨¡å¼ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("h2",{attrs:{id:"mysql-æœ‰å“ªäº›æ•°æ®ç±»å‹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-æœ‰å“ªäº›æ•°æ®ç±»å‹"}},[_._v("#")]),_._v(" MySQL æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ")]),_._v(" "),v("p",[_._v("MySQL æ”¯æŒå¤šç§ç±»å‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ã€æ—¥æœŸ/æ—¶é—´å’Œå­—ç¬¦ä¸²(å­—ç¬¦)ç±»å‹ã€‚å…·ä½“å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://www.runoob.com/mysql/mysql-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL æ•°æ®ç±»å‹ã€‹"),v("OutboundLink")],1),_._v(" æ–‡æ¡£ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("æ­£ç¡®çš„ä½¿ç”¨æ•°æ®ç±»å‹ï¼Œå¯¹æ•°æ®åº“çš„ä¼˜åŒ–æ˜¯éå¸¸é‡è¦çš„ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL ä¸­ varchar ä¸ char çš„åŒºåˆ«ï¼Ÿvarchar(50) ä¸­çš„ 50 ä»£è¡¨çš„æ¶µä¹‰ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€varchar ä¸ char çš„åŒºåˆ«ï¼Œchar æ˜¯ä¸€ç§å›ºå®šé•¿åº¦çš„ç±»å‹ï¼Œvarchar åˆ™æ˜¯ä¸€ç§å¯å˜é•¿åº¦çš„ç±»å‹ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("2ã€varchar(50) ä¸­ 50 çš„æ¶µä¹‰æœ€å¤šå­˜æ”¾ 50 ä¸ªå­—ç¬¦ã€‚varchar(50) å’Œ (200) å­˜å‚¨ hello æ‰€å ç©ºé—´ä¸€æ ·ï¼Œ")]),_._v(" "),v("p",[_._v("ä½†åè€…åœ¨æ’åºæ—¶ä¼šæ¶ˆè€—æ›´å¤šå†…å­˜ï¼Œå› ä¸º "),v("code",[_._v("ORDER BY col")]),_._v(" é‡‡ç”¨ fixed_length è®¡ç®— col é•¿åº¦(memoryå¼•æ“ä¹Ÿä¸€æ ·)")]),_._v(" "),v("p",[_._v("ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("æ‰€ä»¥ï¼Œå®é™…åœºæ™¯ä¸‹ï¼Œé€‰æ‹©åˆé€‚çš„ varchar é•¿åº¦è¿˜æ˜¯æœ‰å¿…è¦çš„ã€‚")])])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("int(11) ä¸­çš„ 11 ä»£è¡¨ä»€ä¹ˆæ¶µä¹‰ï¼Ÿ")])]),_._v(" "),v("p",[_._v("int(11) ä¸­çš„ 11 ï¼Œä¸å½±å“å­—æ®µå­˜å‚¨çš„èŒƒå›´ï¼Œåªå½±å“å±•ç¤ºæ•ˆæœã€‚å…·ä½“å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/qmhball/article/details/51544484",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ä¸­ int é•¿åº¦çš„æ„ä¹‰ã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("é‡‘é¢(é‡‘é’±)ç›¸å…³çš„æ•°æ®ï¼Œé€‰æ‹©ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("æ–¹å¼ä¸€ï¼Œä½¿ç”¨ int æˆ–è€… bigint ç±»å‹ã€‚å¦‚æœéœ€è¦å­˜å‚¨åˆ°åˆ†çš„ç»´åº¦ï¼Œéœ€è¦ *100 è¿›è¡Œæ”¾å¤§ã€‚")]),_._v(" "),v("li",[_._v("æ–¹å¼äºŒï¼Œä½¿ç”¨ decimal ç±»å‹ï¼Œé¿å…ç²¾åº¦ä¸¢å¤±ã€‚å¦‚æœä½¿ç”¨ Java è¯­è¨€æ—¶ï¼Œéœ€è¦ä½¿ç”¨ BigDecimal è¿›è¡Œå¯¹åº”ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä¸€å¼ è¡¨ï¼Œé‡Œé¢æœ‰ ID è‡ªå¢ä¸»é”®ï¼Œå½“ insert äº† 17 æ¡è®°å½•ä¹‹åï¼Œåˆ é™¤äº†ç¬¬ 15,16,17 æ¡è®°å½•ï¼Œå†æŠŠ MySQL é‡å¯ï¼Œå† insert ä¸€æ¡è®°å½•ï¼Œè¿™æ¡è®°å½•çš„ ID æ˜¯ 18 è¿˜æ˜¯ 15ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºçš„è¡¨çš„ç±»å‹æ˜¯ InnoDB ï¼Œå¦‚æœæ–°å¢ä¸€æ¡è®°å½•ï¼ˆä¸é‡å¯ MySQL çš„æƒ…å†µä¸‹ï¼‰ï¼Œè¿™æ¡è®°å½•çš„ ID æ˜¯18 ï¼›ä½†æ˜¯å¦‚æœé‡å¯ MySQL çš„è¯ï¼Œè¿™æ¡è®°å½•çš„ ID æ˜¯ 15 ã€‚å› ä¸º InnoDB è¡¨åªæŠŠè‡ªå¢ä¸»é”®çš„æœ€å¤§ ID è®°å½•åˆ°å†…å­˜ä¸­ï¼Œæ‰€ä»¥é‡å¯æ•°æ®åº“æˆ–è€…å¯¹è¡¨ OPTIMIZE æ“ä½œï¼Œéƒ½ä¼šä½¿æœ€å¤§ ID ä¸¢å¤±ã€‚")]),_._v(" "),v("li",[_._v("ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨è¡¨çš„ç±»å‹æ˜¯ MyISAM ï¼Œé‚£ä¹ˆè¿™æ¡è®°å½•çš„ ID å°±æ˜¯ 18 ã€‚å› ä¸º MyISAM è¡¨ä¼šæŠŠè‡ªå¢ä¸»é”®çš„æœ€å¤§ ID è®°å½•åˆ°æ•°æ®æ–‡ä»¶é‡Œé¢ï¼Œé‡å¯ MYSQL åï¼Œè‡ªå¢ä¸»é”®çš„æœ€å¤§ ID ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚")])]),_._v(" "),v("p",[_._v("æœ€åï¼Œè¿˜å¯ä»¥è·Ÿé¢è¯•å®˜è£…ä¸ª x ï¼Œç”Ÿäº§æ•°æ®ï¼Œä¸å»ºè®®è¿›è¡Œç‰©ç†åˆ é™¤è®°å½•ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("è¡¨ä¸­æœ‰å¤§å­—æ®µ X(ä¾‹å¦‚ï¼štext ç±»å‹)ï¼Œä¸”å­—æ®µ X ä¸ä¼šç»å¸¸æ›´æ–°ï¼Œä»¥è¯»ä¸ºä¸ºä¸»ï¼Œè¯·é—®æ‚¨æ˜¯é€‰æ‹©æ‹†æˆå­è¡¨ï¼Œè¿˜æ˜¯ç»§ç»­æ”¾ä¸€èµ·?å†™å‡ºæ‚¨è¿™æ ·é€‰æ‹©çš„ç†ç”±")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("æ‹†å¸¦æ¥çš„é—®é¢˜ï¼šè¿æ¥æ¶ˆè€— + å­˜å‚¨æ‹†åˆ†ç©ºé—´ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å¦‚æœèƒ½å®¹å¿æ‹†åˆ†å¸¦æ¥çš„ç©ºé—´é—®é¢˜ï¼Œæ‹†çš„è¯æœ€å¥½å’Œç»å¸¸è¦æŸ¥è¯¢çš„è¡¨çš„ä¸»é”®åœ¨ç‰©ç†ç»“æ„ä¸Šæ”¾ç½®åœ¨ä¸€èµ·(åˆ†åŒº) é¡ºåº IO ï¼Œå‡å°‘è¿æ¥æ¶ˆè€—ï¼Œæœ€åè¿™æ˜¯ä¸€ä¸ªæ–‡æœ¬åˆ—å†åŠ ä¸Šä¸€ä¸ªå…¨æ–‡ç´¢å¼•æ¥å°½é‡æŠµæ¶ˆè¿æ¥æ¶ˆè€—ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("ä¸æ‹†å¯èƒ½å¸¦æ¥çš„é—®é¢˜ï¼šæŸ¥è¯¢æ€§èƒ½ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å¦‚æœèƒ½å®¹å¿ä¸æ‹†åˆ†å¸¦æ¥çš„æŸ¥è¯¢æ€§èƒ½æŸå¤±çš„è¯ï¼Œä¸Šé¢çš„æ–¹æ¡ˆåœ¨æŸä¸ªæè‡´æ¡ä»¶ä¸‹è‚¯å®šä¼šå‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆä¸æ‹†å°±æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚")])])])]),_._v(" "),v("p",[_._v("å®é™…åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚è¯´å•†å“è¡¨æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œä¼šå°†å•†å“æè¿°å•ç‹¬å­˜å‚¨åˆ°ä¸€ä¸ªè¡¨ä¸­ã€‚å³ï¼Œä½¿ç”¨æ‹†çš„æ–¹æ¡ˆã€‚")]),_._v(" "),v("h2",{attrs:{id:"mysql-æœ‰å“ªäº›å­˜å‚¨å¼•æ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-æœ‰å“ªäº›å­˜å‚¨å¼•æ“"}},[_._v("#")]),_._v(" MySQL æœ‰å“ªäº›å­˜å‚¨å¼•æ“ï¼Ÿ")]),_._v(" "),v("p",[_._v("MySQL æä¾›äº†å¤šç§çš„å­˜å‚¨å¼•æ“ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("InnoDB")]),_._v(" "),v("li",[_._v("MyISAM")]),_._v(" "),v("li",[_._v("MRG_MYISAM")]),_._v(" "),v("li",[_._v("MEMORY")]),_._v(" "),v("li",[_._v("CSV")]),_._v(" "),v("li",[_._v("ARCHIVE")]),_._v(" "),v("li",[_._v("BLACKHOLE")]),_._v(" "),v("li",[_._v("PERFORMANCE_SCHEMA")]),_._v(" "),v("li",[_._v("FEDERATED")]),_._v(" "),v("li",[_._v("â€¦")])]),_._v(" "),v("p",[_._v("å…·ä½“æ¯ç§å­˜å‚¨å¼•æ“çš„ä»‹ç»ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://github.com/jaywcjlove/mysql-tutorial/blob/master/chapter3/3.5.md",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šæ•°æ®åº“å­˜å‚¨å¼•æ“ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å¦‚ä½•é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ï¼Ÿ")])]),_._v(" "),v("p",[_._v("æä¾›å‡ ä¸ªé€‰æ‹©æ ‡å‡†ï¼Œç„¶åæŒ‰ç…§æ ‡å‡†ï¼Œé€‰æ‹©å¯¹åº”çš„å­˜å‚¨å¼•æ“å³å¯ï¼Œä¹Ÿå¯ä»¥æ ¹æ® "),v("a",{attrs:{href:"https://github.com/jaywcjlove/mysql-tutorial/blob/master/chapter3/3.5.md#%E5%B8%B8%E7%94%A8%E5%BC%95%E6%93%8E%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"}},[_._v("å¸¸ç”¨å¼•æ“å¯¹æ¯”"),v("OutboundLink")],1),_._v(" æ¥é€‰æ‹©ä½ ä½¿ç”¨çš„å­˜å‚¨å¼•æ“ã€‚ä½¿ç”¨å“ªç§å¼•æ“éœ€è¦æ ¹æ®éœ€æ±‚çµæ´»é€‰æ‹©ï¼Œä¸€ä¸ªæ•°æ®åº“ä¸­å¤šä¸ªè¡¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„å¼•æ“ä»¥æ»¡è¶³å„ç§æ€§èƒ½å’Œå®é™…éœ€æ±‚ã€‚ä½¿ç”¨åˆé€‚çš„å­˜å‚¨å¼•æ“ï¼Œå°†ä¼šæé«˜æ•´ä¸ªæ•°æ®åº“çš„æ€§èƒ½ã€‚")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("æ˜¯å¦éœ€è¦æ”¯æŒäº‹åŠ¡ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("å¯¹ç´¢å¼•å’Œç¼“å­˜çš„æ”¯æŒã€‚")])]),_._v(" "),v("li",[v("p",[_._v("æ˜¯å¦éœ€è¦ä½¿ç”¨çƒ­å¤‡ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("å´©æºƒæ¢å¤ï¼Œèƒ½å¦æ¥å—å´©æºƒã€‚")])]),_._v(" "),v("li",[v("p",[_._v("å­˜å‚¨çš„é™åˆ¶ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("æ˜¯å¦éœ€è¦å¤–é”®æ”¯æŒã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ç›®å‰å¼€å‘å·²ç»ä¸è€ƒè™‘å¤–é”®ï¼Œä¸»è¦åŸå› æ˜¯æ€§èƒ½ã€‚å…·ä½“å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://www.justabug.net/think-in-mysql-foreign-key/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šä» MySQL ç‰©ç†å¤–é”®å¼€å§‹çš„æ€è€ƒã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")])])])]),_._v(" "),v("p",[_._v("ç›®å‰ï¼ŒMySQL é»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDB ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯æœ€ä¸»æµçš„é€‰æ‹©ã€‚ä¸»è¦åŸå› å¦‚ä¸‹ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("ã€æœ€é‡è¦ã€‘æ”¯æŒäº‹åŠ¡ã€‚")]),_._v(" "),v("li",[_._v("æ”¯æŒè¡Œçº§é”å’Œè¡¨çº§é”ï¼Œèƒ½æ”¯æŒæ›´å¤šçš„å¹¶å‘é‡ã€‚")]),_._v(" "),v("li",[_._v("æŸ¥è¯¢ä¸åŠ é”ï¼Œå®Œå…¨ä¸å½±å“æŸ¥è¯¢ã€‚")]),_._v(" "),v("li",[_._v("æ”¯æŒå´©æºƒåæ¢å¤ã€‚")])]),_._v(" "),v("p",[_._v("åœ¨ MySQL5.1 ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œé»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ MyISAM ï¼Œä½†æ˜¯ç›®å‰å·²ç»ä¸å†æ›´æ–°ï¼Œä¸”å®ƒæœ‰å‡ ä¸ªæ¯”è¾ƒå…³é”®çš„ç¼ºç‚¹ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("ä¸æ”¯æŒäº‹åŠ¡ã€‚")]),_._v(" "),v("li",[_._v("ä½¿ç”¨è¡¨çº§é”ï¼Œå¦‚æœæ•°æ®é‡å¤§ï¼Œä¸€ä¸ªæ’å…¥æ“ä½œé”å®šè¡¨åï¼Œå…¶ä»–è¯·æ±‚éƒ½å°†é˜»å¡ã€‚")])]),_._v(" "),v("blockquote",[v("p",[_._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦èŠ±å¤ªå¤šåŠ›æ°”åœ¨ MyISAM çš„å­¦ä¹ ä¸Šã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("è¯·è¯´æ˜ InnoDB å’Œ MyISAM çš„åŒºåˆ«")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}}),_._v(" "),v("th",{staticStyle:{"text-align":"left"}},[_._v("InnoDB")]),_._v(" "),v("th",{staticStyle:{"text-align":"left"}},[_._v("MyISAM")])])]),_._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("äº‹åŠ¡")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ”¯æŒ")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("ä¸æ”¯æŒ")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("å­˜å‚¨é™åˆ¶")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("64TB")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ— ")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("é”ç²’åº¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("è¡Œé”")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("è¡¨é”")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("å´©æºƒåçš„æ¢å¤")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ”¯æŒ")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("ä¸æ”¯æŒ")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("å¤–é”®")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ”¯æŒ")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("ä¸æ”¯æŒ")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("å…¨æ–‡æ£€ç´¢")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("5.7 ç‰ˆæœ¬åæ”¯æŒ")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ”¯æŒ")])])])]),_._v(" "),v("p",[_._v("æ›´å®Œæ•´çš„å¯¹æ¯”ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://github.com/jaywcjlove/mysql-tutorial/blob/master/chapter3/3.5.md",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šæ•°æ®åº“å­˜å‚¨å¼•æ“ã€‹"),v("OutboundLink")],1),_._v(" çš„ "),v("a",{attrs:{href:"http://svip.iocoder.cn/MySQL/Interview/#",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Œå¸¸ç”¨å¼•æ“å¯¹æ¯”ã€"),v("OutboundLink")],1),_._v(" å°èŠ‚ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("è¯·è¯´è¯´ InnoDB çš„ 4 å¤§ç‰¹æ€§ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è²Œä¼¼æˆ‘é¢è¯•æ²¡è¢«é—®è¿‡â€¦åæ­£ï¼Œæˆ‘æ˜¯æ²¡å¼„æ‡‚è¿‡~~")])]),_._v(" "),v("ul",[v("li",[_._v("æ’å…¥ç¼“å†²(insert buffer)")]),_._v(" "),v("li",[_._v("äºŒæ¬¡å†™(double write)")]),_._v(" "),v("li",[_._v("è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•(ahi)")]),_._v(" "),v("li",[_._v("é¢„è¯»(read ahead)")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä¸ºä»€ä¹ˆ SELECT COUNT(*) FROM table åœ¨ InnoDB æ¯” MyISAM æ…¢ï¼Ÿ")])]),_._v(" "),v("p",[_._v("å¯¹äº "),v("code",[_._v("SELECT COUNT(*) FROM table")]),_._v(" è¯­å¥ï¼Œåœ¨æ²¡æœ‰ "),v("code",[_._v("WHERE")]),_._v(" æ¡ä»¶çš„æƒ…å†µä¸‹ï¼ŒInnoDB æ¯” MyISAM å¯èƒ½ä¼šæ…¢å¾ˆå¤šï¼Œå°¤å…¶åœ¨å¤§è¡¨çš„æƒ…å†µä¸‹ã€‚å› ä¸ºï¼ŒInnoDB æ˜¯å»å®æ—¶ç»Ÿè®¡ç»“æœï¼Œä¼šå…¨è¡¨æ‰«æï¼›è€Œ MyISAM å†…éƒ¨ç»´æŒäº†ä¸€ä¸ªè®¡æ•°å™¨ï¼Œé¢„å­˜äº†ç»“æœï¼Œæ‰€ä»¥ç›´æ¥è¿”å›å³å¯ã€‚")]),_._v(" "),v("p",[_._v("è¯¦ç»†çš„åŸå› ï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/qq_15037231/article/details/81179383",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šé«˜æ€§èƒ½ MySQL ä¹‹ Count ç»Ÿè®¡æŸ¥è¯¢ã€‹"),v("OutboundLink")],1),_._v(" åšå®¢ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å„ç§ä¸åŒ MySQL ç‰ˆæœ¬çš„ Innodb çš„æ”¹è¿›ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™æ˜¯ä¸€ä¸ªé€‰æ‹©äº†è§£çš„é—®é¢˜ã€‚")])]),_._v(" "),v("p",[_._v("MySQL5.6 ä¸‹ Innodb å¼•æ“çš„ä¸»è¦æ”¹è¿›ï¼š")]),_._v(" "),v("ol",[v("li",[_._v("online DDL")]),_._v(" "),v("li",[_._v("memcached NoSQL æ¥å£")]),_._v(" "),v("li",[_._v("transportable tablespaceï¼ˆ alter table discard/import tablespaceï¼‰")]),_._v(" "),v("li",[_._v("MySQL æ­£å¸¸å…³é—­æ—¶ï¼Œå¯ä»¥ dump å‡º buffer pool çš„ï¼ˆ spaceï¼Œ page_noï¼‰ï¼Œé‡å¯æ—¶ reloadï¼ŒåŠ å¿«é¢„çƒ­é€Ÿåº¦")]),_._v(" "),v("li",[_._v("ç´¢å¼•å’Œè¡¨çš„ç»Ÿè®¡ä¿¡æ¯æŒä¹…åŒ–åˆ° mysql.innodb_table_stats å’Œ mysql.innodb_index_statsï¼Œå¯æä¾›ç¨³å®šçš„æ‰§è¡Œè®¡åˆ’")]),_._v(" "),v("li",[_._v("Compressed row format æ”¯æŒå‹ç¼©è¡¨")])]),_._v(" "),v("p",[_._v("MySQL5.7 ä¸‹ Innodb å¼•æ“çš„ä¸»è¦æ”¹è¿›ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€ä¿®æ”¹ varchar å­—æ®µé•¿åº¦æœ‰æ—¶å¯ä»¥ä½¿ç”¨")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™é‡Œçš„â€œæœ‰æ—¶â€ï¼ŒæŒ‡çš„æ˜¯ä¹Ÿæœ‰äº›é™åˆ¶ã€‚å¯è§ "),v("a",{attrs:{href:"https://yq.aliyun.com/articles/581726",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL 5.7 online ddl çš„ä¸€äº›æ”¹è¿›ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("2ã€Buffer pool æ”¯æŒåœ¨çº¿æ”¹å˜å¤§å°")])]),_._v(" "),v("li",[v("p",[_._v("3ã€Buffer pool æ”¯æŒå¯¼å‡ºéƒ¨åˆ†æ¯”ä¾‹")])]),_._v(" "),v("li",[v("p",[_._v("4ã€æ”¯æŒæ–°å»º innodb tablespaceï¼Œå¹¶å¯ä»¥åœ¨å…¶ä¸­åˆ›å»ºå¤šå¼ è¡¨")])]),_._v(" "),v("li",[v("p",[_._v("5ã€ç£ç›˜ä¸´æ—¶è¡¨é‡‡ç”¨ innodb å­˜å‚¨ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ innodb temp tablespace é‡Œé¢ï¼Œä»¥å‰æ˜¯ MyISAM å­˜å‚¨")])]),_._v(" "),v("li",[v("p",[_._v("6ã€é€æ˜è¡¨ç©ºé—´å‹ç¼©åŠŸèƒ½")])])]),_._v(" "),v("h2",{attrs:{id:"ã€é‡ç‚¹ã€‘ä»€ä¹ˆæ˜¯ç´¢å¼•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡ç‚¹ã€‘ä»€ä¹ˆæ˜¯ç´¢å¼•"}},[_._v("#")]),_._v(" ã€é‡ç‚¹ã€‘ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ")]),_._v(" "),v("p",[_._v("ç´¢å¼•ï¼Œç±»ä¼¼äºä¹¦ç±çš„ç›®å½•ï¼Œæƒ³æ‰¾åˆ°ä¸€æœ¬ä¹¦çš„æŸä¸ªç‰¹å®šçš„ä¸»é¢˜ï¼Œéœ€è¦å…ˆæ‰¾åˆ°ä¹¦çš„ç›®å½•ï¼Œå®šä½å¯¹åº”çš„é¡µç ã€‚")]),_._v(" "),v("p",[_._v("MySQL ä¸­å­˜å‚¨å¼•æ“ä½¿ç”¨ç±»ä¼¼çš„æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ï¼Œå…ˆå»ç´¢å¼•ä¸­æŸ¥æ‰¾å¯¹åº”çš„å€¼ï¼Œç„¶åæ ¹æ®åŒ¹é…çš„ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„æ•°æ®è¡Œã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ç´¢å¼•æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ")])]),_._v(" "),v("ol",[v("li",[_._v("æé«˜æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼Œé™ä½æ•°æ®åº“IOæˆæœ¬ï¼šä½¿ç”¨ç´¢å¼•çš„æ„ä¹‰å°±æ˜¯é€šè¿‡ç¼©å°è¡¨ä¸­éœ€è¦æŸ¥è¯¢çš„è®°å½•çš„æ•°ç›®ä»è€ŒåŠ å¿«æœç´¢çš„é€Ÿåº¦ã€‚")]),_._v(" "),v("li",[_._v("é™ä½æ•°æ®æ’åºçš„æˆæœ¬ï¼Œé™ä½CPUæ¶ˆè€—ï¼šç´¢å¼•ä¹‹æ‰€ä»¥æŸ¥çš„å¿«ï¼Œæ˜¯å› ä¸ºå…ˆå°†æ•°æ®æ’å¥½åºï¼Œè‹¥è¯¥å­—æ®µæ­£å¥½éœ€è¦æ’åºï¼Œåˆ™æ­£å¥½é™ä½äº†æ’åºçš„æˆæœ¬ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ç´¢å¼•æœ‰ä»€ä¹ˆåå¤„ï¼Ÿ")])]),_._v(" "),v("ol",[v("li",[_._v("å ç”¨å­˜å‚¨ç©ºé—´ï¼šç´¢å¼•å®é™…ä¸Šä¹Ÿæ˜¯ä¸€å¼ è¡¨ï¼Œè®°å½•äº†ä¸»é”®ä¸ç´¢å¼•å­—æ®µï¼Œä¸€èˆ¬ä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚")]),_._v(" "),v("li",[_._v("é™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦ï¼šè¡¨çš„æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¹åº”çš„ç´¢å¼•ä¹Ÿéœ€è¦ä¸€èµ·å˜æ›´ï¼Œä»è€Œå‡ä½çš„æ›´æ–°é€Ÿåº¦ã€‚å¦åˆ™ç´¢å¼•æŒ‡å‘çš„ç‰©ç†æ•°æ®å¯èƒ½ä¸å¯¹ï¼Œè¿™ä¹Ÿæ˜¯ç´¢å¼•å¤±æ•ˆçš„åŸå› ä¹‹ä¸€ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ç´¢å¼•çš„ä½¿ç”¨åœºæ™¯ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€å¯¹éå¸¸å°çš„è¡¨ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹å…¨è¡¨æ‰«ææ•ˆç‡æ›´é«˜ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("2ã€å¯¹ä¸­å¤§å‹è¡¨ï¼Œç´¢å¼•éå¸¸æœ‰æ•ˆã€‚")])]),_._v(" "),v("li",[v("p",[_._v("3ã€ç‰¹å¤§å‹çš„è¡¨ï¼Œå»ºç«‹å’Œä½¿ç”¨ç´¢å¼•çš„ä»£ä»·éšç€å¢é•¿ï¼Œå¯ä»¥ä½¿ç”¨åˆ†åŒºæŠ€æœ¯æ¥è§£å†³ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å®é™…åœºæ™¯ä¸‹ï¼ŒMySQL åˆ†åŒºè¡¨å¾ˆå°‘ä½¿ç”¨ï¼ŒåŸå› å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/admin1973/article/details/55504018",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šäº’è”ç½‘å…¬å¸ä¸ºå•¥ä¸ä½¿ç”¨ MySQL åˆ†åŒºè¡¨ï¼Ÿã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("p",[_._v("å¯¹äºç‰¹å¤§å‹çš„è¡¨ï¼Œæ›´å¸¸ç”¨çš„æ˜¯â€œåˆ†åº“åˆ†è¡¨â€ï¼Œç›®å‰è§£å†³æ–¹æ¡ˆæœ‰ Sharding Sphereã€MyCAT ç­‰ç­‰ã€‚")])])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ç´¢å¼•çš„ç±»å‹ï¼Ÿ")])]),_._v(" "),v("p",[_._v("ç´¢å¼•ï¼Œéƒ½æ˜¯å®ç°åœ¨å­˜å‚¨å¼•æ“å±‚çš„ã€‚ä¸»è¦æœ‰å…­ç§ç±»å‹ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€æ™®é€šç´¢å¼•ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•çº¦æŸã€‚")])]),_._v(" "),v("li",[v("p",[_._v("2ã€å”¯ä¸€ç´¢å¼•ï¼šä¸æ™®é€šç´¢å¼•ç±»ä¼¼ï¼Œä½†å…·æœ‰å”¯ä¸€æ€§çº¦æŸã€‚")])]),_._v(" "),v("li",[v("p",[_._v("3ã€ä¸»é”®ç´¢å¼•ï¼šç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("4ã€å¤åˆç´¢å¼•ï¼šå°†å¤šä¸ªåˆ—ç»„åˆåœ¨ä¸€èµ·åˆ›å»ºç´¢å¼•ï¼Œå¯ä»¥è¦†ç›–å¤šä¸ªåˆ—ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("5ã€å¤–é”®ç´¢å¼•ï¼šåªæœ‰InnoDBç±»å‹çš„è¡¨æ‰å¯ä»¥ä½¿ç”¨å¤–é”®ç´¢å¼•ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€å®Œæ•´æ€§å’Œå®ç°çº§è”æ“ä½œã€‚")])]),_._v(" "),v("li",[v("p",[_._v("6ã€å…¨æ–‡ç´¢å¼•ï¼šMySQL è‡ªå¸¦çš„å…¨æ–‡ç´¢å¼•åªèƒ½ç”¨äº InnoDBã€MyISAM ï¼Œå¹¶ä¸”åªèƒ½å¯¹è‹±æ–‡è¿›è¡Œå…¨æ–‡æ£€ç´¢ï¼Œä¸€èˆ¬ä½¿ç”¨å…¨æ–‡ç´¢å¼•å¼•æ“ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å¸¸ç”¨çš„å…¨æ–‡ç´¢å¼•å¼•æ“çš„è§£å†³æ–¹æ¡ˆæœ‰ Elasticsearchã€Solr ç­‰ç­‰ã€‚æœ€ä¸ºå¸¸ç”¨çš„æ˜¯ Elasticsearch ã€‚")])])])]),_._v(" "),v("p",[_._v("å…·ä½“çš„ä½¿ç”¨ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://blog.720ui.com/2017/mysql_core_03_how_use_index/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠæœåŠ¡ç«¯æŒ‡å— æ•°æ®å­˜å‚¨ç¯‡ | MySQLï¼ˆ03ï¼‰ å¦‚ä½•è®¾è®¡ç´¢å¼•ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL ç´¢å¼•çš„â€œåˆ›å»ºâ€åŸåˆ™ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("æ³¨æ„ï¼Œæ˜¯â€œåˆ›å»ºâ€å™¢ã€‚")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€æœ€é€‚åˆç´¢å¼•çš„åˆ—æ˜¯å‡ºç°åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­çš„åˆ—ï¼Œæˆ–è¿æ¥å­å¥ä¸­çš„åˆ—ï¼Œè€Œä¸æ˜¯å‡ºç°åœ¨ "),v("code",[_._v("SELECT")]),_._v(" å…³é”®å­—åçš„åˆ—ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("2ã€ç´¢å¼•åˆ—çš„åŸºæ•°è¶Šå¤§ï¼Œç´¢å¼•æ•ˆæœè¶Šå¥½ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å…·ä½“ä¸ºä»€ä¹ˆï¼Œå¯ä»¥çœ‹çœ‹å¦‚ä¸‹ä¸¤ç¯‡æ–‡ç« ï¼š")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://blog.csdn.net/mingyundezuoan/article/details/79038989",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ç´¢å¼•åŸºæ•°ã€‹"),v("OutboundLink")],1),_._v(" ç†è§£ç›¸å¯¹ç®€å•")]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/data/library/techarticle/dm-1309cardinal/index.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šä½åŸºæ•°ç´¢å¼•ä¸ºä»€ä¹ˆä¼šå¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‹"),v("OutboundLink")],1),_._v(" å†™çš„æ›´åŸç†ï¼Œæ‰€ä»¥è¾ƒä¸ºéš¾æ‡‚ã€‚")])])])]),_._v(" "),v("li",[v("p",[_._v("3ã€æ ¹æ®æƒ…å†µåˆ›å»ºå¤åˆç´¢å¼•ï¼Œå¤åˆç´¢å¼•å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å› ä¸ºå¤åˆç´¢å¼•çš„åŸºæ•°ä¼šæ›´å¤§ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("4ã€é¿å…åˆ›å»ºè¿‡å¤šçš„ç´¢å¼•ï¼Œç´¢å¼•ä¼šé¢å¤–å ç”¨ç£ç›˜ç©ºé—´ï¼Œé™ä½å†™æ“ä½œæ•ˆç‡ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("5ã€ä¸»é”®å°½å¯èƒ½é€‰æ‹©è¾ƒçŸ­çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ç´¢å¼•çš„ç£ç›˜å ç”¨æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("6ã€å¯¹å­—ç¬¦ä¸²è¿›è¡Œç´¢å¼•ï¼Œåº”è¯¥å®šåˆ¶ä¸€ä¸ªå‰ç¼€é•¿åº¦ï¼Œå¯ä»¥èŠ‚çœå¤§é‡çš„ç´¢å¼•ç©ºé—´ã€‚")])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL ç´¢å¼•çš„â€œä½¿ç”¨â€æ³¨æ„äº‹é¡¹ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("æ³¨æ„ï¼Œæ˜¯â€œä½¿ç”¨â€å™¢ã€‚")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€åº”å°½é‡é¿å…åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­ä½¿ç”¨ "),v("code",[_._v("!=")]),_._v(" æˆ– "),v("code",[_._v("<>")]),_._v(" æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚ä¼˜åŒ–å™¨å°†æ— æ³•é€šè¿‡ç´¢å¼•æ¥ç¡®å®šå°†è¦å‘½ä¸­çš„è¡Œæ•°,å› æ­¤éœ€è¦æœç´¢è¯¥è¡¨çš„æ‰€æœ‰è¡Œã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("æ³¨æ„ï¼Œ"),v("code",[_._v("column IS NULL")]),_._v(" ä¹Ÿæ˜¯ä¸å¯ä»¥ä½¿ç”¨ç´¢å¼•çš„ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("2ã€åº”å°½é‡é¿å…åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­ä½¿ç”¨ "),v("code",[_._v("OR")]),_._v(" æ¥è¿æ¥æ¡ä»¶ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š"),v("code",[_._v("SELECT id FROM t WHERE num = 10 OR num = 20")]),_._v(" ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("3ã€åº”å°½é‡é¿å…åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚")])]),_._v(" "),v("li",[v("p",[_._v("4ã€åº”å°½é‡é¿å…åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚")])]),_._v(" "),v("li",[v("p",[_._v("5ã€ä¸è¦åœ¨ "),v("code",[_._v("WHERE")]),_._v(" å­å¥ä¸­çš„ "),v("code",[_._v("=")]),_._v(" å·¦è¾¹è¿›è¡Œå‡½æ•°ã€ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®—ï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯èƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ç´¢å¼•ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("6ã€å¤åˆç´¢å¼•éµå¾ªå‰ç¼€åŸåˆ™ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("7ã€å¦‚æœ MySQL è¯„ä¼°ä½¿ç”¨ç´¢å¼•æ¯”å…¨è¡¨æ‰«ææ›´æ…¢ï¼Œä¼šæ”¾å¼ƒä½¿ç”¨ç´¢å¼•ã€‚å¦‚æœæ­¤æ—¶æƒ³è¦ç´¢å¼•ï¼Œå¯ä»¥åœ¨è¯­å¥ä¸­æ·»åŠ å¼ºåˆ¶ç´¢å¼•ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("8ã€åˆ—ç±»å‹æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ŒæŸ¥è¯¢æ—¶ä¸€å®šè¦ç»™å€¼åŠ å¼•å·ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆã€‚")])]),_._v(" "),v("li",[v("p",[_._v("9ã€"),v("code",[_._v("LIKE")]),_._v(" æŸ¥è¯¢ï¼Œ"),v("code",[_._v("%")]),_._v(" ä¸èƒ½åœ¨å‰ï¼Œå› ä¸ºæ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚å¦‚æœéœ€è¦æ¨¡ç³ŠåŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨å…¨æ–‡ç´¢å¼•ã€‚")])])]),_._v(" "),v("p",[_._v("å…³äºè¿™å—ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://blog.720ui.com/2017/mysql_core_04_index_item/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠæœåŠ¡ç«¯æŒ‡å— æ•°æ®å­˜å‚¨ç¯‡ | MySQLï¼ˆ04ï¼‰ ç´¢å¼•ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹ã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ï¼Œå†™çš„æ›´åŠ ç»†è‡´ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»¥ä¸‹ä¸‰æ¡ SQL å¦‚ä½•å»ºç´¢å¼•ï¼Œåªå»ºä¸€æ¡æ€ä¹ˆå»ºï¼Ÿ")])]),_._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("WHERE a = 1 AND b = 1\nWHERE b = 1\nWHERE b = 1 ORDER BY time DESC\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br"),v("span",{staticClass:"line-number"},[_._v("2")]),v("br"),v("span",{staticClass:"line-number"},[_._v("3")]),v("br")])]),v("ul",[v("li",[_._v("ä»¥é¡ºåº b , a, time å»ºç«‹å¤åˆç´¢å¼•ï¼Œ"),v("code",[_._v("CREATE INDEX table1_b_a_time ON index_test01(b, a, time)")]),_._v("ã€‚")]),_._v(" "),v("li",[_._v("å¯¹äºç¬¬ä¸€æ¡ SQL ï¼Œå› ä¸ºæœ€æ–° MySQL ç‰ˆæœ¬ä¼šä¼˜åŒ– "),v("code",[_._v("WHERE")]),_._v(" å­å¥åé¢çš„åˆ—é¡ºåºï¼Œä»¥åŒ¹é…å¤åˆç´¢å¼•é¡ºåºã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("æƒ³çŸ¥é“ä¸€ä¸ªæŸ¥è¯¢ç”¨åˆ°äº†å“ªä¸ªç´¢å¼•ï¼Œå¦‚ä½•æŸ¥çœ‹?")])]),_._v(" "),v("p",[v("code",[_._v("EXPLAIN")]),_._v(" æ˜¾ç¤ºäº† MYSQL å¦‚ä½•ä½¿ç”¨ç´¢å¼•æ¥å¤„ç† SELECT è¯­å¥ä»¥åŠè¿æ¥è¡¨,å¯ä»¥å¸®åŠ©é€‰æ‹©æ›´å¥½çš„ç´¢å¼•å’Œå†™å‡ºæ›´ä¼˜åŒ–çš„æŸ¥è¯¢è¯­å¥ã€‚")]),_._v(" "),v("p",[_._v("ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨ "),v("code",[_._v("SELECT")]),_._v(" è¯­å¥å‰åŠ ä¸Š "),v("code",[_._v("EXPLAIN")]),_._v(" å°±å¯ä»¥äº†ã€‚æ„Ÿå…´è¶£çš„èƒ–å‹ï¼Œå¯ä»¥è¯¦ç»†çœ‹çœ‹ "),v("a",{attrs:{href:"http://www.jfox.info/2017/mysql-explain%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL explain æ‰§è¡Œè®¡åˆ’è¯¦ç»†è§£é‡Šã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("h2",{attrs:{id:"ã€é‡ç‚¹ã€‘mysql-ç´¢å¼•çš„åŸç†"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡ç‚¹ã€‘mysql-ç´¢å¼•çš„åŸç†"}},[_._v("#")]),_._v(" ã€é‡ç‚¹ã€‘MySQL ç´¢å¼•çš„åŸç†ï¼Ÿ")]),_._v(" "),v("p",[_._v("è§£é‡Š MySQL ç´¢å¼•çš„åŸç†ï¼Œç¯‡å¹…ä¼šæ¯”è¾ƒé•¿ï¼Œå¹¶ä¸”ç½‘ç»œä¸Šå·²ç»æœ‰é è°±çš„èµ„æ–™å¯ä»¥çœ‹ï¼Œæ‰€ä»¥è¿™é‡Œæ•´ç†äº†å‡ ç¯‡ï¼Œèƒ–å‹å¯ä»¥å¯¹ç…§ç€çœ‹ã€‚")]),_._v(" "),v("ul",[v("li",[v("p",[v("a",{attrs:{href:"http://blog.codinglabs.org/articles/theory-of-mysql-index.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("blockquote",[v("p",[_._v("å†™çš„ä¸€ç‚¹éƒ½ä¸å¥½ï¼Œåœ¨åœ°é“åå¤çœ‹äº† 10 éã€‚")]),_._v(" "),v("p",[_._v("å¼ºçƒˆæ¨èï¼ï¼ï¼ï¼")])])]),_._v(" "),v("li",[v("p",[v("a",{attrs:{href:"https://blog.csdn.net/u013235478/article/details/50625677",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ç´¢å¼•åŸç†ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[v("a",{attrs:{href:"https://blog.csdn.net/tongdanping/article/details/79878302",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šæ·±å…¥ç†è§£ MySQL ç´¢å¼•åŸç†å’Œå®ç° â€”â€” ä¸ºä»€ä¹ˆç´¢å¼•å¯ä»¥åŠ é€ŸæŸ¥è¯¢ï¼Ÿã€‹"),v("OutboundLink")],1)])])]),_._v(" "),v("p",[_._v("ä¸‹é¢ï¼Œå¯¹å…³é”®çŸ¥è¯†åšä¸‹æ•´ç†ï¼Œæ–¹ä¾¿èƒ–å‹å›é¡¾ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL æœ‰å“ªäº›ç´¢å¼•æ–¹æ³•ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªé—®é¢˜æ˜¯ç´¢å¼•æ–¹æ³• Index Method ï¼Œä¸Šé¢çš„ç´¢å¼•ç±»å‹ Index Type ã€‚")])]),_._v(" "),v("p",[_._v("åœ¨ MySQL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("B-Tree ç´¢å¼•ã€‚")]),_._v(" "),v("li",[_._v("Hash ç´¢å¼•ã€‚")])]),_._v(" "),v("p",[_._v("å®é™…åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬åŸºæœ¬ä»…ä»…ä½¿ç”¨ B-Tree ç´¢å¼•ã€‚è¯¦ç»†çš„å¯¹æ¯”å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/oChangWen/article/details/54024063",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL BTree ç´¢å¼•å’Œ hash ç´¢å¼•çš„åŒºåˆ«ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("p",[_._v("å¯¹äº Hash ç´¢å¼•ï¼Œæˆ‘ä»¬äº†è§£å³å¯ï¼Œé¢è¯•é‡ç‚¹æ˜¯æŒæ¡ B-Tree ç´¢å¼•çš„åŸç†ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»€ä¹ˆæ˜¯ B-Tree ç´¢å¼•ï¼Ÿ")])]),_._v(" "),v("p",[_._v("B-Tree æ˜¯ä¸ºç£ç›˜ç­‰å¤–å­˜å‚¨è®¾å¤‡è®¾è®¡çš„ä¸€ç§å¹³è¡¡æŸ¥æ‰¾æ ‘ã€‚å› æ­¤åœ¨è®² B-Tree ä¹‹å‰å…ˆäº†è§£ä¸‹ç£ç›˜çš„ç›¸å…³çŸ¥è¯†ã€‚")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("ç³»ç»Ÿä»ç£ç›˜è¯»å–æ•°æ®åˆ°å†…å­˜æ—¶æ˜¯ä»¥ç£ç›˜å—ï¼ˆblockï¼‰ä¸ºåŸºæœ¬å•ä½çš„ï¼Œä½äºåŒä¸€ä¸ªç£ç›˜å—ä¸­çš„æ•°æ®ä¼šè¢«ä¸€æ¬¡æ€§è¯»å–å‡ºæ¥ï¼Œè€Œä¸æ˜¯éœ€è¦ä»€ä¹ˆå–ä»€ä¹ˆã€‚")])]),_._v(" "),v("li",[v("p",[_._v("InnoDBå­˜å‚¨å¼•æ“ä¸­æœ‰é¡µï¼ˆPageï¼‰çš„æ¦‚å¿µï¼Œé¡µæ˜¯å…¶ç£ç›˜ç®¡ç†çš„æœ€å°å•ä½ã€‚InnoDB å­˜å‚¨å¼•æ“ä¸­é»˜è®¤æ¯ä¸ªé¡µçš„å¤§å°ä¸º 16 KBï¼Œå¯é€šè¿‡å‚æ•° innodb_page_size å°†é¡µçš„å¤§å°è®¾ç½®ä¸º 4Kã€8Kã€16K ï¼Œåœ¨ MySQL ä¸­å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹é¡µçš„å¤§å°ï¼š")]),_._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("mysql> show variables like 'innodb_page_size';\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br")])])]),_._v(" "),v("li",[v("p",[_._v("è€Œç³»ç»Ÿä¸€ä¸ªç£ç›˜å—çš„å­˜å‚¨ç©ºé—´å¾€å¾€æ²¡æœ‰è¿™ä¹ˆå¤§ï¼Œå› æ­¤ InnoDB æ¯æ¬¡ç”³è¯·ç£ç›˜ç©ºé—´æ—¶éƒ½ä¼šæ˜¯è‹¥å¹²åœ°å€è¿ç»­ç£ç›˜å—æ¥è¾¾åˆ°é¡µçš„å¤§å° 16KB ã€‚InnoDB åœ¨æŠŠç£ç›˜æ•°æ®è¯»å…¥åˆ°ç£ç›˜æ—¶ä¼šä»¥é¡µä¸ºåŸºæœ¬å•ä½ï¼Œåœ¨æŸ¥è¯¢æ•°æ®æ—¶å¦‚æœä¸€ä¸ªé¡µä¸­çš„æ¯æ¡æ•°æ®éƒ½èƒ½æœ‰åŠ©äºå®šä½æ•°æ®è®°å½•çš„ä½ç½®ï¼Œè¿™å°†ä¼šå‡å°‘ç£ç›˜ I/O æ¬¡æ•°ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚")])])]),_._v(" "),v("p",[_._v("B-Tree ç»“æ„çš„æ•°æ®å¯ä»¥è®©ç³»ç»Ÿé«˜æ•ˆçš„æ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„ç£ç›˜å—ã€‚ä¸ºäº†æè¿°B-Treeï¼Œé¦–å…ˆå®šä¹‰ä¸€æ¡è®°å½•ä¸ºä¸€ä¸ªäºŒå…ƒç»„ [key, data] ï¼Œkey ä¸ºè®°å½•çš„é”®å€¼ï¼Œå¯¹åº”è¡¨ä¸­çš„ä¸»é”®å€¼ï¼Œdata ä¸ºä¸€è¡Œè®°å½•ä¸­é™¤ä¸»é”®å¤–çš„æ•°æ®ã€‚å¯¹äºä¸åŒçš„è®°å½•ï¼Œkeyå€¼äº’ä¸ç›¸åŒã€‚")]),_._v(" "),v("p",[_._v("ä¸€æ£µ m é˜¶çš„ B-Tree æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š")]),_._v(" "),v("blockquote",[v("p",[_._v("å¦‚æœèƒ–å‹å¯¹ç®—æ³•äº†è§£ä¸å¯¹ï¼Œå¯èƒ½å¯¹ä¸‹é¢çš„å„ç§æ•°å­—å…³ç³»ä¸å¤ªèƒ½ç†è§£ã€‚æœ€èµ·ç ï¼Œè¦å¼„æ‡‚å±‚çº§å…³ç³»ï¼Œä»¥åŠæ¯ç§èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ã€‚")])]),_._v(" "),v("ol",[v("li",[_._v("æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ m ä¸ªå­©å­ã€‚\n"),v("ul",[v("li",[_._v("é™¤äº†æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹å¤–ï¼Œå…¶å®ƒæ¯ä¸ªèŠ‚ç‚¹è‡³å°‘æœ‰ Ceil(m/2) ä¸ªå­©å­ã€‚")]),_._v(" "),v("li",[_._v("è‹¥æ ¹èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™è‡³å°‘æœ‰ 2 ä¸ªå­©å­ã€‚")])])]),_._v(" "),v("li",[_._v("æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œä¸”ä¸åŒ…å«å…¶å®ƒå…³é”®å­—ä¿¡æ¯ã€‚")]),_._v(" "),v("li",[_._v("æ¯ä¸ªéå¶å­èŠ‚ç‚¹åŒ…å« n ä¸ªå…³é”®å­—ä¿¡æ¯ï¼ˆP0,P1,â€¦Pn, k1,â€¦knï¼‰\n"),v("ul",[v("li",[_._v("å…³é”®å­—çš„ä¸ªæ•° n æ»¡è¶³ï¼šceil(m/2)-1 <= n <= m-1")]),_._v(" "),v("li",[_._v("ki(i=1,â€¦n) ä¸ºå…³é”®å­—ï¼Œä¸”å…³é”®å­—å‡åºæ’åºã€‚")]),_._v(" "),v("li",[_._v("Pi(i=0,â€¦n) ä¸ºæŒ‡å‘å­æ ‘æ ¹èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚P(i-1) æŒ‡å‘çš„å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å…³é”®å­—å‡å°äº ki ï¼Œä½†éƒ½å¤§äº k(i-1) ã€‚")])])])]),_._v(" "),v("p",[_._v("B-Tree ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ ¹æ®å®é™…æƒ…å†µå¯ä»¥åŒ…å«å¤§é‡çš„å…³é”®å­—ä¿¡æ¯å’Œåˆ†æ”¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºä¸ºä¸€ä¸ª 3 é˜¶çš„ B-Treeï¼š")]),_._v(" "),v("p",[v("a",{attrs:{href:"http://static.iocoder.cn/84ea509fa091a10add4e7614e6cb37db",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/84ea509fa091a10add4e7614e6cb37db",alt:"B-Tree çš„ç»“æ„"}}),v("OutboundLink")],1),_._v("B-Tree çš„ç»“æ„")]),_._v(" "),v("ul",[v("li",[_._v("æ¯ä¸ªèŠ‚ç‚¹å ç”¨ä¸€ä¸ªç›˜å—çš„ç£ç›˜ç©ºé—´ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¸Šæœ‰ä¸¤ä¸ªå‡åºæ’åºçš„ key å’Œä¸‰ä¸ªæŒ‡å‘å­æ ‘æ ¹èŠ‚ç‚¹çš„ point ï¼Œpoint å­˜å‚¨çš„æ˜¯å­èŠ‚ç‚¹æ‰€åœ¨ç£ç›˜å—çš„åœ°å€ã€‚ä¸¤ä¸ª key åˆ’åˆ†æˆçš„ä¸‰ä¸ªèŒƒå›´åŸŸï¼Œå¯¹åº”ä¸‰ä¸ª point æŒ‡å‘çš„å­æ ‘çš„æ•°æ®çš„èŒƒå›´åŸŸã€‚")]),_._v(" "),v("li",[_._v("ä»¥æ ¹èŠ‚ç‚¹ä¸ºä¾‹ï¼Œkey ä¸º 17 å’Œ 35 ï¼ŒP1 æŒ‡é’ˆæŒ‡å‘çš„å­æ ‘çš„æ•°æ®èŒƒå›´ä¸ºå°äº 17 ï¼ŒP2 æŒ‡é’ˆæŒ‡å‘çš„å­æ ‘çš„æ•°æ®èŒƒå›´ä¸º [17~35] ï¼ŒP3 æŒ‡é’ˆæŒ‡å‘çš„å­æ ‘çš„æ•°æ®èŒƒå›´ä¸ºå¤§äº 35 ã€‚")])]),_._v(" "),v("p",[_._v("æ¨¡æ‹ŸæŸ¥æ‰¾ key ä¸º 29 çš„è¿‡ç¨‹ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("1ã€æ ¹æ®æ ¹èŠ‚ç‚¹æ‰¾åˆ°ç£ç›˜å— 1 ï¼Œè¯»å…¥å†…å­˜ã€‚ã€ç£ç›˜I/Oæ“ä½œç¬¬1æ¬¡ã€‘")]),_._v(" "),v("li",[_._v("2ã€æ¯”è¾ƒ key 29 åœ¨åŒºé—´ï¼ˆ17,35ï¼‰ï¼Œæ‰¾åˆ°ç£ç›˜å— 1 çš„æŒ‡é’ˆ P2 ã€‚")]),_._v(" "),v("li",[_._v("3ã€æ ¹æ® P2 æŒ‡é’ˆæ‰¾åˆ°ç£ç›˜å— 3 ï¼Œè¯»å…¥å†…å­˜ã€‚ã€ç£ç›˜I/Oæ“ä½œç¬¬2æ¬¡ã€‘")]),_._v(" "),v("li",[_._v("4ã€æ¯”è¾ƒ key 29 åœ¨åŒºé—´ï¼ˆ26,30ï¼‰ï¼Œæ‰¾åˆ°ç£ç›˜å—3çš„æŒ‡é’ˆP2ã€‚")]),_._v(" "),v("li",[_._v("5ã€æ ¹æ® P2 æŒ‡é’ˆæ‰¾åˆ°ç£ç›˜å— 8 ï¼Œè¯»å…¥å†…å­˜ã€‚ã€ç£ç›˜I/Oæ“ä½œç¬¬3æ¬¡ã€‘")]),_._v(" "),v("li",[_._v("6ã€åœ¨ç£ç›˜å— 8 ä¸­çš„ key åˆ—è¡¨ä¸­æ‰¾åˆ° eky 29 ã€‚")])]),_._v(" "),v("p",[_._v("åˆ†æä¸Šé¢è¿‡ç¨‹ï¼Œå‘ç°éœ€è¦ 3 æ¬¡ç£ç›˜ I/O æ“ä½œï¼Œå’Œ 3 æ¬¡å†…å­˜æŸ¥æ‰¾æ“ä½œã€‚ç”±äºå†…å­˜ä¸­çš„ key æ˜¯ä¸€ä¸ªæœ‰åºè¡¨ç»“æ„ï¼Œå¯ä»¥åˆ©ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾æé«˜æ•ˆç‡ã€‚è€Œ 3 æ¬¡ç£ç›˜ I/O æ“ä½œæ˜¯å½±å“æ•´ä¸ª B-Tree æŸ¥æ‰¾æ•ˆç‡çš„å†³å®šå› ç´ ã€‚B-Tree ç›¸å¯¹äº AVLTree ç¼©å‡äº†èŠ‚ç‚¹ä¸ªæ•°ï¼Œä½¿æ¯æ¬¡ç£ç›˜ I/O å–åˆ°å†…å­˜çš„æ•°æ®éƒ½å‘æŒ¥äº†ä½œç”¨ï¼Œä»è€Œæé«˜äº†æŸ¥è¯¢æ•ˆç‡ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»€ä¹ˆæ˜¯ B+Tree ç´¢å¼•ï¼Ÿ")])]),_._v(" "),v("p",[_._v("B+Tree æ˜¯åœ¨ B-Tree åŸºç¡€ä¸Šçš„ä¸€ç§ä¼˜åŒ–ï¼Œä½¿å…¶æ›´é€‚åˆå®ç°å¤–å­˜å‚¨ç´¢å¼•ç»“æ„ï¼ŒInnoDBå­˜å‚¨å¼•æ“å°±æ˜¯ç”¨ B+Tree å®ç°å…¶ç´¢å¼•ç»“æ„ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¸‹é¢è¿™ä¸€æ®µï¼Œé¢è¯•éå¸¸å…³é”®ã€‚")])]),_._v(" "),v("p",[_._v("ä»ä¸Šä¸€èŠ‚ä¸­çš„ B-Tree ç»“æ„å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸­ä¸ä»…åŒ…å«æ•°æ®çš„ key å€¼ï¼Œè¿˜æœ‰ data å€¼ã€‚è€Œæ¯ä¸€ä¸ªé¡µçš„å­˜å‚¨ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå¦‚æœ data æ•°æ®è¾ƒå¤§æ—¶å°†ä¼šå¯¼è‡´æ¯ä¸ªèŠ‚ç‚¹ï¼ˆå³ä¸€ä¸ªé¡µï¼‰èƒ½å­˜å‚¨çš„ key çš„æ•°é‡å¾ˆå°ï¼Œå½“å­˜å‚¨çš„æ•°æ®é‡å¾ˆå¤§æ—¶åŒæ ·ä¼šå¯¼è‡´ B-Tree çš„æ·±åº¦è¾ƒå¤§ï¼Œå¢å¤§æŸ¥è¯¢æ—¶çš„ç£ç›˜ I/O æ¬¡æ•°ï¼Œè¿›è€Œå½±å“æŸ¥è¯¢æ•ˆç‡ã€‚åœ¨ B+Tree ä¸­ï¼Œæ‰€æœ‰æ•°æ®è®°å½•èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§é”®å€¼å¤§å°é¡ºåºå­˜æ”¾åœ¨åŒä¸€å±‚çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œè€Œéå¶å­èŠ‚ç‚¹ä¸Šåªå­˜å‚¨ key å€¼ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§åŠ å¤§æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„ key å€¼æ•°é‡ï¼Œé™ä½ B+Tree çš„é«˜åº¦ã€‚")]),_._v(" "),v("p",[_._v("B+Tree ç›¸å¯¹äº B-Tree æœ‰å‡ ç‚¹ä¸åŒï¼š")]),_._v(" "),v("ul",[v("li",[_._v("éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ä¿¡æ¯ã€‚")]),_._v(" "),v("li",[_._v("æ‰€æœ‰å¶å­èŠ‚ç‚¹ä¹‹é—´éƒ½æœ‰ä¸€ä¸ªé“¾æŒ‡é’ˆã€‚")]),_._v(" "),v("li",[_._v("æ•°æ®è®°å½•éƒ½å­˜æ”¾åœ¨å¶å­èŠ‚ç‚¹ä¸­ã€‚")])]),_._v(" "),v("p",[_._v("å°†ä¸Šä¸€èŠ‚ä¸­çš„ B-Tree ä¼˜åŒ–ï¼Œç”±äº B+Tree çš„éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ä¿¡æ¯ï¼Œå‡è®¾æ¯ä¸ªç£ç›˜å—èƒ½å­˜å‚¨ 4 ä¸ªé”®å€¼åŠæŒ‡é’ˆä¿¡æ¯ï¼Œåˆ™å˜æˆ B+Tree åå…¶ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),_._v(" "),v("p",[v("a",{attrs:{href:"http://static.iocoder.cn/259d196856a231aff5e3cf1505848af4",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/259d196856a231aff5e3cf1505848af4",alt:"B+Tree çš„ç»“æ„"}}),v("OutboundLink")],1),_._v("B+Tree çš„ç»“æ„")]),_._v(" "),v("ul",[v("li",[_._v("é€šå¸¸åœ¨ B+Tree ä¸Šæœ‰ä¸¤ä¸ªå¤´æŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘æ ¹èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡å‘å…³é”®å­—æœ€å°çš„å¶å­èŠ‚ç‚¹ï¼Œè€Œä¸”æ‰€æœ‰å¶å­èŠ‚ç‚¹ï¼ˆå³æ•°æ®èŠ‚ç‚¹ï¼‰ä¹‹é—´æ˜¯ä¸€ç§é“¾å¼ç¯ç»“æ„ã€‚å› æ­¤å¯ä»¥å¯¹ B+Tree è¿›è¡Œä¸¤ç§æŸ¥æ‰¾è¿ç®—ï¼šä¸€ç§æ˜¯å¯¹äºä¸»é”®çš„èŒƒå›´æŸ¥æ‰¾å’Œåˆ†é¡µæŸ¥æ‰¾ï¼Œå¦ä¸€ç§æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè¿›è¡ŒéšæœºæŸ¥æ‰¾ã€‚")])]),_._v(" "),v("p",[_._v("å¯èƒ½ä¸Šé¢ä¾‹å­ä¸­åªæœ‰ 22 æ¡æ•°æ®è®°å½•ï¼Œçœ‹ä¸å‡º B+Tree çš„ä¼˜ç‚¹ï¼Œä¸‹é¢åšä¸€ä¸ªæ¨ç®—ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("InnoDB å­˜å‚¨å¼•æ“ä¸­é¡µçš„å¤§å°ä¸º 16KBï¼Œä¸€èˆ¬è¡¨çš„ä¸»é”®ç±»å‹ä¸º INTï¼ˆå ç”¨4ä¸ªå­—èŠ‚ï¼‰ æˆ– BIGINTï¼ˆå ç”¨8ä¸ªå­—èŠ‚ï¼‰ï¼ŒæŒ‡é’ˆç±»å‹ä¹Ÿä¸€èˆ¬ä¸º 4 æˆ– 8 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªé¡µï¼ˆB+Tree ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ä¸­å¤§æ¦‚å­˜å‚¨ 16KB/(8B+8B)=1K ä¸ªé”®å€¼ï¼ˆå› ä¸ºæ˜¯ä¼°å€¼ï¼Œä¸ºæ–¹ä¾¿è®¡ç®—ï¼Œè¿™é‡Œçš„ K å–å€¼ä¸ºã€–10ã€—^3ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ·±åº¦ä¸º 3 çš„ B+Tree ç´¢å¼•å¯ä»¥ç»´æŠ¤10^3 "),v("em",[_._v("10^3")]),_._v(" 10^3 = 10äº¿ æ¡è®°å½•ã€‚")]),_._v(" "),v("li",[_._v("å®é™…æƒ…å†µä¸­æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½ä¸èƒ½å¡«å……æ»¡ï¼Œå› æ­¤åœ¨æ•°æ®åº“ä¸­ï¼ŒB+Tree çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨ 2~4 å±‚ã€‚MySQL çš„ InnoDB å­˜å‚¨å¼•æ“åœ¨è®¾è®¡æ—¶æ˜¯å°†æ ¹èŠ‚ç‚¹å¸¸é©»å†…å­˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸€é”®å€¼çš„è¡Œè®°å½•æ—¶æœ€å¤šåªéœ€è¦ 1~3 æ¬¡ç£ç›˜ I/O æ“ä½œã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("B-Tree æœ‰å“ªäº›ç´¢å¼•ç±»å‹ï¼Ÿ")])]),_._v(" "),v("p",[_._v("åœ¨ B+Tree ä¸­ï¼Œæ ¹æ®å¶å­èŠ‚ç‚¹çš„å†…å®¹ï¼Œç´¢å¼•ç±»å‹åˆ†ä¸º"),v("strong",[_._v("ä¸»é”®ç´¢å¼•")]),_._v("å’Œ"),v("strong",[_._v("éä¸»é”®ç´¢å¼•")]),_._v("ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("æ³¨æ„ï¼Œè¿™é‡Œçš„ç´¢å¼•ç±»å‹ï¼Œå’Œä¸Šé¢çš„ç´¢å¼•ç±»å‹ï¼Œè¿˜æ˜¯å¯¹çš„ä¸Šçš„å™¢ã€‚")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„æ•°æ®æ˜¯æ•´è¡Œæ•°æ®( å³å…·ä½“æ•°æ® )ã€‚åœ¨ InnoDB é‡Œï¼Œä¸»é”®ç´¢å¼•ä¹Ÿè¢«ç§°ä¸º"),v("strong",[_._v("èšé›†ç´¢å¼•")]),_._v("ï¼ˆclustered indexï¼‰ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("éä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„æ•°æ®æ˜¯æ•´è¡Œæ•°æ®çš„ä¸»é”®ï¼Œé”®å€¼æ˜¯ç´¢å¼•ã€‚åœ¨ InnoDB é‡Œï¼Œéä¸»é”®ç´¢å¼•ä¹Ÿè¢«ç§°ä¸º")]),_._v(" "),v("p",[_._v("è¾…åŠ©ç´¢å¼•")]),_._v(" "),v("p",[_._v("ï¼ˆsecondary indexï¼‰ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("äºŒçº§ç´¢å¼•çš„å¶èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å€¼ï¼Œè€Œä¸æ˜¯è¡ŒæŒ‡é’ˆï¼Œè¿™æ˜¯ä¸ºäº†å‡å°‘å½“å‡ºç°è¡Œç§»åŠ¨æˆ–æ•°æ®é¡µåˆ†è£‚æ—¶äºŒçº§ç´¢å¼•çš„ç»´æŠ¤å·¥ä½œï¼Œä½†ä¼šè®©äºŒçº§ç´¢å¼•å ç”¨æ›´å¤šçš„ç©ºé—´ã€‚")])])])]),_._v(" "),v("p",[_._v("è¾…åŠ©ç´¢å¼•ä¸èšé›†ç´¢å¼•çš„åŒºåˆ«åœ¨äºè¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å¹¶ä¸åŒ…å«è¡Œè®°å½•çš„å…¨éƒ¨æ•°æ®ï¼Œè€Œæ˜¯å­˜å‚¨ç›¸åº”è¡Œæ•°æ®çš„èšé›†ç´¢å¼•é”®ï¼Œå³ä¸»é”®ã€‚å½“é€šè¿‡è¾…åŠ©ç´¢å¼•æ¥æŸ¥è¯¢æ•°æ®æ—¶ï¼Œéœ€è¦è¿›è¿‡ä¸¤æ­¥ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("é¦–å…ˆï¼ŒInnoDB å­˜å‚¨å¼•æ“ä¼šéå†è¾…åŠ©ç´¢å¼•æ‰¾åˆ°ä¸»é”®ã€‚")]),_._v(" "),v("li",[_._v("ç„¶åï¼Œå†é€šè¿‡ä¸»é”®åœ¨èšé›†ç´¢å¼•ä¸­æ‰¾åˆ°å®Œæ•´çš„è¡Œè®°å½•æ•°æ®ã€‚")])]),_._v(" "),v("p",[_._v("å¦å¤–ï¼ŒInnoDB é€šè¿‡ä¸»é”®èšç°‡æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ä¸»é”®ï¼Œä¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€çš„éç©ºç´¢å¼•ä»£æ›¿ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„ç´¢å¼•ï¼Œä¼šéšå¼å®šä¹‰ä¸ªä¸»é”®ä½œä¸ºèšç°‡ç´¢å¼•ã€‚")]),_._v(" "),v("p",[_._v("å†å¦å¤–ï¼Œå¯èƒ½æœ‰èƒ–å‹æœ‰å’Œçš„ä¸€æ ·ç–‘æƒ‘ï¼Œåœ¨"),v("strong",[_._v("è¾…åŠ©ç´¢å¼•")]),_._v("å¦‚æœç›¸åŒçš„ç´¢å¼•æ€ä¹ˆå­˜å‚¨ï¼Ÿæœ€ç»ˆå­˜å‚¨åˆ° B+Tree éå­èŠ‚ç‚¹ä¸­æ—¶ï¼Œå®ƒä»¬å¯¹åº”çš„ä¸»é”® ID æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥å¦¥å¦¥çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š"),v("a",{attrs:{href:"http://static.iocoder.cn/images/MySQL/2019_12_01/01.png",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/images/MySQL/2019_12_01/01.png",alt:"ç›¸åŒçš„ç´¢å¼•æ€ä¹ˆå­˜å‚¨"}}),v("OutboundLink")],1),_._v("ç›¸åŒçš„ç´¢å¼•æ€ä¹ˆå­˜å‚¨")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("èšç°‡ç´¢å¼•çš„æ³¨æ„ç‚¹æœ‰å“ªäº›ï¼Ÿ")])]),_._v(" "),v("p",[_._v("èšç°‡ç´¢å¼•è¡¨æœ€å¤§é™åº¦åœ°æé«˜äº† I/O å¯†é›†å‹åº”ç”¨çš„æ€§èƒ½ï¼Œä½†å®ƒä¹Ÿæœ‰ä»¥ä¸‹å‡ ä¸ªé™åˆ¶ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("1ã€æ’å…¥é€Ÿåº¦ä¸¥é‡ä¾èµ–äºæ’å…¥é¡ºåºï¼ŒæŒ‰ç…§ä¸»é”®çš„é¡ºåºæ’å…¥æ˜¯æœ€å¿«çš„æ–¹å¼ï¼Œå¦åˆ™å°†ä¼šå‡ºç°é¡µåˆ†è£‚ï¼Œä¸¥é‡å½±å“æ€§èƒ½ã€‚å› æ­¤ï¼Œå¯¹äº InnoDB è¡¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šå®šä¹‰ä¸€ä¸ªè‡ªå¢çš„ ID åˆ—ä¸ºä¸»é”®ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å…³äºè¿™ä¸€ç‚¹ï¼Œå¯èƒ½é¢è¯•å®˜ä¼šæ¢ä¸€ä¸ªé—®æ³•ã€‚ä¾‹å¦‚ï¼Œä¸ºä»€ä¹ˆä¸»é”®éœ€è¦æ˜¯è‡ªå¢ ID ï¼Œåˆæˆ–è€…ä¸ºä»€ä¹ˆä¸»é”®éœ€è¦å¸¦æœ‰æ—¶é—´æ€§å…³è”ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("2ã€æ›´æ–°ä¸»é”®çš„ä»£ä»·å¾ˆé«˜ï¼Œå› ä¸ºå°†ä¼šå¯¼è‡´è¢«æ›´æ–°çš„è¡Œç§»åŠ¨ã€‚å› æ­¤ï¼Œå¯¹äºInnoDB è¡¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬å®šä¹‰ä¸»é”®ä¸ºä¸å¯æ›´æ–°ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("MySQL é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»é”®æ˜¯å…è®¸æ›´æ–°çš„ã€‚å¯¹äº MongoDB ï¼Œå…¶ ä¸»é”®æ˜¯ä¸å…è®¸æ›´æ–°çš„ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("3ã€äºŒçº§ç´¢å¼•è®¿é—®éœ€è¦ä¸¤æ¬¡ç´¢å¼•æŸ¥æ‰¾ï¼Œç¬¬ä¸€æ¬¡æ‰¾åˆ°ä¸»é”®å€¼ï¼Œç¬¬äºŒæ¬¡æ ¹æ®ä¸»é”®å€¼æ‰¾åˆ°è¡Œæ•°æ®ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å½“ç„¶ï¼Œæœ‰ä¸€ç§æƒ…å†µå¯ä»¥æ— éœ€äºŒæ¬¡æŸ¥æ‰¾ï¼ŒåŸºäºéä¸»é”®ç´¢å¼•æŸ¥è¯¢ï¼Œä½†æ˜¯æŸ¥è¯¢å­—æ®µåªæœ‰ä¸»é”® ID ï¼Œé‚£ä¹ˆåœ¨äºŒçº§ç´¢å¼•ä¸­å°±å¯ä»¥æŸ¥æ‰¾åˆ°ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("4ã€ä¸»é”® ID å»ºè®®ä½¿ç”¨æ•´å‹ã€‚å› ä¸ºï¼Œæ¯ä¸ªä¸»é”®ç´¢å¼•çš„ B+Tree èŠ‚ç‚¹çš„é”®å€¼å¯ä»¥å­˜å‚¨æ›´å¤šä¸»é”® ID ï¼Œæ¯ä¸ªéä¸»é”®ç´¢å¼•çš„ B+Tree èŠ‚ç‚¹çš„æ•°æ®å¯ä»¥å­˜å‚¨æ›´å¤šä¸»é”® ID ã€‚")])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»€ä¹ˆæ˜¯ç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ï¼Ÿ")])]),_._v(" "),v("p",[_._v("å½“ B+Tree çš„æ•°æ®é¡¹æ˜¯å¤åˆçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚ç´¢å¼• "),v("code",[_._v("(name, age, sex)")]),_._v(" çš„æ—¶å€™ï¼ŒB+Tree æ˜¯æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ¥å»ºç«‹æœç´¢æ ‘çš„ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("æ¯”å¦‚å½“ "),v("code",[_._v("(å¼ ä¸‰, 20, F)")]),_._v(" è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢çš„æ—¶å€™ï¼ŒB+Tree ä¼šä¼˜å…ˆæ¯”è¾ƒ name æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„æ‰€æœæ–¹å‘ï¼Œå¦‚æœ name ç›¸åŒå†ä¾æ¬¡æ¯”è¾ƒ age å’Œ sex ï¼Œæœ€åå¾—åˆ°æ£€ç´¢çš„æ•°æ®ã€‚")]),_._v(" "),v("li",[_._v("ä½†å½“ "),v("code",[_._v("(20, F)")]),_._v(" è¿™æ ·çš„æ²¡æœ‰ name çš„æ•°æ®æ¥çš„æ—¶å€™ï¼ŒB+Tree å°±ä¸çŸ¥é“ä¸‹ä¸€æ­¥è¯¥æŸ¥å“ªä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºå»ºç«‹æœç´¢æ ‘çš„æ—¶å€™ name å°±æ˜¯ç¬¬ä¸€ä¸ªæ¯”è¾ƒå› å­ï¼Œå¿…é¡»è¦å…ˆæ ¹æ® name æ¥æœç´¢æ‰èƒ½çŸ¥é“ä¸‹ä¸€æ­¥å»å“ªé‡ŒæŸ¥è¯¢ã€‚")]),_._v(" "),v("li",[_._v("æ¯”å¦‚å½“ "),v("code",[_._v("(å¼ ä¸‰, F)")]),_._v(" è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢æ—¶ï¼ŒB+Tree å¯ä»¥ç”¨ name æ¥æŒ‡å®šæœç´¢æ–¹å‘ï¼Œä½†ä¸‹ä¸€ä¸ªå­—æ®µ age çš„ç¼ºå¤±ï¼Œæ‰€ä»¥åªèƒ½æŠŠåå­—ç­‰äºå¼ ä¸‰çš„æ•°æ®éƒ½æ‰¾åˆ°ï¼Œç„¶åå†åŒ¹é…æ€§åˆ«æ˜¯ F çš„æ•°æ®äº†ã€‚")])]),_._v(" "),v("p",[_._v("è¿™ä¸ªæ˜¯éå¸¸é‡è¦çš„æ€§è´¨ï¼Œå³ç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MyISAM ç´¢å¼•å®ç°ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("æ³¨æ„ï¼Œæˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„éƒ½æ˜¯ InnoDB å­˜å‚¨å¼•æ“ä¸‹çš„ç´¢å¼•å®ç°ã€‚")])]),_._v(" "),v("p",[_._v("MyISAM ç´¢å¼•çš„å®ç°ï¼Œå’Œ InnoDB ç´¢å¼•çš„å®ç°æ˜¯ä¸€æ ·ä½¿ç”¨ B+Tree ï¼Œ"),v("strong",[_._v("å·®åˆ«åœ¨äº MyISAM ç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ï¼Œç´¢å¼•æ–‡ä»¶ä»…ä¿å­˜æ•°æ®è®°å½•çš„åœ°å€")]),_._v("ã€‚")]),_._v(" "),v("p",[_._v("1ï¼‰ä¸»é”®ç´¢å¼•ï¼š")]),_._v(" "),v("p",[_._v("MyISAMå¼• æ“ä½¿ç”¨B+Treeä½œä¸ºç´¢å¼•ç»“æ„ï¼Œ"),v("strong",[_._v("å¶èŠ‚ç‚¹çš„dataåŸŸå­˜æ”¾çš„æ˜¯æ•°æ®è®°å½•çš„åœ°å€")]),_._v("ã€‚ä¸‹å›¾æ˜¯MyISAMä¸»é”®ç´¢å¼•çš„åŸç†å›¾ï¼š")]),_._v(" "),v("p",[v("a",{attrs:{href:"http://static.iocoder.cn/d49d260fc1eb8f992df0401b70d70e3d",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/d49d260fc1eb8f992df0401b70d70e3d",alt:"ä¸»é”®ç´¢å¼•"}}),v("OutboundLink")],1),_._v("ä¸»é”®ç´¢å¼•")]),_._v(" "),v("ul",[v("li",[_._v("è¿™é‡Œè®¾è¡¨ä¸€å…±æœ‰ä¸‰åˆ—ï¼Œå‡è®¾æˆ‘ä»¬ä»¥ Col1 ä¸ºä¸»é”®ï¼Œä¸Šå›¾æ˜¯ä¸€ä¸ª MyISAM è¡¨çš„ä¸»ç´¢å¼•ï¼ˆPrimary keyï¼‰ç¤ºæ„ã€‚å¯ä»¥çœ‹å‡º MyISAM çš„ç´¢å¼•æ–‡ä»¶ä»…ä»…ä¿å­˜æ•°æ®è®°å½•çš„åœ°å€ã€‚")])]),_._v(" "),v("p",[_._v("2ï¼‰è¾…åŠ©ç´¢å¼•ï¼š")]),_._v(" "),v("p",[_._v("**åœ¨ MyISAM ä¸­ï¼Œä¸»ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•åœ¨ç»“æ„ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåªæ˜¯ä¸»ç´¢å¼•è¦æ±‚ key æ˜¯å”¯ä¸€çš„ï¼Œè€Œè¾…åŠ©ç´¢å¼•çš„ key å¯ä»¥é‡å¤ã€‚**å¦‚æœæˆ‘ä»¬åœ¨ Col2 ä¸Šå»ºç«‹ä¸€ä¸ªè¾…åŠ©ç´¢å¼•ï¼Œåˆ™æ­¤ç´¢å¼•çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),_._v(" "),v("p",[v("a",{attrs:{href:"http://static.iocoder.cn/2fb922405a35479fa99eb2de4708638c",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/2fb922405a35479fa99eb2de4708638c",alt:"è¾…åŠ©ç´¢å¼•"}}),v("OutboundLink")],1),_._v("è¾…åŠ©ç´¢å¼•")]),_._v(" "),v("ul",[v("li",[_._v("åŒæ ·ä¹Ÿæ˜¯ä¸€é¢— B+Tree ï¼Œdata åŸŸä¿å­˜æ•°æ®è®°å½•çš„åœ°å€ã€‚å› æ­¤ï¼Œ"),v("strong",[_._v("MyISAM ä¸­ç´¢å¼•æ£€ç´¢çš„ç®—æ³•ä¸ºé¦–å…ˆæŒ‰ç…§ B+Tree æœç´¢ç®—æ³•æœç´¢ç´¢å¼•ï¼Œå¦‚æœæŒ‡å®šçš„ Key å­˜åœ¨ï¼Œåˆ™å–å‡ºå…¶ data åŸŸçš„å€¼ï¼Œç„¶åä»¥ data åŸŸçš„å€¼ä¸ºåœ°å€ï¼Œè¯»å–ç›¸åº”æ•°æ®è®°å½•ã€‚")])])]),_._v(" "),v("p",[_._v("MyISAM çš„ç´¢å¼•æ–¹å¼ä¹Ÿå«åšâ€œ"),v("strong",[_._v("éèšé›†")]),_._v("â€çš„ï¼Œä¹‹æ‰€ä»¥è¿™ä¹ˆç§°å‘¼æ˜¯ä¸ºäº†ä¸InnoDB çš„èšé›†ç´¢å¼•åŒºåˆ†ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MyISAM ç´¢å¼•ä¸ InnoDB ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("InnoDB ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼ŒMyISAM ç´¢å¼•æ˜¯éèšç°‡ç´¢å¼•ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("InnoDB çš„ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨ç€è¡Œæ•°æ®ï¼Œå› æ­¤ä¸»é”®ç´¢å¼•éå¸¸é«˜æ•ˆã€‚")])]),_._v(" "),v("li",[v("p",[_._v("MyISAM ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯è¡Œæ•°æ®åœ°å€ï¼Œéœ€è¦å†å¯»å€ä¸€æ¬¡æ‰èƒ½å¾—åˆ°æ•°æ®ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("InnoDB éä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å’Œå…¶ä»–å¸¦ç´¢å¼•çš„åˆ—æ•°æ®ï¼Œå› æ­¤æŸ¥è¯¢æ—¶åšåˆ°è¦†ç›–ç´¢å¼•ä¼šéå¸¸é«˜æ•ˆã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("è¦†ç›–ç´¢å¼•ï¼ŒæŒ‡çš„æ˜¯åŸºäºéä¸»é”®ç´¢å¼•æŸ¥è¯¢ï¼Œä½†æ˜¯æŸ¥è¯¢å­—æ®µåªæœ‰ä¸»é”® ID ï¼Œé‚£ä¹ˆåœ¨äºŒçº§ç´¢å¼•ä¸­å°±å¯ä»¥æŸ¥æ‰¾åˆ°ã€‚")])])])]),_._v(" "),v("h2",{attrs:{id:"ã€é‡ç‚¹ã€‘è¯·è¯´è¯´-mysql-çš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡ç‚¹ã€‘è¯·è¯´è¯´-mysql-çš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[_._v("#")]),_._v(" ã€é‡ç‚¹ã€‘è¯·è¯´è¯´ MySQL çš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Ÿ")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™æ˜¯é¢è¯•ä¸­æœ€å¸¸è§çš„é—®é¢˜ã€‚å¦‚æœå›ç­”ä¸å¯¹ï¼Œå¯èƒ½å°±è¢«æŠ¬èµ°äº†ã€‚")])]),_._v(" "),v("p",[_._v("äº‹åŠ¡å°±æ˜¯å¯¹ä¸€ç³»åˆ—çš„æ•°æ®åº“æ“ä½œï¼ˆæ¯”å¦‚æ’å…¥å¤šæ¡æ•°æ®ï¼‰è¿›è¡Œç»Ÿä¸€çš„æäº¤æˆ–å›æ»šæ“ä½œï¼Œå¦‚æœæ’å…¥æˆåŠŸï¼Œé‚£ä¹ˆä¸€èµ·æˆåŠŸï¼Œå¦‚æœä¸­é—´æœ‰ä¸€æ¡å‡ºç°å¼‚å¸¸ï¼Œé‚£ä¹ˆå›æ»šä¹‹å‰çš„æ‰€æœ‰æ“ä½œã€‚")]),_._v(" "),v("p",[_._v("è¿™æ ·å¯ä»¥é˜²æ­¢å‡ºç°è„æ•°æ®ï¼Œé˜²æ­¢æ•°æ®åº“æ•°æ®å‡ºç°é—®é¢˜ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("äº‹åŠ¡çš„ç‰¹æ€§æŒ‡çš„æ˜¯ï¼Ÿ")])]),_._v(" "),v("p",[_._v("æŒ‡çš„æ˜¯ "),v("strong",[_._v("ACID")]),_._v(" ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),_._v(" "),v("p",[v("a",{attrs:{href:"http://static.iocoder.cn/images/Spring/2018-12-24/06.png",target:"_blank",rel:"noopener noreferrer"}},[v("img",{attrs:{src:"http://static.iocoder.cn/images/Spring/2018-12-24/06.png",alt:"äº‹åŠ¡çš„ç‰¹æ€§"}}),v("OutboundLink")],1),_._v("äº‹åŠ¡çš„ç‰¹æ€§")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("åŸå­æ€§")]),_._v(" Atomicity ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œæˆ–è€…å…¨éƒ¨å®Œæˆï¼Œæˆ–è€…å…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«æ¢å¤ï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚å³ï¼Œäº‹åŠ¡ä¸å¯åˆ†å‰²ã€ä¸å¯çº¦ç®€ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("ä¸€è‡´æ€§")]),_._v(" Consistency ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚è¿™è¡¨ç¤ºå†™å…¥çš„èµ„æ–™å¿…é¡»å®Œå…¨ç¬¦åˆæ‰€æœ‰çš„é¢„è®¾"),v("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[_._v("çº¦æŸ"),v("OutboundLink")],1),_._v("ã€"),v("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E8%A7%A6%E5%8F%91%E5%99%A8_(%E6%95%B0%E6%8D%AE%E5%BA%93)",target:"_blank",rel:"noopener noreferrer"}},[_._v("è§¦å‘å™¨"),v("OutboundLink")],1),_._v("ã€"),v("a",{attrs:{href:"https://zh.wikipedia.org/w/index.php?title=%E7%BA%A7%E8%81%94%E5%9B%9E%E6%BB%9A&action=edit&redlink=1",target:"_blank",rel:"noopener noreferrer"}},[_._v("çº§è”å›æ»š"),v("OutboundLink")],1),_._v("ç­‰ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("éš”ç¦»æ€§")]),_._v(" Isolation ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("æŒä¹…æ€§")]),_._v(" Durability ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("äº‹åŠ¡çš„å¹¶å‘é—®é¢˜ï¼Ÿ")])]),_._v(" "),v("p",[_._v("å®é™…åœºæ™¯ä¸‹ï¼Œäº‹åŠ¡å¹¶ä¸æ˜¯ä¸²è¡Œçš„ï¼Œæ‰€ä»¥ä¼šå¸¦æ¥å¦‚ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("1ã€è„è¯»ï¼šäº‹åŠ¡ A è¯»å–äº†äº‹åŠ¡ B æ›´æ–°çš„æ•°æ®ï¼Œç„¶å B å›æ»šæ“ä½œï¼Œé‚£ä¹ˆ A è¯»å–åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®ã€‚")]),_._v(" "),v("li",[_._v("2ã€ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡ A å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡ B åœ¨äº‹åŠ¡ A å¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡ A å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®æ—¶ï¼Œç»“æœä¸ä¸€è‡´ã€‚")]),_._v(" "),v("li",[_._v("3ã€å¹»è¯»ï¼šç³»ç»Ÿç®¡ç†å‘˜ A å°†æ•°æ®åº“ä¸­æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©ä»å…·ä½“åˆ†æ•°æ”¹ä¸º ABCDE ç­‰çº§ï¼Œä½†æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ B å°±åœ¨è¿™ä¸ªæ—¶å€™æ’å…¥äº†ä¸€æ¡å…·ä½“åˆ†æ•°çš„è®°å½•ï¼Œå½“ç³»ç»Ÿç®¡ç†å‘˜ A æ”¹ç»“æŸåå‘ç°è¿˜æœ‰ä¸€æ¡è®°å½•æ²¡æœ‰æ”¹è¿‡æ¥ï¼Œå°±å¥½åƒå‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œè¿™å°±å«å¹»è¯»ã€‚")])]),_._v(" "),v("p",[_._v("å°ç»“ï¼šä¸å¯é‡å¤è¯»çš„å’Œå¹»è¯»å¾ˆå®¹æ˜“æ··æ·†ï¼Œä¸å¯é‡å¤è¯»ä¾§é‡äºä¿®æ”¹ï¼Œå¹»è¯»ä¾§é‡äºæ–°å¢æˆ–åˆ é™¤ã€‚è§£å†³ä¸å¯é‡å¤è¯»çš„é—®é¢˜åªéœ€é”ä½æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè§£å†³å¹»è¯»éœ€è¦é”è¡¨ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL äº‹åŠ¡éš”ç¦»çº§åˆ«ä¼šäº§ç”Ÿçš„å¹¶å‘é—®é¢˜ï¼Ÿ")])]),_._v(" "),v("p",[_._v("äº‹åŠ¡å®šä¹‰äº†å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¸åŒæ•°æ®åº“åœ¨å®ç°æ—¶ï¼Œäº§ç”Ÿçš„å¹¶å‘é—®é¢˜æ˜¯ä¸åŒçš„ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¸åŒçš„éš”ç¦»çº§åˆ«æœ‰ä¸åŒçš„ç°è±¡ï¼Œå¹¶æœ‰ä¸åŒçš„é”å®š/å¹¶å‘æœºåˆ¶ï¼Œéš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œæ•°æ®åº“çš„å¹¶å‘æ€§å°±è¶Šå·®ã€‚")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("READ UNCOMMITTEDï¼ˆæœªæäº¤è¯»ï¼‰ï¼šäº‹åŠ¡ä¸­çš„ä¿®æ”¹ï¼Œå³ä½¿æ²¡æœ‰æäº¤ï¼Œå¯¹å…¶ä»–äº‹åŠ¡ä¹Ÿéƒ½æ˜¯å¯è§çš„ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¼šå¯¼è‡´è„è¯»ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("READ COMMITTEDï¼ˆæäº¤è¯»ï¼‰ï¼šäº‹åŠ¡ä»å¼€å§‹ç›´åˆ°æäº¤ä¹‹å‰ï¼Œæ‰€åšçš„ä»»ä½•ä¿®æ”¹å¯¹å…¶ä»–äº‹åŠ¡éƒ½æ˜¯ä¸å¯è§çš„ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¼šå¯¼è‡´ä¸å¯é‡å¤è¯»ã€‚")]),_._v(" "),v("p",[_._v("è¿™ä¸ªéš”ç¦»çº§åˆ«ï¼Œä¹Ÿå¯ä»¥å«åšâ€œä¸å¯é‡å¤è¯»â€ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("REPEATABLE READï¼ˆå¯é‡å¤è¯»ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡æŒ‰ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶è¯»å–ä»¥å‰æ£€ç´¢è¿‡çš„æ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡æ’å…¥äº†æ»¡è¶³å…¶æŸ¥è¯¢æ¡ä»¶çš„æ–°æ•°æ®ã€‚äº§ç”Ÿå¹»è¡Œã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¼šå¯¼è‡´å¹»è¯»ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("SERIALIZABLEï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰ï¼šå¼ºåˆ¶äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œã€‚")])])]),_._v(" "),v("p",[_._v("MySQL InnoDB é‡‡ç”¨ "),v("strong",[_._v("MVCC")]),_._v(" æ¥æ”¯æŒé«˜å¹¶å‘ï¼Œå®ç°ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š")]),_._v(" "),v("blockquote",[v("p",[_._v("å…³äº Oracle å’Œ PostgreSQL ï¼Œéœ€è¦èƒ–å‹è‡ªå·±å»æœç´¢èµ„æ–™ã€‚")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[_._v("äº‹åŠ¡éš”ç¦»çº§åˆ«")]),_._v(" "),v("th",{staticStyle:{"text-align":"left"}},[_._v("è„è¯»")]),_._v(" "),v("th",{staticStyle:{"text-align":"left"}},[_._v("ä¸å¯é‡å¤è¯»")]),_._v(" "),v("th",{staticStyle:{"text-align":"left"}},[_._v("å¹»è¯»")])])]),_._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("è¯»å·²æäº¤ï¼ˆread-committedï¼‰")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("æ˜¯ï¼ˆxï¼‰")])]),_._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[_._v("ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")]),_._v(" "),v("td",{staticStyle:{"text-align":"left"}},[_._v("å¦")])])])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("MySQL é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºå¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰ ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("ä¸Šå›¾çš„ "),v("code",[_._v("<X>")]),_._v(" å¤„ï¼Œ**MySQL é€šè¿‡ MVCC + äº‹åŠ¡ç¬¬ä¸€æ¬¡è°ƒç”¨ "),v("code",[_._v("SELECT")]),_._v(" è¯­å¥æ‰ç”Ÿæˆå¿«ç…§ï¼Œå®ç°å…¶åœ¨å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰çš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸å­˜åœ¨å¹»è¯»é—®é¢˜ã€‚**ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šå›¾ "),v("code",[_._v("<X>")]),_._v(" å¤„ï¼Œéœ€è¦æ”¹æˆâ€œå¦â€ï¼ï¼ï¼ï¼æƒ³è¦è¿›ä¸€æ­¥äº†è§£çš„ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/cxm19881208/article/details/79415726",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL InnoDB äº‹åŠ¡ â€”â€” ä¸€è‡´æ€§è¯»(å¿«ç…§è¯»)ã€‹"),v("OutboundLink")],1),_._v("ã€"),v("a",{attrs:{href:"https://blog.csdn.net/z69183787/article/details/81709743",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMYSQL å½“å‰è¯»å’Œå¿«ç…§è¯»ã€‹"),v("OutboundLink")],1),_._v("ã€"),v("a",{attrs:{href:"https://www.cnblogs.com/wwcom123/p/10727194.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šã€MySQLã€‘å½“å‰è¯»ã€å¿«ç…§è¯»ã€MVCCã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å®é™…ä¸Šï¼Œåœ¨çœ‹å®Œä¸Šè¿°å‡ ç¯‡æ–‡ç« ï¼Œä»¿ä½›ç†è§£äº†ï¼Œä»¿ä½›åˆæœ‰ä¸€ç‚¹æ‡µé€¼ã€‚åæ¥åœ¨çœ‹å®Œä¸å¥‡è€å¸ˆçš„ "),v("a",{attrs:{href:"http://www.iocoder.cn/images/jikeshijian/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2.jpg",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL å®æˆ˜ 45 è®²ã€‹"),v("OutboundLink")],1),_._v(" çš„ã€Œ08 | äº‹åŠ¡åˆ°åº•æ˜¯éš”ç¦»çš„è¿˜æ˜¯ä¸éš”ç¦»çš„ï¼Ÿã€åï¼Œç¨³äº†ï¼Œé€šé€äº†ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("ğŸ˜ˆ è®°ä½è¿™ä¸ªè¡¨çš„æ–¹å¼ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®ƒæ˜¯è‡ªå·¦ä¸Šå‘å³ä¸‹æ˜¯ä¸€ä¸ªå¯¹è§’çº¿ã€‚å½“ç„¶ï¼Œæœ€å¥½æ˜¯å»ç†è§£ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("å…·ä½“çš„å®éªŒï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://www.cnblogs.com/huanongying/p/7021555.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL çš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("æœ‰äº›èµ„æ–™è¯´å¯é‡å¤è¯»è§£å†³äº†å¹»è¯»ï¼Œå®é™…æ˜¯å­˜åœ¨çš„ï¼Œå¯ä»¥é€šè¿‡ "),v("code",[_._v("SELECT xxx FROM t WHERE id = ? FOR UPDATE")]),_._v(" çš„æ–¹å¼ï¼Œè·å¾—åˆ°æ‚²è§‚é”ï¼Œç¦æ­¢å…¶å®ƒäº‹åŠ¡æ“ä½œå¯¹åº”çš„æ•°æ®ï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚æ„Ÿå…´è¶£çš„èƒ–å‹ï¼Œå¯ä»¥çœ‹çœ‹å¦‚ä¸‹æ–‡ç« ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("å¿…è¯» "),v("a",{attrs:{href:"https://segmentfault.com/a/1190000016566788",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL å¹»è¯»çš„è¯¦è§£ã€å®ä¾‹åŠè§£å†³åŠæ³•ã€‹"),v("OutboundLink")],1),_._v(" æ¡ˆä¾‹æ€§æ›´å¼ºï¼Œæ˜“æ‡‚ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å…¶å® RR ä¹Ÿæ˜¯å¯ä»¥é¿å…å¹»è¯»çš„ï¼Œé€šè¿‡å¯¹ select æ“ä½œæ‰‹åŠ¨åŠ  è¡ŒXé”ï¼ˆSELECT â€¦ FOR UPDATE è¿™ä¹Ÿæ­£æ˜¯ SERIALIZABLE éš”ç¦»çº§åˆ«ä¸‹ä¼šéšå¼ä¸ºä½ åšçš„äº‹æƒ…ï¼‰ï¼ŒåŒæ—¶è¿˜éœ€è¦çŸ¥é“ï¼Œå³ä¾¿å½“å‰è®°å½•ä¸å­˜åœ¨ï¼Œæ¯”å¦‚ id = 1 æ˜¯ä¸å­˜åœ¨çš„ï¼Œå½“å‰äº‹åŠ¡ä¹Ÿä¼šè·å¾—ä¸€æŠŠè®°å½•é”ï¼ˆå› ä¸ºInnoDBçš„è¡Œé”é”å®šçš„æ˜¯ç´¢å¼•ï¼Œæ•…è®°å½•å®ä½“å­˜åœ¨ä¸å¦æ²¡å…³ç³»ï¼Œå­˜åœ¨å°±åŠ  è¡ŒXé”ï¼Œä¸å­˜åœ¨å°±åŠ  next-key locké—´éš™Xé”ï¼‰ï¼Œå…¶ä»–äº‹åŠ¡åˆ™æ— æ³•æ’å…¥æ­¤ç´¢å¼•çš„è®°å½•ï¼Œæ•…æœç»äº†å¹»è¯»ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("é€‰è¯» "),v("a",{attrs:{href:"http://blog.sina.com.cn/s/blog_499740cb0100ugs7.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL çš„ InnoDB çš„å¹»è¯»é—®é¢˜ã€‹"),v("OutboundLink")],1),_._v(" åŸç†æ€§æ›´å¼ºï¼Œè¯»æ‡‚ä¼šå¾ˆçˆ½ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("éšæ„ "),v("a",{attrs:{href:"https://github.com/Yhzhtk/note/issues/42",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠInnodb ä¸­ RR éš”ç¦»çº§åˆ«èƒ½å¦é˜²æ­¢å¹»è¯»ï¼Ÿã€‹"),v("OutboundLink")],1),_._v(" ä¸€ä¸ªç®€å•çš„è®¨è®ºã€‚")])])])])]),_._v(" "),v("h2",{attrs:{id:"ã€é‡ç‚¹ã€‘è¯·è¯´è¯´-mysql-çš„é”æœºåˆ¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡ç‚¹ã€‘è¯·è¯´è¯´-mysql-çš„é”æœºåˆ¶"}},[_._v("#")]),_._v(" ã€é‡ç‚¹ã€‘è¯·è¯´è¯´ MySQL çš„é”æœºåˆ¶ï¼Ÿ")]),_._v(" "),v("p",[_._v("è¡¨é”æ˜¯æ—¥å¸¸å¼€å‘ä¸­çš„å¸¸è§é—®é¢˜ï¼Œå› æ­¤ä¹Ÿæ˜¯é¢è¯•å½“ä¸­æœ€å¸¸è§çš„è€ƒå¯Ÿç‚¹ï¼Œå½“å¤šä¸ªæŸ¥è¯¢åŒä¸€æ—¶åˆ»è¿›è¡Œæ•°æ®ä¿®æ”¹æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå¹¶å‘æ§åˆ¶çš„é—®é¢˜ã€‚MySQL çš„å…±äº«é”å’Œæ’ä»–é”ï¼Œå°±æ˜¯è¯»é”å’Œå†™é”ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("å…±äº«é”ï¼šä¸å µå¡ï¼Œå¤šä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶è¯»ä¸€ä¸ªèµ„æºï¼Œäº’ä¸å¹²æ‰°ã€‚")]),_._v(" "),v("li",[_._v("æ’ä»–é”ï¼šä¸€ä¸ªå†™é”ä¼šé˜»å¡å…¶ä»–çš„è¯»é”å’Œå†™é”ï¼Œè¿™æ ·å¯ä»¥åªå…è®¸ä¸€ä¸ªç”¨æˆ·è¿›è¡Œå†™å…¥ï¼Œé˜²æ­¢å…¶ä»–ç”¨æˆ·è¯»å–æ­£åœ¨å†™å…¥çš„èµ„æºã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("é”çš„ç²’åº¦ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("è¡¨é”ï¼šç³»ç»Ÿå¼€é”€æœ€å°ï¼Œä¼šé”å®šæ•´å¼ è¡¨ï¼ŒMyIsam ä½¿ç”¨è¡¨é”ã€‚")]),_._v(" "),v("li",[_._v("è¡Œé”ï¼šæœ€å¤§ç¨‹åº¦çš„æ”¯æŒå¹¶å‘å¤„ç†ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥äº†æœ€å¤§çš„é”å¼€é”€ï¼ŒInnoDB ä½¿ç”¨è¡Œé”ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»€ä¹ˆæ˜¯æ‚²è§‚é”ï¼Ÿä»€ä¹ˆæ˜¯ä¹è§‚é”ï¼Ÿ")])]),_._v(" "),v("p",[_._v("1ï¼‰æ‚²è§‚é”")]),_._v(" "),v("p",[_._v("å®ƒæŒ‡çš„æ˜¯å¯¹æ•°æ®è¢«å¤–ç•Œï¼ˆåŒ…æ‹¬æœ¬ç³»ç»Ÿå½“å‰çš„å…¶ä»–äº‹åŠ¡ï¼Œä»¥åŠæ¥è‡ªå¤–éƒ¨ç³»ç»Ÿçš„äº‹åŠ¡å¤„ç†ï¼‰ä¿®æ”¹æŒä¿å®ˆæ€åº¦ï¼Œå› æ­¤ï¼Œåœ¨æ•´ä¸ªæ•°æ®å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå°†æ•°æ®å¤„äºé”å®šçŠ¶æ€ã€‚æ‚²è§‚é”çš„å®ç°ï¼Œå¾€å¾€ä¾é æ•°æ®åº“æä¾›çš„é”æœºåˆ¶ï¼ˆä¹Ÿåªæœ‰æ•°æ®åº“å±‚æä¾›çš„é”æœºåˆ¶æ‰èƒ½çœŸæ­£ä¿è¯æ•°æ®è®¿é—®çš„æ’ä»–æ€§ï¼Œå¦åˆ™ï¼Œå³ä½¿åœ¨æœ¬ç³»ç»Ÿä¸­å®ç°äº†åŠ é”æœºåˆ¶ï¼Œä¹Ÿæ— æ³•ä¿è¯å¤–éƒ¨ç³»ç»Ÿä¸ä¼šä¿®æ”¹æ•°æ®ï¼‰ã€‚")]),_._v(" "),v("p",[_._v("åœ¨æ‚²è§‚é”çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†ä¿è¯äº‹åŠ¡çš„éš”ç¦»æ€§ï¼Œå°±éœ€è¦ä¸€è‡´æ€§é”å®šè¯»ã€‚è¯»å–æ•°æ®æ—¶ç»™åŠ é”ï¼Œå…¶å®ƒäº‹åŠ¡æ— æ³•ä¿®æ”¹è¿™äº›æ•°æ®ã€‚ä¿®æ”¹åˆ é™¤æ•°æ®æ—¶ä¹Ÿè¦åŠ é”ï¼Œå…¶å®ƒäº‹åŠ¡æ— æ³•è¯»å–è¿™äº›æ•°æ®ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("æ‚²è§‚é”ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„å…±äº«é”å’Œæ’ä»–é”ã€‚")])]),_._v(" "),v("p",[_._v("2ï¼‰ä¹è§‚é”")]),_._v(" "),v("p",[_._v("ç›¸å¯¹æ‚²è§‚é”è€Œè¨€ï¼Œä¹è§‚é”æœºåˆ¶é‡‡å–äº†æ›´åŠ å®½æ¾çš„åŠ é”æœºåˆ¶ã€‚æ‚²è§‚é”å¤§å¤šæ•°æƒ…å†µä¸‹ä¾é æ•°æ®åº“çš„é”æœºåˆ¶å®ç°ï¼Œä»¥ä¿è¯æ“ä½œæœ€å¤§ç¨‹åº¦çš„ç‹¬å æ€§ã€‚ä½†éšä¹‹è€Œæ¥çš„å°±æ˜¯æ•°æ®åº“æ€§èƒ½çš„å¤§é‡å¼€é”€ï¼Œç‰¹åˆ«æ˜¯å¯¹é•¿äº‹åŠ¡è€Œè¨€ï¼Œè¿™æ ·çš„å¼€é”€å¾€å¾€æ— æ³•æ‰¿å—ã€‚")]),_._v(" "),v("p",[_._v("è€Œä¹è§‚é”æœºåˆ¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä¹è§‚é”ï¼Œå¤§å¤šæ˜¯åŸºäºæ•°æ®ç‰ˆæœ¬ï¼ˆ Version ï¼‰è®°å½•æœºåˆ¶å®ç°ã€‚ä½•è°“æ•°æ®ç‰ˆæœ¬ï¼Ÿå³ä¸ºæ•°æ®å¢åŠ ä¸€ä¸ªç‰ˆæœ¬æ ‡è¯†ï¼Œåœ¨åŸºäºæ•°æ®åº“è¡¨çš„ç‰ˆæœ¬è§£å†³æ–¹æ¡ˆä¸­ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ä¸ºæ•°æ®åº“è¡¨å¢åŠ ä¸€ä¸ª â€œversionâ€ å­—æ®µæ¥å®ç°ã€‚è¯»å–å‡ºæ•°æ®æ—¶ï¼Œå°†æ­¤ç‰ˆæœ¬å·ä¸€åŒè¯»å‡ºï¼Œä¹‹åæ›´æ–°æ—¶ï¼Œå¯¹æ­¤ç‰ˆæœ¬å·åŠ ä¸€ã€‚æ­¤æ—¶ï¼Œå°†æäº¤æ•°æ®çš„ç‰ˆæœ¬æ•°æ®ä¸æ•°æ®åº“è¡¨å¯¹åº”è®°å½•çš„å½“å‰ç‰ˆæœ¬ä¿¡æ¯è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœæäº¤çš„æ•°æ®ç‰ˆæœ¬å·å¤§äºæ•°æ®åº“è¡¨å½“å‰ç‰ˆæœ¬å·ï¼Œåˆ™äºˆä»¥æ›´æ–°ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¿‡æœŸæ•°æ®ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¹è§‚é”ï¼Œå®é™…å°±æ˜¯é€šè¿‡ç‰ˆæœ¬å·ï¼Œä»è€Œå®ç° CAS åŸå­æ€§æ›´æ–°ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿ")])]),_._v(" "),v("p",[_._v("å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥è®¤ä¸ºå¦‚æœä¸€ä¸ªèµ„æºè¢«é”å®šï¼Œå®ƒæ€»ä¼šåœ¨ä»¥åæŸä¸ªæ—¶é—´è¢«é‡Šæ”¾ã€‚è€Œæ­»é”å‘ç”Ÿåœ¨å½“å¤šä¸ªè¿›ç¨‹è®¿é—®åŒä¸€æ•°æ®åº“æ—¶ï¼Œå…¶ä¸­æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰çš„é”éƒ½æ˜¯å…¶ä»–è¿›ç¨‹æ‰€éœ€çš„ï¼Œç”±æ­¤é€ æˆæ¯ä¸ªè¿›ç¨‹éƒ½æ— æ³•ç»§ç»­ä¸‹å»ã€‚ç®€å•çš„è¯´ï¼Œè¿›ç¨‹ A ç­‰å¾…è¿›ç¨‹ B é‡Šæ”¾ä»–çš„èµ„æºï¼ŒB åˆç­‰å¾… A é‡Šæ”¾ä»–çš„èµ„æºï¼Œè¿™æ ·å°±äº’ç›¸ç­‰å¾…å°±å½¢æˆæ­»é”ã€‚")]),_._v(" "),v("p",[_._v("è™½ç„¶è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‘ç”Ÿæ­»é”ï¼Œä½†æ­»é”çš„å‘ç”Ÿä¹Ÿå¿…é¡»å…·å¤‡ä¸€å®šçš„æ¡ä»¶ï¼Œæ­»é”çš„å‘ç”Ÿå¿…é¡»å…·å¤‡ä»¥ä¸‹å››ä¸ªå¿…è¦æ¡ä»¶ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("äº’æ–¥æ¡ä»¶ï¼šæŒ‡è¿›ç¨‹å¯¹æ‰€åˆ†é…åˆ°çš„èµ„æºè¿›è¡Œæ’å®ƒæ€§ä½¿ç”¨ï¼Œå³åœ¨ä¸€æ®µæ—¶é—´å†…æŸèµ„æºåªç”±ä¸€ä¸ªè¿›ç¨‹å ç”¨ã€‚å¦‚æœæ­¤æ—¶è¿˜æœ‰å…¶å®ƒè¿›ç¨‹è¯·æ±‚èµ„æºï¼Œåˆ™è¯·æ±‚è€…åªèƒ½ç­‰å¾…ï¼Œç›´è‡³å æœ‰èµ„æºçš„è¿›ç¨‹ç”¨æ¯•é‡Šæ”¾ã€‚")]),_._v(" "),v("li",[_._v("è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šæŒ‡è¿›ç¨‹å·²ç»ä¿æŒè‡³å°‘ä¸€ä¸ªèµ„æºï¼Œä½†åˆæå‡ºäº†æ–°çš„èµ„æºè¯·æ±‚ï¼Œè€Œè¯¥èµ„æºå·²è¢«å…¶å®ƒè¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿›ç¨‹é˜»å¡ï¼Œä½†åˆå¯¹è‡ªå·±å·²è·å¾—çš„å…¶å®ƒèµ„æºä¿æŒä¸æ”¾ã€‚")]),_._v(" "),v("li",[_._v("ä¸å‰¥å¤ºæ¡ä»¶ï¼šæŒ‡è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½è¢«å‰¥å¤ºï¼Œåªèƒ½åœ¨ä½¿ç”¨å®Œæ—¶ç”±è‡ªå·±é‡Šæ”¾ã€‚")]),_._v(" "),v("li",[_._v("ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šæŒ‡åœ¨å‘ç”Ÿæ­»é”æ—¶ï¼Œå¿…ç„¶å­˜åœ¨ä¸€ä¸ªè¿›ç¨‹â€”â€”èµ„æºçš„ç¯å½¢é“¾ï¼Œå³è¿›ç¨‹é›†åˆ {P0ï¼ŒP1ï¼ŒP2ï¼Œâ€¢â€¢â€¢ï¼ŒPn} ä¸­çš„ P0 æ­£åœ¨ç­‰å¾…ä¸€ä¸ª P1 å ç”¨çš„èµ„æºï¼›P1 æ­£åœ¨ç­‰å¾… P2 å ç”¨çš„èµ„æºï¼Œâ€¦â€¦ï¼ŒPn æ­£åœ¨ç­‰å¾…å·²è¢« P0 å ç”¨çš„èµ„æºã€‚")])]),_._v(" "),v("p",[_._v("ä¸‹åˆ—æ–¹æ³•æœ‰åŠ©äºæœ€å¤§é™åº¦åœ°é™ä½æ­»é”ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("è®¾ç½®è·å¾—é”çš„è¶…æ—¶æ—¶é—´ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("é€šè¿‡è¶…æ—¶ï¼Œè‡³å°‘ä¿è¯æœ€å·®æœ€å·®æœ€å·®æƒ…å†µä¸‹ï¼Œå¯ä»¥æœ‰é€€å‡ºçš„å£å­ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("æŒ‰åŒä¸€é¡ºåºè®¿é—®å¯¹è±¡ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªæ˜¯æœ€é‡è¦çš„æ–¹å¼ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("é¿å…äº‹åŠ¡ä¸­çš„ç”¨æˆ·äº¤äº’ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("ä¿æŒäº‹åŠ¡ç®€çŸ­å¹¶åœ¨ä¸€ä¸ªæ‰¹å¤„ç†ä¸­ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("ä½¿ç”¨ä½éš”ç¦»çº§åˆ«ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("ä½¿ç”¨ç»‘å®šè¿æ¥ã€‚")])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL ä¸­ InnoDB å¼•æ“çš„è¡Œé”æ˜¯é€šè¿‡åŠ åœ¨ä»€ä¹ˆä¸Šå®Œæˆ(æˆ–ç§°å®ç°)çš„ï¼Ÿä¸ºä»€ä¹ˆæ˜¯è¿™æ ·å­çš„ï¼Ÿï¼Ÿ")])]),_._v(" "),v("p",[_._v("InnoDB æ˜¯åŸºäºç´¢å¼•æ¥å®Œæˆè¡Œé”ã€‚ä¾‹å¦‚ï¼š"),v("code",[_._v("SELECT * FROM tab_with_index WHERE id = 1 FOR UPDATE")]),_._v(" ã€‚")]),_._v(" "),v("ul",[v("li",[v("code",[_._v("FOR UPDATE")]),_._v(" å¯ä»¥æ ¹æ®æ¡ä»¶æ¥å®Œæˆ"),v("strong",[_._v("è¡Œé”")]),_._v("é”å®šï¼Œå¹¶ä¸” id æ˜¯æœ‰ç´¢å¼•é”®çš„åˆ—,å¦‚æœ id ä¸æ˜¯ç´¢å¼•é”®é‚£ä¹ˆ InnoDB å°†å®Œæˆ"),v("strong",[_._v("è¡¨é”")]),_._v("ï¼Œå¹¶å‘å°†æ— ä»è°ˆèµ·ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å…³äºç†Ÿæ‚‰ MySQL çš„é”æœºåˆ¶ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ²¡ç‰¹åˆ«ç ”ç©¶ï¼Œå…ˆ mark åœ¨è¿™é‡Œã€‚")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("gap é”")])]),_._v(" "),v("li",[v("p",[_._v("next-key é”")])]),_._v(" "),v("li",[v("p",[_._v("Innodb çš„è¡Œé”æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ")]),_._v(" "),v("blockquote",[v("p",[_._v("Innodb çš„é”çš„ç­–ç•¥ä¸º next-key é”ï¼Œå³ record lock + gap lock ï¼Œæ˜¯é€šè¿‡åœ¨ index ä¸ŠåŠ  lock å®ç°çš„ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("å¦‚æœ index ä¸º unique index ï¼Œåˆ™é™çº§ä¸º record lock è¡Œé”ã€‚")]),_._v(" "),v("li",[_._v("å¦‚æœæ˜¯æ™®é€š index ï¼Œåˆ™ä¸º next-key lock ã€‚")]),_._v(" "),v("li",[_._v("å¦‚æœæ²¡æœ‰ index ï¼Œåˆ™ç›´æ¥é”ä½å…¨è¡¨ï¼Œå³è¡¨é”ã€‚")])])])]),_._v(" "),v("li",[v("p",[_._v("MyISAM çš„è¡¨é”æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ")]),_._v(" "),v("blockquote",[v("p",[_._v("MyISAM ç›´æ¥ä½¿ç”¨è¡¨é”ã€‚")])])])]),_._v(" "),v("h2",{attrs:{id:"ã€é‡è¦ã€‘mysql-æŸ¥è¯¢æ‰§è¡Œé¡ºåº"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡è¦ã€‘mysql-æŸ¥è¯¢æ‰§è¡Œé¡ºåº"}},[_._v("#")]),_._v(" ã€é‡è¦ã€‘MySQL æŸ¥è¯¢æ‰§è¡Œé¡ºåºï¼Ÿ")]),_._v(" "),v("p",[_._v("MySQL æŸ¥è¯¢æ‰§è¡Œçš„é¡ºåºæ˜¯ï¼š")]),_._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("(1)     SELECT\n(2)     DISTINCT <select_list>\n(3)     FROM <left_table>\n(4)     <join_type> JOIN <right_table>\n(5)     ON <join_condition>\n(6)     WHERE <where_condition>\n(7)     GROUP BY <group_by_list>\n(8)     HAVING <having_condition>\n(9)     ORDER BY <order_by_condition>\n(10)    LIMIT <limit_number>\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br"),v("span",{staticClass:"line-number"},[_._v("2")]),v("br"),v("span",{staticClass:"line-number"},[_._v("3")]),v("br"),v("span",{staticClass:"line-number"},[_._v("4")]),v("br"),v("span",{staticClass:"line-number"},[_._v("5")]),v("br"),v("span",{staticClass:"line-number"},[_._v("6")]),v("br"),v("span",{staticClass:"line-number"},[_._v("7")]),v("br"),v("span",{staticClass:"line-number"},[_._v("8")]),v("br"),v("span",{staticClass:"line-number"},[_._v("9")]),v("br"),v("span",{staticClass:"line-number"},[_._v("10")]),v("br")])]),v("p",[_._v("å…·ä½“çš„ï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://zouzls.github.io/2017/03/23/SQL%E6%9F%A5%E8%AF%A2%E4%B9%8B%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E8%A7%A3%E6%9E%90/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠSQL æŸ¥è¯¢ä¹‹æ‰§è¡Œé¡ºåºè§£æã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("h2",{attrs:{id:"ã€é‡è¦ã€‘èŠèŠ-mysql-sql-ä¼˜åŒ–"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€é‡è¦ã€‘èŠèŠ-mysql-sql-ä¼˜åŒ–"}},[_._v("#")]),_._v(" ã€é‡è¦ã€‘èŠèŠ MySQL SQL ä¼˜åŒ–ï¼Ÿ")]),_._v(" "),v("p",[_._v("å¯ä»¥çœ‹çœ‹å¦‚ä¸‹å‡ ç¯‡æ–‡ç« ï¼š")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://www.jianshu.com/p/ab958a4823d1",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠPHP é¢è¯•ä¹‹ MySQL æŸ¥è¯¢ä¼˜åŒ–ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://blog.csdn.net/DERRANTCM/article/details/51534411",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šã€é¢è¯•ã€‘ã€MySQLå¸¸è§é—®é¢˜æ€»ç»“ã€‘ã€03ã€‘ã€‹"),v("OutboundLink")],1),_._v(" ç¬¬ 078ã€095ã€105 é¢˜")])]),_._v(" "),v("p",[_._v("å¦å¤–ï¼Œé™¤äº†ä» SQL å±‚é¢è¿›è¡Œä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ä»æœåŠ¡å™¨ç¡¬ä»¶å±‚é¢ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ– MySQL ã€‚å…·ä½“å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/bemavery/article/details/46241533",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–ä¹‹ç¡¬ä»¶ä¼˜åŒ–ã€‹"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("h2",{attrs:{id:"ã€åŠ åˆ†ã€‘ä»€ä¹ˆæ˜¯-mvcc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ã€åŠ åˆ†ã€‘ä»€ä¹ˆæ˜¯-mvcc"}},[_._v("#")]),_._v(" ã€åŠ åˆ†ã€‘ä»€ä¹ˆæ˜¯ MVCC ï¼Ÿ")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™æ˜¯ä¸€ä¸ªé¢è¯•çš„åŠ åˆ†é¢˜ï¼Œä¸€äº›å¤§å‚æ¯”è¾ƒå–œæ¬¢é—®ï¼Œä¾‹å¦‚èš‚èšé‡‘æœã€‚")])]),_._v(" "),v("p",[_._v("å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨æ¥"),v("strong",[_._v("è§£å†³è¯»-å†™å†²çª")]),_._v("çš„æ— é”å¹¶å‘æ§åˆ¶ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº‹åŠ¡åˆ†é…å•å‘å¢é•¿çš„æ—¶é—´æˆ³ï¼Œä¸ºæ¯ä¸ªä¿®æ”¹ä¿å­˜ä¸€ä¸ªç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸äº‹åŠ¡æ—¶é—´æˆ³å…³è”ï¼Œè¯»æ“ä½œåªè¯»è¯¥äº‹åŠ¡å¼€å§‹å‰çš„æ•°æ®åº“çš„å¿«ç…§ã€‚ è¿™æ ·åœ¨è¯»æ“ä½œä¸ç”¨é˜»å¡å†™æ“ä½œï¼Œå†™æ“ä½œä¸ç”¨é˜»å¡è¯»æ“ä½œçš„åŒæ—¶ï¼Œé¿å…äº†è„è¯»å’Œä¸å¯é‡å¤è¯»ã€‚")]),_._v(" "),v("p",[_._v("æ¨èå¯ä»¥çœ‹çœ‹å¦‚ä¸‹èµ„æ–™ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("æ²ˆè¯¢ "),v("a",{attrs:{href:"https://www.imooc.com/learn/272",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šåœ¨çº¿åˆ†å¸ƒå¼æ•°æ®åº“åŸç†ä¸å®è·µã€‹"),v("OutboundLink")],1)]),_._v(" "),v("blockquote",[v("p",[_._v("ä¸€å…± 1 å°æ—¶ 53 åˆ†é’Ÿï¼Œæœ‰è¶£ï¼Œç‰›é€¼ï¼Œå¼ºçƒˆæ¨èï¼ï¼ï¼")])])]),_._v(" "),v("li",[v("p",[_._v("é’Ÿå»¶è¾‰")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://mp.weixin.qq.com/s/sOxLZlXRYR-zZKStE7qAwg",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šåˆ†å¸ƒå¼æ•°æ®åº“ MVCC æŠ€æœ¯æ¢ç§˜ (1)ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://mp.weixin.qq.com/s/8lX3Gyq4J5vLHETtG01EdA",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šåˆ†å¸ƒå¼æ•°æ®åº“ MVCC æŠ€æœ¯æ¢ç§˜(2): æ··åˆé€»è¾‘æ—¶é’Ÿã€‹"),v("OutboundLink")],1)])])])]),_._v(" "),v("h2",{attrs:{id:"ç¼–å†™-sql-æŸ¥è¯¢è¯­å¥çš„è€ƒé¢˜åˆé›†"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™-sql-æŸ¥è¯¢è¯­å¥çš„è€ƒé¢˜åˆé›†"}},[_._v("#")]),_._v(" ç¼–å†™ SQL æŸ¥è¯¢è¯­å¥çš„è€ƒé¢˜åˆé›†")]),_._v(" "),v("p",[_._v("å› ä¸ºè€ƒé¢˜æ¯”è¾ƒå¤šï¼Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾ï¼Œç„äº†ä¸€äº›è¿˜ä¸é”™çš„æ–‡ç« ï¼Œå¦‚ä¸‹ï¼š")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://www.yanxurui.cc/posts/mysql/2016-11-10-10-sql-interview-questions/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Š10 é“ MySQL æŸ¥è¯¢è¯­å¥é¢è¯•é¢˜ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.cnblogs.com/geaozhang/p/6839297.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL å¼€å‘é¢è¯•é¢˜ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://juejin.im/entry/5b57ebdcf265da0f61320e6f",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šä¼ä¸šé¢è¯•é¢˜ï½œæœ€å¸¸é—®çš„ MySQL é¢è¯•é¢˜é›†åˆï¼ˆäºŒï¼‰ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("h2",{attrs:{id:"mysql-æ•°æ®åº“-cpu-é£™å‡åˆ°-500-çš„è¯-æ€ä¹ˆå¤„ç†"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-æ•°æ®åº“-cpu-é£™å‡åˆ°-500-çš„è¯-æ€ä¹ˆå¤„ç†"}},[_._v("#")]),_._v(" MySQL æ•°æ®åº“ CPU é£™å‡åˆ° 500% çš„è¯ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ")]),_._v(" "),v("p",[_._v("å½“ CPU é£™å‡åˆ° 500% æ—¶ï¼Œå…ˆç”¨æ“ä½œç³»ç»Ÿå‘½ä»¤ top å‘½ä»¤è§‚å¯Ÿæ˜¯ä¸æ˜¯ mysqld å ç”¨å¯¼è‡´çš„ï¼Œå¦‚æœä¸æ˜¯ï¼Œæ‰¾å‡ºå ç”¨é«˜çš„è¿›ç¨‹ï¼Œå¹¶è¿›è¡Œç›¸å…³å¤„ç†ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å¦‚æœæ­¤æ—¶æ˜¯ IO å‹åŠ›æ¯”è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨ iostat å‘½ä»¤ï¼Œå®šä½æ˜¯å“ªä¸ªè¿›ç¨‹å ç”¨äº†ç£ç›˜ IO ã€‚")])]),_._v(" "),v("p",[_._v("å¦‚æœæ˜¯ mysqld é€ æˆçš„ï¼Œä½¿ç”¨ "),v("code",[_._v("show processlist")]),_._v(" å‘½ä»¤ï¼Œçœ‹çœ‹é‡Œé¢è·‘çš„ Session æƒ…å†µï¼Œæ˜¯ä¸æ˜¯æœ‰æ¶ˆè€—èµ„æºçš„ SQL åœ¨è¿è¡Œã€‚æ‰¾å‡ºæ¶ˆè€—é«˜çš„ SQL ï¼Œçœ‹çœ‹æ‰§è¡Œè®¡åˆ’æ˜¯å¦å‡†ç¡®ï¼Œ index æ˜¯å¦ç¼ºå¤±ï¼Œæˆ–è€…å®åœ¨æ˜¯æ•°æ®é‡å¤ªå¤§é€ æˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè‚¯å®šè¦ kill æ‰è¿™äº›çº¿ç¨‹(åŒæ—¶è§‚å¯Ÿ CPU ä½¿ç”¨ç‡æ˜¯å¦ä¸‹é™)ï¼Œç­‰è¿›è¡Œç›¸åº”çš„è°ƒæ•´(æ¯”å¦‚è¯´åŠ ç´¢å¼•ã€æ”¹ SQL ã€æ”¹å†…å­˜å‚æ•°)ä¹‹åï¼Œå†é‡æ–°è·‘è¿™äº› SQLã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¹Ÿå¯ä»¥æŸ¥çœ‹ MySQL æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œçœ‹æ˜¯å¦æœ‰æ…¢ SQL ã€‚")])]),_._v(" "),v("p",[_._v("ä¹Ÿæœ‰å¯èƒ½æ˜¯æ¯ä¸ª SQL æ¶ˆè€—èµ„æºå¹¶ä¸å¤šï¼Œä½†æ˜¯çªç„¶ä¹‹é—´ï¼Œæœ‰å¤§é‡çš„ Session è¿è¿›æ¥å¯¼è‡´ CPU é£™å‡ï¼Œè¿™ç§æƒ…å†µå°±éœ€è¦è·Ÿåº”ç”¨ä¸€èµ·æ¥åˆ†æä¸ºä½•è¿æ¥æ•°ä¼šæ¿€å¢ï¼Œå†åšå‡ºç›¸åº”çš„è°ƒæ•´ï¼Œæ¯”å¦‚è¯´é™åˆ¶è¿æ¥æ•°ç­‰ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("åœ¨ MySQL æœåŠ¡å™¨è¿è¡Œç¼“æ…¢çš„æƒ…å†µä¸‹è¾“å…¥ä»€ä¹ˆå‘½ä»¤èƒ½ç¼“è§£æœåŠ¡å™¨å‹åŠ›ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªå›ç­”ï¼Œå’Œä¸Šé¢çš„å›ç­”æ€è·¯æ˜¯å·®ä¸å¤šçš„ï¼Œä¼˜ç§€åœ¨æ›´æœ‰å±‚æ¬¡æ„Ÿã€‚")])]),_._v(" "),v("p",[_._v("1ï¼‰æ£€æŸ¥ç³»ç»Ÿçš„çŠ¶æ€")]),_._v(" "),v("p",[_._v("é€šè¿‡æ“ä½œç³»ç»Ÿçš„ä¸€äº›å·¥å…·æ£€æŸ¥ç³»ç»Ÿçš„çŠ¶æ€ï¼Œæ¯”å¦‚ CPUã€å†…å­˜ã€äº¤æ¢ã€ç£ç›˜çš„åˆ©ç”¨ç‡ï¼Œæ ¹æ®ç»éªŒæˆ–ä¸ç³»ç»Ÿæ­£å¸¸æ—¶çš„çŠ¶æ€ç›¸æ¯”å¯¹ï¼Œæœ‰æ—¶ç³»ç»Ÿè¡¨é¢ä¸Šçœ‹èµ·æ¥çœ‹ç©ºé—²ï¼Œè¿™ä¹Ÿå¯èƒ½ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„çŠ¶æ€ï¼Œå› ä¸º CPU å¯èƒ½æ­£ç­‰å¾…IOçš„å®Œæˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜åº”è§‚æ³¨é‚£äº›å ç”¨ç³»ç»Ÿèµ„æº(CPUã€å†…å­˜)çš„è¿›ç¨‹ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ä½¿ç”¨ sar æ¥æ£€æŸ¥æ“ä½œç³»ç»Ÿæ˜¯å¦å­˜åœ¨ IO é—®é¢˜ã€‚")]),_._v(" "),v("li",[_._v("ä½¿ç”¨ vmstat ç›‘æ§å†…å­˜ CPU èµ„æºã€‚")]),_._v(" "),v("li",[_._v("ç£ç›˜ IO é—®é¢˜ï¼Œå¤„ç†æ–¹å¼ï¼šåš raid10 æé«˜æ€§èƒ½ ã€‚")]),_._v(" "),v("li",[_._v("ç½‘ç»œé—®é¢˜ï¼Œtelnet ä¸€ä¸‹ MySQL å¯¹å¤–å¼€æ”¾çš„ç«¯å£ã€‚å¦‚æœä¸é€šçš„è¯ï¼Œçœ‹çœ‹é˜²ç«å¢™æ˜¯å¦æ­£ç¡®è®¾ç½®äº†ã€‚å¦å¤–ï¼Œçœ‹çœ‹ MySQ Læ˜¯ä¸æ˜¯å¼€å¯äº† skip-networking çš„é€‰é¡¹ï¼Œå¦‚æœå¼€å¯è¯·å…³é—­ã€‚")])]),_._v(" "),v("p",[_._v("2ï¼‰æ£€æŸ¥ MySQL å‚æ•°")]),_._v(" "),v("ul",[v("li",[_._v("max_connect_errors")]),_._v(" "),v("li",[_._v("connect_timeout")]),_._v(" "),v("li",[_._v("skip-name-resolve")]),_._v(" "),v("li",[_._v("slave-net-timeout=seconds")]),_._v(" "),v("li",[_._v("master-connect-retry")])]),_._v(" "),v("p",[_._v("3ï¼‰æ£€æŸ¥ MySQL ç›¸å…³çŠ¶æ€å€¼")]),_._v(" "),v("ul",[v("li",[_._v("å…³æ³¨è¿æ¥æ•°")]),_._v(" "),v("li",[_._v("å…³æ³¨ä¸‹ç³»ç»Ÿé”æƒ…å†µ")]),_._v(" "),v("li",[_._v("å…³æ³¨æ…¢æŸ¥è¯¢ï¼ˆslow queryï¼‰æ—¥å¿—")])]),_._v(" "),v("h1",{attrs:{id:"è¿ç»´"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#è¿ç»´"}},[_._v("#")]),_._v(" è¿ç»´")]),_._v(" "),v("p",[_._v("ç†è§£ä¸€éï¼Œå³ä½¿æœ‰è›®å¤šä¸ä¼šï¼Œä¹Ÿä¸è¦æ‹…å¿ƒå¤ªå¤šã€‚")]),_._v(" "),v("h2",{attrs:{id:"innodb-çš„äº‹åŠ¡ä¸æ—¥å¿—çš„å®ç°æ–¹å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#innodb-çš„äº‹åŠ¡ä¸æ—¥å¿—çš„å®ç°æ–¹å¼"}},[_._v("#")]),_._v(" Innodb çš„äº‹åŠ¡ä¸æ—¥å¿—çš„å®ç°æ–¹å¼")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("æœ‰å¤šå°‘ç§æ—¥å¿—ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("redo æ—¥å¿—")]),_._v(" "),v("li",[_._v("undo æ—¥å¿—")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("æ—¥å¿—çš„å­˜æ”¾å½¢å¼ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("redoï¼šåœ¨é¡µä¿®æ”¹çš„æ—¶å€™ï¼Œå…ˆå†™åˆ° redo log buffer é‡Œé¢ï¼Œ ç„¶åå†™åˆ° redo log çš„æ–‡ä»¶ç³»ç»Ÿç¼“å­˜é‡Œé¢(fwrite)ï¼Œç„¶åå†åŒæ­¥åˆ°ç£ç›˜æ–‡ä»¶ï¼ˆfsyncï¼‰ã€‚")]),_._v(" "),v("li",[_._v("undoï¼šåœ¨ MySQL5.5 ä¹‹å‰ï¼Œundo åªèƒ½å­˜æ”¾åœ¨ ibdata "),v("em",[_._v("æ–‡ä»¶é‡Œé¢ï¼Œ 5.6 ä¹‹åï¼Œå¯ä»¥é€šè¿‡è®¾ç½® innodb_undo_tablespaces å‚æ•°æŠŠ undo log å­˜æ”¾åœ¨ ibdata")]),_._v(" ä¹‹å¤–ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("äº‹åŠ¡æ˜¯å¦‚ä½•é€šè¿‡æ—¥å¿—æ¥å®ç°çš„ï¼Œè¯´å¾—è¶Šæ·±å…¥è¶Šå¥½")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªæµç¨‹çš„ç†è§£è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå®é™…æ€è€ƒå®ç°æ„Ÿè§‰è¿˜æ˜¯è›®å¤æ‚çš„ã€‚")])]),_._v(" "),v("p",[_._v("åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("å› ä¸ºäº‹åŠ¡åœ¨ä¿®æ”¹é¡µæ—¶ï¼Œè¦å…ˆè®° undo ï¼Œåœ¨è®° undo ä¹‹å‰è¦è®° undo çš„ redoï¼Œ ç„¶åä¿®æ”¹æ•°æ®é¡µï¼Œå†è®°æ•°æ®é¡µä¿®æ”¹çš„ redoã€‚ redoï¼ˆé‡Œé¢åŒ…æ‹¬ undo çš„ä¿®æ”¹ï¼‰ä¸€å®šè¦æ¯”æ•°æ®é¡µå…ˆæŒä¹…åŒ–åˆ°ç£ç›˜ã€‚")]),_._v(" "),v("li",[_._v("å½“äº‹åŠ¡éœ€è¦å›æ»šæ—¶ï¼Œå› ä¸ºæœ‰ undoï¼Œå¯ä»¥æŠŠæ•°æ®é¡µå›æ»šåˆ°å‰é•œåƒçš„çŠ¶æ€ã€‚")]),_._v(" "),v("li",[_._v("å´©æºƒæ¢å¤æ—¶ï¼Œå¦‚æœ redo log ä¸­äº‹åŠ¡æ²¡æœ‰å¯¹åº”çš„ commit è®°å½•ï¼Œé‚£ä¹ˆéœ€è¦ç”¨ undo æŠŠè¯¥äº‹åŠ¡çš„ä¿®æ”¹å›æ»šåˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰ã€‚å¦‚æœæœ‰ commit è®°å½•ï¼Œå°±ç”¨ redo å‰æ»šåˆ°è¯¥äº‹åŠ¡å®Œæˆæ—¶å¹¶æäº¤æ‰ã€‚")])]),_._v(" "),v("h2",{attrs:{id:"mysql-binlog-çš„å‡ ç§æ—¥å¿—å½•å…¥æ ¼å¼ä»¥åŠåŒºåˆ«"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-binlog-çš„å‡ ç§æ—¥å¿—å½•å…¥æ ¼å¼ä»¥åŠåŒºåˆ«"}},[_._v("#")]),_._v(" MySQL binlog çš„å‡ ç§æ—¥å¿—å½•å…¥æ ¼å¼ä»¥åŠåŒºåˆ«")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å„ç§æ—¥å¿—æ ¼å¼çš„æ¶µä¹‰")])]),_._v(" "),v("p",[_._v("binlog æœ‰ä¸‰ç§æ ¼å¼ç±»å‹ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š")]),_._v(" "),v("p",[_._v("1ï¼‰Statement")]),_._v(" "),v("p",[_._v("æ¯ä¸€æ¡ä¼šä¿®æ”¹æ•°æ®çš„ SQL éƒ½ä¼šè®°å½•åœ¨ binlog ä¸­ã€‚")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("ä¼˜ç‚¹ï¼šä¸éœ€è¦è®°å½•æ¯ä¸€è¡Œçš„å˜åŒ–ï¼Œå‡å°‘äº† binlog æ—¥å¿—é‡ï¼ŒèŠ‚çº¦äº† IOï¼Œæé«˜æ€§èƒ½ã€‚(ç›¸æ¯” row èƒ½èŠ‚çº¦å¤šå°‘æ€§èƒ½ä¸æ—¥å¿—é‡ï¼Œè¿™ä¸ªå–å†³äºåº”ç”¨çš„ SQL æƒ…å†µï¼Œæ­£å¸¸åŒä¸€æ¡è®°å½•ä¿®æ”¹æˆ–è€…æ’å…¥ row æ ¼å¼æ‰€äº§ç”Ÿçš„æ—¥å¿—é‡è¿˜å°äº Statement äº§ç”Ÿçš„æ—¥å¿—é‡ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å¦‚æœå¸¦æ¡ä»¶çš„ update æ“ä½œï¼Œä»¥åŠæ•´è¡¨åˆ é™¤ï¼Œalter è¡¨ç­‰æ“ä½œï¼ŒROW æ ¼å¼ä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—ï¼Œå› æ­¤åœ¨è€ƒè™‘æ˜¯å¦ä½¿ç”¨ ROW æ ¼å¼æ—¥å¿—æ—¶åº”è¯¥è·Ÿæ®åº”ç”¨çš„å®é™…æƒ…å†µï¼Œå…¶æ‰€äº§ç”Ÿçš„æ—¥å¿—é‡ä¼šå¢åŠ å¤šå°‘ï¼Œä»¥åŠå¸¦æ¥çš„ IO æ€§èƒ½é—®é¢˜ã€‚)")])]),_._v(" "),v("li",[v("p",[_._v("ç¼ºç‚¹ï¼šç”±äºè®°å½•çš„åªæ˜¯æ‰§è¡Œè¯­å¥ï¼Œä¸ºäº†è¿™äº›è¯­å¥èƒ½åœ¨ slave ä¸Šæ­£ç¡®è¿è¡Œï¼Œå› æ­¤è¿˜å¿…é¡»è®°å½•æ¯æ¡è¯­å¥åœ¨æ‰§è¡Œçš„æ—¶å€™çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¿è¯æ‰€æœ‰è¯­å¥èƒ½åœ¨ slave å¾—åˆ°å’Œåœ¨ master ç«¯æ‰§è¡Œæ—¶å€™ç›¸åŒ çš„ç»“æœã€‚å¦å¤– MySQL çš„å¤åˆ¶ï¼Œåƒä¸€äº›ç‰¹å®šå‡½æ•°åŠŸèƒ½ï¼Œslave å¯ä¸ master ä¸Šè¦ä¿æŒä¸€è‡´ä¼šæœ‰å¾ˆå¤šç›¸å…³é—®é¢˜(å¦‚ "),v("code",[_._v("sleep()")]),_._v(" å‡½æ•°ï¼Œ"),v("code",[_._v("last_insert_id()")]),_._v("ï¼Œä»¥åŠ user-defined functions(udf) ä¼šå‡ºç°é—®é¢˜)ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("ä½¿ç”¨ä»¥ä¸‹å‡½æ•°çš„è¯­å¥ä¹Ÿæ— æ³•è¢«å¤åˆ¶ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[v("code",[_._v("LOAD_FILE()")])])]),_._v(" "),v("li",[v("p",[v("code",[_._v("UUID()")])])]),_._v(" "),v("li",[v("p",[v("code",[_._v("USER()")])])]),_._v(" "),v("li",[v("p",[v("code",[_._v("FOUND_ROWS()")])])]),_._v(" "),v("li",[v("p",[v("code",[_._v("SYSDATE()")]),_._v(" (é™¤éå¯åŠ¨æ—¶å¯ç”¨äº† "),v("code",[_._v("--sysdate-is-now")]),_._v(" é€‰é¡¹)")]),_._v(" "),v("blockquote",[v("p",[_._v("åŒæ—¶åœ¨ INSERT â€¦SELECT ä¼šäº§ç”Ÿæ¯” RBR æ›´å¤šçš„è¡Œçº§é” ã€‚")])])])])])]),_._v(" "),v("p",[_._v("2ï¼‰Row")]),_._v(" "),v("p",[_._v("ä¸è®°å½• SQL è¯­å¥ä¸Šä¸‹æ–‡ç›¸å…³ä¿¡æ¯ï¼Œä»…ä¿å­˜å“ªæ¡è®°å½•è¢«ä¿®æ”¹ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ä¼˜ç‚¹ï¼šbinlog ä¸­å¯ä»¥ä¸è®°å½•æ‰§è¡Œçš„ SQL è¯­å¥çš„ä¸Šä¸‹æ–‡ç›¸å…³çš„ä¿¡æ¯ï¼Œä»…éœ€è¦è®°å½•é‚£ä¸€æ¡è®°å½•è¢«ä¿®æ”¹æˆä»€ä¹ˆäº†ã€‚æ‰€ä»¥ rowlevel çš„æ—¥å¿—å†…å®¹ä¼šéå¸¸æ¸…æ¥šçš„è®°å½•ä¸‹æ¯ä¸€è¡Œæ•°æ®ä¿®æ”¹çš„ç»†èŠ‚ã€‚è€Œä¸”ä¸ä¼šå‡ºç°æŸäº›ç‰¹å®šæƒ…å†µä¸‹çš„å­˜å‚¨è¿‡ç¨‹ï¼Œæˆ– function ï¼Œä»¥åŠ trigger çš„è°ƒç”¨å’Œè§¦å‘æ— æ³•è¢«æ­£ç¡®å¤åˆ¶çš„é—®é¢˜ã€‚")]),_._v(" "),v("li",[_._v("ç¼ºç‚¹ï¼šæ‰€æœ‰çš„æ‰§è¡Œçš„è¯­å¥å½“è®°å½•åˆ°æ—¥å¿—ä¸­çš„æ—¶å€™ï¼Œéƒ½å°†ä»¥æ¯è¡Œè®°å½•çš„ä¿®æ”¹æ¥è®°å½•ï¼Œè¿™æ ·å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—å†…å®¹,æ¯”å¦‚ä¸€æ¡ Update è¯­å¥ï¼Œä¿®æ”¹å¤šæ¡è®°å½•ï¼Œåˆ™ binlog ä¸­æ¯ä¸€æ¡ä¿®æ”¹éƒ½ä¼šæœ‰è®°å½•ï¼Œè¿™æ ·é€ æˆ binlog æ—¥å¿—é‡ä¼šå¾ˆå¤§ï¼Œç‰¹åˆ«æ˜¯å½“æ‰§è¡Œ alter table ä¹‹ç±»çš„è¯­å¥çš„æ—¶å€™ï¼Œç”±äºè¡¨ç»“æ„ä¿®æ”¹ï¼Œæ¯æ¡è®°å½•éƒ½å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆè¯¥è¡¨æ¯ä¸€æ¡è®°å½•éƒ½ä¼šè®°å½•åˆ°æ—¥å¿—ä¸­ã€‚")])]),_._v(" "),v("p",[_._v("3ï¼‰Mixedlevel")]),_._v(" "),v("p",[_._v("æ˜¯ä»¥ä¸Šä¸¤ç§ level çš„æ··åˆä½¿ç”¨ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ä¸€èˆ¬çš„è¯­å¥ä¿®æ”¹ä½¿ç”¨ Statement æ ¼å¼ä¿å­˜ binlog ã€‚")]),_._v(" "),v("li",[_._v("å¦‚ä¸€äº›å‡½æ•°ï¼Œstatement æ— æ³•å®Œæˆä¸»ä»å¤åˆ¶çš„æ“ä½œï¼Œåˆ™é‡‡ç”¨ Row æ ¼å¼ä¿å­˜ binlog ã€‚")])]),_._v(" "),v("p",[_._v("MySQL ä¼šæ ¹æ®æ‰§è¡Œçš„æ¯ä¸€æ¡å…·ä½“çš„ SQL è¯­å¥æ¥åŒºåˆ†å¯¹å¾…è®°å½•çš„æ—¥å¿—å½¢å¼ï¼Œä¹Ÿå°±æ˜¯åœ¨ Statement å’Œ Row ä¹‹é—´é€‰æ‹© ä¸€ç§ã€‚")]),_._v(" "),v("p",[_._v("æ–°ç‰ˆæœ¬çš„ MySQL ä¸­å¯¹ row level æ¨¡å¼ä¹Ÿè¢«åšäº†ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ä¿®æ”¹éƒ½ä¼šä»¥ row level æ¥è®°å½•ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("åƒé‡åˆ°è¡¨ç»“æ„å˜æ›´çš„æ—¶å€™å°±ä¼šä»¥ Statement æ¨¡å¼æ¥è®°å½•ã€‚")]),_._v(" "),v("li",[_._v("è‡³äº Update æˆ–è€… Delete ç­‰ä¿®æ”¹æ•°æ®çš„è¯­å¥ï¼Œè¿˜æ˜¯ä¼šè®°å½•æ‰€æœ‰è¡Œçš„å˜æ›´ï¼Œå³ä½¿ç”¨ Row æ¨¡å¼ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("é€‚ç”¨åœºæ™¯ï¼Ÿ")])]),_._v(" "),v("p",[_._v("åœ¨ä¸€æ¡ SQL æ“ä½œäº†å¤šè¡Œæ•°æ®æ—¶ï¼Œ Statement æ›´èŠ‚çœç©ºé—´ï¼ŒRow æ›´å ç”¨ç©ºé—´ã€‚ä½†æ˜¯ï¼Œ Row æ¨¡å¼æ›´å¯é ã€‚")]),_._v(" "),v("p",[_._v("å› ä¸ºï¼Œäº’è”ç½‘å…¬å¸ï¼Œä½¿ç”¨ MySQL çš„åŠŸèƒ½ç›¸å¯¹å°‘ï¼ŒåŸºæœ¬ä¸ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€å‡½æ•°çš„åŠŸèƒ½ï¼Œé€‰æ‹©é»˜è®¤çš„è¯­å¥æ¨¡å¼ï¼ŒStatement Levelï¼ˆé»˜è®¤ï¼‰å³å¯ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ç»“åˆç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸€ç§æ—¥å¿—æ ¼å¼åœ¨å¤åˆ¶ä¸­çš„ä¼˜åŠ£ï¼Ÿ")])]),_._v(" "),v("ul",[v("li",[_._v("Statement å¯èƒ½å ç”¨ç©ºé—´ä¼šç›¸å¯¹å°ä¸€äº›ï¼Œä¼ é€åˆ° slave çš„æ—¶é—´å¯èƒ½ä¹ŸçŸ­ï¼Œä½†æ˜¯æ²¡æœ‰ Row æ¨¡å¼çš„å¯é ã€‚")]),_._v(" "),v("li",[_._v("Row æ¨¡å¼åœ¨æ“ä½œå¤šè¡Œæ•°æ®æ—¶æ›´å ç”¨ç©ºé—´ï¼Œä½†æ˜¯å¯é ã€‚")])]),_._v(" "),v("p",[_._v("æ‰€ä»¥ï¼Œè¿™æ˜¯åœ¨å ç”¨ç©ºé—´å’Œå¯é ä¹‹é—´çš„é€‰æ‹©ã€‚")]),_._v(" "),v("p",[v("strong",[_._v("å¦‚ä½•åœ¨çº¿æ­£ç¡®æ¸…ç† MySQL binlogï¼Ÿ")])]),_._v(" "),v("p",[_._v("MySQL ä¸­çš„ binlog æ—¥å¿—è®°å½•äº†æ•°æ®ä¸­çš„æ•°æ®å˜åŠ¨ï¼Œä¾¿äºå¯¹æ•°æ®çš„åŸºäºæ—¶é—´ç‚¹å’ŒåŸºäºä½ç½®çš„æ¢å¤ã€‚ä½†æ—¥å¿—æ–‡ä»¶çš„å¤§å°ä¼šè¶Šæ¥è¶Šå¤§ï¼Œå ç”¨å¤§é‡çš„ç£ç›˜ç©ºé—´ï¼Œå› æ­¤éœ€è¦å®šæ—¶æ¸…ç†ä¸€éƒ¨åˆ†æ—¥å¿—ä¿¡æ¯ã€‚")]),_._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("# é¦–å…ˆæŸ¥çœ‹ä¸»ä»åº“æ­£åœ¨ä½¿ç”¨çš„binlogæ–‡ä»¶åç§°\nshow master(slave) status\n\n# åˆ é™¤ä¹‹å‰ä¸€å®šè¦å¤‡ä»½\npurge master logs before'2017-09-01 00:00:00'; # åˆ é™¤æŒ‡å®šæ—¶é—´å‰çš„æ—¥å¿—\npurge master logs to'mysql-bin.000001'; # åˆ é™¤æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶\n\n# è‡ªåŠ¨åˆ é™¤ï¼šé€šè¿‡è®¾ç½®binlogçš„è¿‡æœŸæ—¶é—´è®©ç³»ç»Ÿè‡ªåŠ¨åˆ é™¤æ—¥å¿—\nshow variables like 'expire_logs_days'; # æŸ¥çœ‹è¿‡æœŸæ—¶é—´\nset global expire_logs_days = 30; # è®¾ç½®è¿‡æœŸæ—¶é—´\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br"),v("span",{staticClass:"line-number"},[_._v("2")]),v("br"),v("span",{staticClass:"line-number"},[_._v("3")]),v("br"),v("span",{staticClass:"line-number"},[_._v("4")]),v("br"),v("span",{staticClass:"line-number"},[_._v("5")]),v("br"),v("span",{staticClass:"line-number"},[_._v("6")]),v("br"),v("span",{staticClass:"line-number"},[_._v("7")]),v("br"),v("span",{staticClass:"line-number"},[_._v("8")]),v("br"),v("span",{staticClass:"line-number"},[_._v("9")]),v("br"),v("span",{staticClass:"line-number"},[_._v("10")]),v("br")])]),v("h2",{attrs:{id:"mysql-ä¸»ä»å¤åˆ¶çš„æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-ä¸»ä»å¤åˆ¶çš„æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„"}},[_._v("#")]),_._v(" MySQL ä¸»ä»å¤åˆ¶çš„æµç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ")]),_._v(" "),v("p",[_._v("MySQL çš„ä¸»ä»å¤åˆ¶æ˜¯åŸºäºå¦‚ä¸‹ 3 ä¸ªçº¿ç¨‹çš„äº¤äº’ï¼ˆå¤šçº¿ç¨‹å¤åˆ¶é‡Œé¢åº”è¯¥æ˜¯ 4 ç±»çº¿ç¨‹ï¼‰ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("1ã€Master ä¸Šé¢çš„ binlog dump çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£å°† master çš„ binlog event ä¼ åˆ° slave ã€‚")]),_._v(" "),v("li",[_._v("2ã€Slave ä¸Šé¢çš„ IO çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£æ¥æ”¶ Master ä¼ è¿‡æ¥çš„ binlogï¼Œå¹¶å†™å…¥ relay log ã€‚")]),_._v(" "),v("li",[_._v("3ã€Slave ä¸Šé¢çš„ SQL çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£è¯»å– relay log å¹¶æ‰§è¡Œã€‚")]),_._v(" "),v("li",[_._v("4ã€å¦‚æœæ˜¯å¤šçº¿ç¨‹å¤åˆ¶ï¼Œæ— è®ºæ˜¯ 5.6 åº“çº§åˆ«çš„å‡å¤šçº¿ç¨‹è¿˜æ˜¯ MariaDB æˆ–è€… 5.7 çš„çœŸæ­£çš„å¤šçº¿ç¨‹å¤åˆ¶ï¼Œ SQL çº¿ç¨‹åªåš coordinator ï¼Œåªè´Ÿè´£æŠŠ relay log ä¸­çš„ binlog è¯»å‡ºæ¥ç„¶åäº¤ç»™ worker çº¿ç¨‹ï¼Œ woker çº¿ç¨‹è´Ÿè´£å…·ä½“ binlog event çš„æ‰§è¡Œã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL å¦‚ä½•ä¿è¯å¤åˆ¶è¿‡ç¨‹ä¸­æ•°æ®ä¸€è‡´æ€§ï¼Ÿ")])]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™ä¸ªé—®é¢˜æ¯”è¾ƒéš¾ï¼Œç†è§£ä¸äº†ä¹Ÿæ²¡é—®é¢˜ã€‚æˆ‘è‡ªå·±ä¹Ÿæ²¡å®Œå…¨ç†è§£ï¼Œä¸»è¦æ˜¯ç½‘ç»œæ‰¾åˆ°è¿™ä¸ªç­”æ¡ˆï¼Œåç»­æœ‰ç²¾åŠ›åœ¨ç ”ç©¶ã€‚")])]),_._v(" "),v("ul",[v("li",[_._v("1ã€åœ¨ MySQL5.5 ä»¥åŠä¹‹å‰ï¼Œ slave çš„ SQL çº¿ç¨‹æ‰§è¡Œçš„ relay log çš„ä½ç½®åªèƒ½ä¿å­˜åœ¨æ–‡ä»¶ï¼ˆ relay-log.infoï¼‰é‡Œé¢ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶é»˜è®¤æ¯æ‰§è¡Œ 10000 æ¬¡äº‹åŠ¡åšä¸€æ¬¡åŒæ­¥åˆ°ç£ç›˜ï¼Œ è¿™æ„å‘³ç€ slave æ„å¤– crash é‡å¯æ—¶ï¼Œ SQL çº¿ç¨‹æ‰§è¡Œåˆ°çš„ä½ç½®å’Œæ•°æ®åº“çš„æ•°æ®æ˜¯ä¸ä¸€è‡´çš„ï¼Œå°†å¯¼è‡´å¤åˆ¶æŠ¥é”™ï¼Œå¦‚æœä¸é‡æ­å¤åˆ¶ï¼Œåˆ™æœ‰å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚\n"),v("ul",[v("li",[_._v("MySQL 5.6 å¼•å…¥å‚æ•° relay_log_info_repositoryï¼Œå°†è¯¥å‚æ•°è®¾ç½®ä¸º TABLE æ—¶ï¼Œ MySQL å°† SQL çº¿ç¨‹æ‰§è¡Œåˆ°çš„ä½ç½®å­˜åˆ° mysql.slave_relay_log_info è¡¨ï¼Œè¿™æ ·æ›´æ–°è¯¥è¡¨çš„ä½ç½®å’Œ SQL çº¿ç¨‹æ‰§è¡Œçš„ç”¨æˆ·äº‹åŠ¡ç»‘å®šæˆä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™æ · slave æ„å¤–å®•æœºåï¼Œslave é€šè¿‡ innodb çš„å´©æºƒæ¢å¤å¯ä»¥æŠŠ SQL çº¿ç¨‹æ‰§è¡Œåˆ°çš„ä½ç½®å’Œç”¨æˆ·äº‹åŠ¡æ¢å¤åˆ°ä¸€è‡´æ€§çš„çŠ¶æ€ã€‚")])])]),_._v(" "),v("li",[_._v("2ã€MySQL 5.6 å¼•å…¥ GTID å¤åˆ¶ï¼Œæ¯ä¸ª GTID å¯¹åº”çš„äº‹åŠ¡åœ¨æ¯ä¸ªå®ä¾‹ä¸Šé¢æœ€å¤šæ‰§è¡Œä¸€æ¬¡ï¼Œ è¿™æå¤§åœ°æé«˜äº†å¤åˆ¶çš„æ•°æ®ä¸€è‡´æ€§ã€‚")]),_._v(" "),v("li",[_._v("3ã€MySQL 5.5 å¼•å…¥åŠåŒæ­¥å¤åˆ¶ï¼Œ ç”¨æˆ·å®‰è£…åŠåŒæ­¥å¤åˆ¶æ’ä»¶å¹¶ä¸”å¼€å¯å‚æ•°åï¼Œè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¯ä¿è¯åœ¨è¶…æ—¶æ—¶é—´å†…å¦‚æœ binlog ä¸ä¼ åˆ° slave ä¸Šé¢ï¼Œé‚£ä¹ˆç”¨æˆ·æäº¤äº‹åŠ¡æ—¶ä¸ä¼šè¿”å›ï¼Œç›´åˆ°è¶…æ—¶ååˆ‡æˆå¼‚æ­¥å¤åˆ¶ï¼Œä½†æ˜¯å¦‚æœåˆ‡æˆå¼‚æ­¥ä¹‹å‰ç”¨æˆ·çº¿ç¨‹æäº¤æ—¶åœ¨ master ä¸Šé¢ç­‰å¾…çš„æ—¶å€™ï¼Œäº‹åŠ¡å·²ç»æäº¤ï¼Œè¯¥äº‹åŠ¡å¯¹ master ä¸Šé¢çš„å…¶ä»– session æ˜¯å¯è§çš„ï¼Œå¦‚æœè¿™æ—¶ master å®•æœºï¼Œé‚£ä¹ˆåˆ° slave ä¸Šé¢è¯¥äº‹åŠ¡åˆä¸å¯è§äº†ï¼Œè¯¥é—®é¢˜ç›´åˆ° 5.7 æ‰è§£å†³ã€‚")]),_._v(" "),v("li",[_._v("4ã€MySQL 5.7 å¼•å…¥æ— æŸåŠåŒæ­¥å¤åˆ¶ï¼Œå¼•å…¥å‚ rpl_semi_sync_master_wait_pointï¼Œè¯¥å‚æ•°é»˜è®¤ä¸º after_syncï¼ŒæŒ‡çš„æ˜¯åœ¨åˆ‡æˆåŠåŒæ­¥ä¹‹å‰ï¼Œäº‹åŠ¡ä¸æäº¤ï¼Œè€Œæ˜¯æ¥æ”¶åˆ° slave çš„ ACK ç¡®è®¤ä¹‹åæ‰æäº¤è¯¥äº‹åŠ¡ï¼Œä»æ­¤ï¼Œå¤åˆ¶çœŸæ­£å¯ä»¥åšåˆ°æ— æŸçš„äº†ã€‚")]),_._v(" "),v("li",[_._v("5ã€å¯ä»¥å†è¯´ä¸€ä¸‹ 5.7 çš„æ— æŸå¤åˆ¶æƒ…å†µä¸‹ï¼Œ master æ„å¤–å®•æœºï¼Œé‡å¯åå‘ç°æœ‰ binlog æ²¡ä¼ åˆ° slave ä¸Šé¢ï¼Œè¿™éƒ¨åˆ† binlog æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿåˆ† 2 ç§æƒ…å†µè®¨è®ºï¼Œ 1 å®•æœºæ—¶å·²ç»åˆ‡æˆå¼‚æ­¥äº†ï¼Œ 2 æ˜¯å®•æœºæ—¶è¿˜æ²¡åˆ‡æˆå¼‚æ­¥ï¼Ÿï¼Ÿï¼Ÿ è¿™ä¸ªæ€ä¹ˆåˆ¤æ–­å®•æœºæ—¶æœ‰æ²¡æœ‰åˆ‡æˆå¼‚æ­¥å‘¢ï¼Ÿï¼Ÿï¼Ÿ åˆ†åˆ«æ€ä¹ˆå¤„ç†ï¼Ÿï¼Ÿï¼Ÿ")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL å¦‚ä½•è§£å†³ä¸»ä»å¤åˆ¶çš„å»¶æ—¶æ€§ï¼Ÿ")])]),_._v(" "),v("p",[_._v("5.5 æ˜¯å•çº¿ç¨‹å¤åˆ¶ï¼Œ5.6 æ˜¯å¤šåº“å¤åˆ¶ï¼ˆå¯¹äºå•åº“æˆ–è€…å•è¡¨çš„å¹¶å‘æ“ä½œæ˜¯æ²¡ç”¨çš„ï¼‰ï¼Œ5.7 æ˜¯çœŸæ­£æ„ä¹‰çš„å¤šçº¿ç¨‹å¤åˆ¶ï¼Œå®ƒçš„åŸç†æ˜¯åŸºäº group commitï¼Œ åªè¦ master ä¸Šé¢çš„äº‹åŠ¡æ˜¯ group commit çš„ï¼Œé‚£ slave ä¸Šé¢ä¹Ÿå¯ä»¥é€šè¿‡å¤šä¸ª workerçº¿ç¨‹å»å¹¶å‘æ‰§è¡Œã€‚ å’Œ MairaDB10.0.0.5 å¼•å…¥å¤šçº¿ç¨‹å¤åˆ¶çš„åŸç†åŸºæœ¬ä¸€æ ·ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å·¥ä½œé‡åˆ°çš„å¤åˆ¶ bug çš„è§£å†³æ–¹æ³•ï¼Ÿ")])]),_._v(" "),v("p",[_._v("5.6 çš„å¤šåº“å¤åˆ¶æœ‰æ—¶å€™è‡ªå·±ä¼šåœæ­¢ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªè„šæœ¬é‡æ–° start slave ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä½ æ˜¯å¦åšè¿‡ä¸»ä»ä¸€è‡´æ€§æ ¡éªŒï¼Œå¦‚æœæœ‰ï¼Œæ€ä¹ˆåšçš„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä½ æ‰“ç®—æ€ä¹ˆåšï¼Ÿ")])]),_._v(" "),v("p",[_._v("ä¸»ä»ä¸€è‡´æ€§æ ¡éªŒæœ‰å¤šç§å·¥å…· ä¾‹å¦‚ checksumã€mysqldiffã€pt-table-checksum ç­‰ã€‚")]),_._v(" "),v("h2",{attrs:{id:"èŠèŠ-mysql-å¤‡ä»½æ–¹å¼-å¤‡ä»½ç­–ç•¥æ˜¯æ€ä¹ˆæ ·çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#èŠèŠ-mysql-å¤‡ä»½æ–¹å¼-å¤‡ä»½ç­–ç•¥æ˜¯æ€ä¹ˆæ ·çš„"}},[_._v("#")]),_._v(" èŠèŠ MySQL å¤‡ä»½æ–¹å¼ï¼Ÿå¤‡ä»½ç­–ç•¥æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ")]),_._v(" "),v("p",[_._v("å…·ä½“çš„ï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"http://www.qinglin.net/1015.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL é«˜çº§å¤‡ä»½ç­–ç•¥ã€‹"),v("OutboundLink")],1),_._v(" ã€‚ä¸»è¦æœ‰å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("æ•°æ®çš„å¤‡ä»½ç±»å‹")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("ã€å¸¸ç”¨ã€‘å®Œå…¨å¤‡ä»½")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™æ˜¯å¤§å¤šæ•°äººå¸¸ç”¨çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥å¤‡ä»½æ•´ä¸ªæ•°æ®åº“ï¼ŒåŒ…å«ç”¨æˆ·è¡¨ã€ç³»ç»Ÿè¡¨ã€ç´¢å¼•ã€è§†å›¾å’Œå­˜å‚¨è¿‡ç¨‹ç­‰æ‰€æœ‰æ•°æ®åº“å¯¹è±¡ã€‚ä½†å®ƒéœ€è¦èŠ±è´¹æ›´å¤šçš„æ—¶é—´å’Œç©ºé—´ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬æ¨èä¸€å‘¨åšä¸€æ¬¡å®Œå…¨å¤‡ä»½ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("å¢é‡å¤‡ä»½")]),_._v(" "),v("blockquote",[v("p",[_._v("å®ƒæ˜¯åªå¤‡ä»½æ•°æ®åº“ä¸€éƒ¨åˆ†çš„å¦ä¸€ç§æ–¹æ³•ï¼Œå®ƒä¸ä½¿ç”¨äº‹åŠ¡æ—¥å¿—ï¼Œç›¸åï¼Œå®ƒä½¿ç”¨æ•´ä¸ªæ•°æ®åº“çš„ä¸€ç§æ–°æ˜ è±¡ã€‚å®ƒæ¯”æœ€åˆçš„å®Œå…¨å¤‡ä»½å°ï¼Œå› ä¸ºå®ƒåªåŒ…å«è‡ªä¸Šæ¬¡å®Œå…¨å¤‡ä»½ä»¥æ¥æ‰€æ”¹å˜çš„æ•°æ®åº“ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å­˜å‚¨å’Œæ¢å¤é€Ÿåº¦å¿«ã€‚æ¨èæ¯å¤©åšä¸€æ¬¡å·®å¼‚å¤‡ä»½ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("ã€å¸¸ç”¨ã€‘äº‹åŠ¡æ—¥å¿—å¤‡ä»½")]),_._v(" "),v("blockquote",[v("p",[_._v("äº‹åŠ¡æ—¥å¿—æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œå®ƒè®°å½•æ•°æ®åº“çš„æ”¹å˜ï¼Œå¤‡ä»½çš„æ—¶å€™åªéœ€è¦å¤åˆ¶è‡ªä¸Šæ¬¡å¤‡ä»½ä»¥æ¥å¯¹æ•°æ®åº“æ‰€åšçš„æ”¹å˜ï¼Œæ‰€ä»¥åªéœ€è¦å¾ˆå°‘çš„æ—¶é—´ã€‚ä¸ºäº†ä½¿æ•°æ®åº“å…·æœ‰é²æ£’æ€§ï¼Œæ¨èæ¯å°æ—¶ç”šè‡³æ›´é¢‘ç¹çš„å¤‡ä»½äº‹åŠ¡æ—¥å¿—ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("æ–‡ä»¶å¤‡ä»½")]),_._v(" "),v("blockquote",[v("p",[_._v("æ•°æ®åº“å¯ä»¥ç”±ç¡¬ç›˜ä¸Šçš„è®¸å¤šæ–‡ä»¶æ„æˆã€‚å¦‚æœè¿™ä¸ªæ•°æ®åº“éå¸¸å¤§ï¼Œå¹¶ä¸”ä¸€ä¸ªæ™šä¸Šä¹Ÿä¸èƒ½å°†å®ƒå¤‡ä»½å®Œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤‡ä»½æ¯æ™šå¤‡ä»½æ•°æ®åº“çš„ä¸€éƒ¨åˆ†ã€‚ç”±äºä¸€èˆ¬æƒ…å†µä¸‹æ•°æ®åº“ä¸ä¼šå¤§åˆ°å¿…é¡»ä½¿ç”¨å¤šä¸ªæ–‡ä»¶å­˜å‚¨ï¼Œæ‰€ä»¥è¿™ç§å¤‡ä»½ä¸æ˜¯å¾ˆå¸¸ç”¨ã€‚")])])])])]),_._v(" "),v("li",[v("p",[_._v("å¤‡ä»½æ•°æ®çš„ç±»å‹")]),_._v(" "),v("ul",[v("li",[_._v("çƒ­å¤‡ä»½")]),_._v(" "),v("li",[_._v("æ¸©å¤‡ä»½")]),_._v(" "),v("li",[_._v("å†·å¤‡ä»½")])])]),_._v(" "),v("li",[v("p",[_._v("å¤‡ä»½å·¥å…·")]),_._v(" "),v("ul",[v("li",[_._v("cp")]),_._v(" "),v("li",[_._v("mysqldump")]),_._v(" "),v("li",[_._v("xtrabackup")]),_._v(" "),v("li",[_._v("lvm2 å¿«ç…§")])])])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("MySQL å‡ ç§å¤‡ä»½æ–¹å¼ï¼Ÿ")])]),_._v(" "),v("p",[_._v("MySQL ä¸€èˆ¬æœ‰ 3 ç§å¤‡ä»½æ–¹å¼ã€‚")]),_._v(" "),v("p",[_._v("1ï¼‰é€»è¾‘å¤‡ä»½")]),_._v(" "),v("p",[_._v("ä½¿ç”¨ MySQL è‡ªå¸¦çš„ mysqldump å·¥å…·è¿›è¡Œå¤‡ä»½ã€‚å¤‡ä»½æˆsqlæ–‡ä»¶å½¢å¼ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ä¼˜ç‚¹ï¼šæœ€å¤§å¥½å¤„æ˜¯èƒ½å¤Ÿä¸æ­£åœ¨è¿è¡Œçš„ MySQL è‡ªåŠ¨ååŒå·¥ä½œï¼Œåœ¨è¿è¡ŒæœŸé—´å¯ä»¥ç¡®ä¿å¤‡ä»½æ˜¯å½“æ—¶çš„ç‚¹ï¼Œå®ƒä¼šè‡ªåŠ¨å°†å¯¹åº”æ“ä½œçš„è¡¨é”å®šï¼Œä¸å…è®¸å…¶ä»–ç”¨æˆ·ä¿®æ”¹(åªèƒ½è®¿é—®)ã€‚å¯èƒ½ä¼šé˜»æ­¢ä¿®æ”¹æ“ä½œã€‚SQL æ–‡ä»¶é€šç”¨æ–¹ä¾¿ç§»æ¤ã€‚")]),_._v(" "),v("li",[_._v("ç¼ºç‚¹ï¼šå¤‡ä»½çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å¦‚æœæ˜¯æ•°æ®é‡å¾ˆå¤šçš„æ—¶å€™ï¼Œå°±å¾ˆè€—æ—¶é—´ã€‚å¦‚æœæ•°æ®åº“æœåŠ¡å™¨å¤„åœ¨æä¾›ç»™ç”¨æˆ·æœåŠ¡çŠ¶æ€ï¼Œåœ¨è¿™æ®µé•¿æ—¶é—´æ“ä½œè¿‡ç¨‹ä¸­ï¼Œæ„å‘³ç€è¦é”å®šè¡¨(ä¸€èˆ¬æ˜¯è¯»é”å®šï¼Œåªèƒ½è¯»ä¸èƒ½å†™å…¥æ•°æ®)ï¼Œé‚£ä¹ˆæœåŠ¡å°±ä¼šå½±å“çš„ã€‚")])]),_._v(" "),v("p",[_._v("2ï¼‰ç‰©ç†å¤‡ä»½")]),_._v(" "),v("blockquote",[v("p",[_._v("å› ä¸ºç°åœ¨ä¸»æµæ˜¯ InnoDB ï¼Œæ‰€ä»¥åŸºæœ¬ä¸å†è€ƒè™‘è¿™ç§æ–¹å¼ã€‚")])]),_._v(" "),v("p",[_._v("ç›´æ¥æ‹·è´åªé€‚ç”¨äº MyISAM ç±»å‹çš„è¡¨ã€‚è¿™ç§ç±»å‹çš„è¡¨æ˜¯ä¸æœºå™¨ç‹¬ç«‹çš„ã€‚ä½†å®é™…æƒ…å†µæ˜¯ï¼Œä½ è®¾è®¡æ•°æ®åº“çš„æ—¶å€™ä¸å¯èƒ½å…¨éƒ¨ä½¿ç”¨ MyISAM ç±»å‹è¡¨ã€‚ä½ ä¹Ÿä¸å¯èƒ½å› ä¸º MyISAM ç±»å‹è¡¨ä¸æœºå™¨ç‹¬ç«‹ï¼Œæ–¹ä¾¿ç§»æ¤ï¼Œäºæ˜¯å°±é€‰æ‹©è¿™ç§è¡¨ï¼Œè¿™å¹¶ä¸æ˜¯é€‰æ‹©å®ƒçš„ç†ç”±ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ç¼ºç‚¹ï¼šä½ ä¸èƒ½å»æ“ä½œæ­£åœ¨è¿è¡Œçš„ MySQL æœåŠ¡å™¨(åœ¨æ‹·è´çš„è¿‡ç¨‹ä¸­æœ‰ç”¨æˆ·é€šè¿‡åº”ç”¨ç¨‹åºè®¿é—®æ›´æ–°æ•°æ®ï¼Œè¿™æ ·å°±æ— æ³•å¤‡ä»½å½“æ—¶çš„æ•°æ®)ï¼Œå¯èƒ½æ— æ³•ç§»æ¤åˆ°å…¶ä»–æœºå™¨ä¸Šå»ã€‚")])]),_._v(" "),v("p",[_._v("3ï¼‰åŒæœºçƒ­å¤‡ä»½ã€‚")]),_._v(" "),v("p",[_._v("å½“æ•°æ®é‡å¤ªå¤§çš„æ—¶å€™å¤‡ä»½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼ŒMySQL æ•°æ®åº“æä¾›äº†ä¸€ç§ä¸»ä»å¤‡ä»½çš„æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯åŒæœºçƒ­å¤‡ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ä¼˜ç‚¹ï¼šé€‚åˆæ•°æ®é‡å¤§çš„æ—¶å€™ã€‚ç°åœ¨æ˜ç™½äº†ï¼Œå¤§çš„äº’è”ç½‘å…¬å¸å¯¹äº MySQL æ•°æ®å¤‡ä»½ï¼Œéƒ½æ˜¯é‡‡ç”¨çƒ­æœºå¤‡ä»½ã€‚æ­å»ºå¤šå°æ•°æ®åº“æœåŠ¡å™¨ï¼Œè¿›è¡Œä¸»ä»å¤åˆ¶ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("æ•°æ®åº“ä¸èƒ½åœæœºï¼Œè¯·é—®å¦‚ä½•å¤‡ä»½? å¦‚ä½•è¿›è¡Œå…¨å¤‡ä»½å’Œå¢é‡å¤‡ä»½?")])]),_._v(" "),v("p",[_._v("å¯ä»¥ä½¿ç”¨é€»è¾‘å¤‡ä»½å’ŒåŒæœºçƒ­å¤‡ä»½ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("å®Œå…¨å¤‡ä»½ï¼šå®Œæ•´å¤‡ä»½ä¸€èˆ¬ä¸€æ®µæ—¶é—´è¿›è¡Œä¸€æ¬¡ï¼Œä¸”åœ¨ç½‘ç«™è®¿é—®é‡æœ€å°çš„æ—¶å€™ï¼Œè¿™æ ·å¸¸å€ŸåŠ©æ‰¹å¤„ç†æ–‡ä»¶å®šæ—¶å¤‡ä»½ã€‚ä¸»è¦æ˜¯å†™ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶åœ¨é‡Œé¢å†™ä¸Šå¤„ç†ç¨‹åºçš„ç»å¯¹è·¯å¾„ç„¶åæŠŠè¦å¤„ç†çš„ä¸œè¥¿å†™åœ¨åé¢ï¼Œå³å®Œå…¨å¤‡ä»½æ•°æ®åº“ã€‚")]),_._v(" "),v("li",[_._v("å¢é‡å¤‡ä»½ï¼šå¯¹ ddl å’Œ dml è¯­å¥è¿›è¡ŒäºŒè¿›åˆ¶å¤‡ä»½ã€‚ä¸” 5.0 æ— æ³•å¢é‡å¤‡ä»½ï¼Œ5.1 åå¯ä»¥ã€‚å¦‚æœè¦å®ç°å¢é‡å¤‡ä»½éœ€è¦åœ¨ "),v("code",[_._v("my.ini")]),_._v(" æ–‡ä»¶ä¸­é…ç½®å¤‡ä»½è·¯å¾„å³å¯ï¼Œé‡å¯ MySQL æœåŠ¡å™¨ï¼Œå¢é‡å¤‡ä»½å°±å¯åŠ¨äº†ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä½ çš„å¤‡ä»½å·¥å…·çš„é€‰æ‹©ï¼Ÿå¤‡ä»½è®¡åˆ’æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ")])]),_._v(" "),v("p",[_._v("è§†åº“çš„å¤§å°æ¥å®šï¼Œä¸€èˆ¬æ¥è¯´ 100G å†…çš„åº“ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ mysqldump æ¥åšï¼Œå› ä¸º mysqldump æ›´åŠ è½»å·§çµæ´»ï¼Œå¤‡ä»½æ—¶é—´é€‰åœ¨ä¸šåŠ¡ä½å³°æœŸï¼Œå¯ä»¥æ¯å¤©è¿›è¡Œéƒ½è¿›è¡Œå…¨é‡å¤‡ä»½(mysqldump å¤‡ä»½å‡ºæ¥çš„æ–‡ä»¶æ¯”è¾ƒå°ï¼Œå‹ç¼©ä¹‹åæ›´å°)ã€‚")]),_._v(" "),v("p",[_._v("100G ä»¥ä¸Šçš„åº“ï¼Œå¯ä»¥è€ƒè™‘ç”¨ xtrabackup æ¥åšï¼Œå¤‡ä»½é€Ÿåº¦æ˜æ˜¾è¦æ¯” mysqldump è¦å¿«ã€‚ä¸€èˆ¬æ˜¯é€‰æ‹©ä¸€å‘¨ä¸€ä¸ªå…¨å¤‡ï¼Œå…¶ä½™æ¯å¤©è¿›è¡Œå¢é‡å¤‡ä»½ï¼Œå¤‡ä»½æ—¶é—´ä¸ºä¸šåŠ¡ä½å³°æœŸã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€‰æ‹©æ¯å‘¨å¤‡ä»½ + æ¯å¤©å¢é‡å¤‡ä»½æ¯”è¾ƒé è°±ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å¤‡ä»½æ¢å¤æ—¶é—´æ˜¯å¤šé•¿ï¼Ÿ")])]),_._v(" "),v("p",[_._v("ç‰©ç†å¤‡ä»½æ¢å¤å¿«ï¼Œé€»è¾‘å¤‡ä»½æ¢å¤æ…¢ã€‚")]),_._v(" "),v("p",[_._v("è¿™é‡Œè·Ÿæœºå™¨ï¼Œå°¤å…¶æ˜¯ç¡¬ç›˜çš„é€Ÿç‡æœ‰å…³ç³»ï¼Œä»¥ä¸‹åˆ—ä¸¾å‡ ä¸ªä»…ä¾›å‚è€ƒï¼š")]),_._v(" "),v("ul",[v("li",[_._v("20G çš„ 2 åˆ†é’Ÿï¼ˆmysqldumpï¼‰")]),_._v(" "),v("li",[_._v("80G çš„ 30åˆ†é’Ÿï¼ˆmysqldump)")]),_._v(" "),v("li",[_._v("111G çš„ 30åˆ†é’Ÿï¼ˆmysqldump)")]),_._v(" "),v("li",[_._v("288G çš„ 3 å°æ—¶ï¼ˆxtrabackup)")]),_._v(" "),v("li",[_._v("3T çš„ 4 å°æ—¶ï¼ˆxtrabackup)")])]),_._v(" "),v("p",[_._v("é€»è¾‘å¯¼å…¥æ—¶é—´ä¸€èˆ¬æ˜¯å¤‡ä»½æ—¶é—´çš„ 5 å€ä»¥ä¸Šã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å¤‡ä»½æ¢å¤å¤±è´¥å¦‚ä½•å¤„ç†ï¼Ÿ")])]),_._v(" "),v("p",[_._v("é¦–å…ˆåœ¨æ¢å¤ä¹‹å‰å°±åº”è¯¥åšè¶³å‡†å¤‡å·¥ä½œï¼Œé¿å…æ¢å¤çš„æ—¶å€™å‡ºé”™ã€‚æ¯”å¦‚è¯´å¤‡ä»½ä¹‹åçš„æœ‰æ•ˆæ€§æ£€æŸ¥ã€æƒé™æ£€æŸ¥ã€ç©ºé—´æ£€æŸ¥ç­‰ã€‚å¦‚æœä¸‡ä¸€æŠ¥é”™ï¼Œå†æ ¹æ®æŠ¥é”™çš„æç¤ºæ¥è¿›è¡Œç›¸åº”çš„è°ƒæ•´ã€‚")]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("mysqldump å’Œ xtrabackup å®ç°åŸç†ï¼Ÿ")])]),_._v(" "),v("p",[_._v("1ï¼‰mysqldump")]),_._v(" "),v("p",[_._v("mysqldump æ˜¯æœ€ç®€å•çš„é€»è¾‘å¤‡ä»½æ–¹å¼ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("åœ¨å¤‡ä»½ MyISAM è¡¨çš„æ—¶å€™ï¼Œå¦‚æœè¦å¾—åˆ°ä¸€è‡´çš„æ•°æ®ï¼Œå°±éœ€è¦é”è¡¨ï¼Œç®€å•è€Œç²—æš´ã€‚")]),_._v(" "),v("li",[_._v("åœ¨å¤‡ä»½ InnoDB è¡¨çš„æ—¶å€™ï¼ŒåŠ ä¸Š "),v("code",[_._v("â€“master-data=1 â€“single-transaction")]),_._v(" é€‰é¡¹ï¼Œåœ¨äº‹åŠ¡å¼€å§‹æ—¶åˆ»ï¼Œè®°å½•ä¸‹ binlog pos ç‚¹ï¼Œç„¶ååˆ©ç”¨ MVCC æ¥è·å–ä¸€è‡´çš„æ•°æ®ï¼Œç”±äºæ˜¯ä¸€ä¸ªé•¿äº‹åŠ¡ï¼Œåœ¨å†™å…¥å’Œæ›´æ–°é‡å¾ˆå¤§çš„æ•°æ®åº“ä¸Šï¼Œå°†äº§ç”Ÿéå¸¸å¤šçš„ undo ï¼Œæ˜¾è‘—å½±å“æ€§èƒ½ï¼Œæ‰€ä»¥è¦æ…ç”¨ã€‚")]),_._v(" "),v("li",[_._v("ä¼˜ç‚¹ï¼šç®€å•ï¼Œå¯é’ˆå¯¹å•è¡¨å¤‡ä»½ï¼Œåœ¨å…¨é‡å¯¼å‡ºè¡¨ç»“æ„çš„æ—¶å€™å°¤å…¶æœ‰ç”¨ã€‚")]),_._v(" "),v("li",[_._v("ç¼ºç‚¹ï¼šç®€å•ç²—æš´ï¼Œå•çº¿ç¨‹ï¼Œå¤‡ä»½æ…¢è€Œä¸”æ¢å¤æ…¢ï¼Œè·¨ IDC æœ‰å¯èƒ½é‡åˆ°æ—¶åŒºé—®é¢˜")])]),_._v(" "),v("p",[_._v("2ï¼‰xtrabackup")]),_._v(" "),v("p",[_._v("xtrabackup å®é™…ä¸Šæ˜¯ç‰©ç†å¤‡ä»½+é€»è¾‘å¤‡ä»½çš„ç»„åˆã€‚")]),_._v(" "),v("ul",[v("li",[_._v("åœ¨å¤‡ä»½ InnoDB è¡¨çš„æ—¶å€™ï¼Œå®ƒæ‹·è´ ibd æ–‡ä»¶ï¼Œå¹¶ä¸€åˆ»ä¸åœçš„ç›‘è§† redo log çš„å˜åŒ–ï¼Œappend åˆ°è‡ªå·±çš„äº‹åŠ¡æ—¥å¿—æ–‡ä»¶ã€‚åœ¨æ‹·è´ ibd æ–‡ä»¶è¿‡ç¨‹ä¸­ï¼Œibdæ–‡ä»¶æœ¬èº«å¯èƒ½è¢«å†™â€èŠ±â€ï¼Œè¿™éƒ½ä¸æ˜¯é—®é¢˜ï¼Œå› ä¸ºåœ¨æ‹·è´å®Œæˆåçš„ç¬¬ä¸€ä¸ª prepare é˜¶æ®µï¼Œxtrabackup é‡‡ç”¨ç±»ä¼¼äº Innodb å´©æºƒæ¢å¤çš„æ–¹æ³•ï¼ŒæŠŠæ•°æ®æ–‡ä»¶æ¢å¤åˆ°ä¸æ—¥å¿—æ–‡ä»¶ä¸€è‡´çš„çŠ¶æ€ï¼Œå¹¶æŠŠæœªæäº¤çš„äº‹åŠ¡å›æ»šã€‚")]),_._v(" "),v("li",[_._v("å¦‚æœåŒæ—¶éœ€è¦å¤‡ä»½ MyISAM è¡¨ä»¥åŠ InnoDB è¡¨ç»“æ„ç­‰æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨ "),v("code",[_._v("flush tables with lock")]),_._v(" æ¥è·å¾—å…¨å±€é”ï¼Œå¼€å§‹æ‹·è´è¿™äº›ä¸å†å˜åŒ–çš„æ–‡ä»¶ï¼ŒåŒæ—¶è·å¾— binlog ä½ç½®ï¼Œæ‹·è´ç»“æŸåé‡Šæ”¾é”ï¼Œä¹Ÿåœæ­¢å¯¹ redo log çš„ç›‘è§†ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å¦‚ä½•ä» mysqldump äº§ç”Ÿçš„å…¨åº“å¤‡ä»½ä¸­åªæ¢å¤æŸä¸€ä¸ªåº“ã€æŸä¸€å¼ è¡¨ï¼Ÿ")])]),_._v(" "),v("p",[_._v("å…·ä½“å¯è§ "),v("a",{attrs:{href:"http://blog.51cto.com/wujianwei/1959473",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL å…¨åº“å¤‡ä»½ä¸­æ¢å¤æŸä¸ªåº“å’ŒæŸå¼ è¡¨ä»¥åŠ mysqldump å‚æ•° â€“ignore-table ä»‹ç»ã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("h2",{attrs:{id:"èŠèŠ-mysql-é›†ç¾¤"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#èŠèŠ-mysql-é›†ç¾¤"}},[_._v("#")]),_._v(" èŠèŠ MySQL é›†ç¾¤?")]),_._v(" "),v("blockquote",[v("p",[_._v("è¿™å—æ‡‚çš„å°‘ï¼Œä¸»è¦æ‰¾äº†ä¸€äº›ç½‘ç»œä¸Šçš„èµ„æ–™ã€‚")])]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/25960208",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šäº”å¤§å¸¸è§çš„ MySQL é«˜å¯ç”¨æ–¹æ¡ˆã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.zhihu.com/question/21307639",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šé«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å¯æ‰©å±•çš„ MySQL é›†ç¾¤å¦‚ä½•ç»„å»ºï¼Ÿã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("å¯¹äºç®€å†ä¸­å†™æœ‰ç†Ÿæ‚‰ MySQL é«˜å¯ç”¨æ–¹æ¡ˆï¼Ÿ")])]),_._v(" "),v("p",[_._v("æˆ‘ä¸€èˆ¬å…ˆé—®ä»–ç°åœ¨ç®¡ç†çš„æ•°æ®åº“æ¶æ„æ˜¯ä»€ä¹ˆï¼Œå¦‚æœä»–åªè¯´å‡ºäº†ä¸»ä»ï¼Œè€Œæ²¡æœ‰è¯´ä»»ä½• HA çš„æ–¹æ¡ˆï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥åˆ¤æ–­å‡ºä»–æ²¡æœ‰å®é™…çš„ HA ç»éªŒã€‚")]),_._v(" "),v("p",[_._v("ä¸è¿‡è¿™æ—¶å€™ä¹Ÿä¸èƒ½å°±æ˜¯æ–­å®šä»–ä¸æ‡‚ MySQL é«˜å¯ç”¨ï¼Œä¹Ÿè®¸æ˜¯æ²¡æœ‰å®é™…æœºä¼šå»ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘å°±è¦é—® "),v("a",{attrs:{href:"http://www.cnblogs.com/gomysql/p/3671896.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("MMM"),v("OutboundLink")],1),_._v(" ä»¥åŠ "),v("a",{attrs:{href:"http://svip.iocoder.cn/MySQL/Interview/MySQL%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E4%B9%8BMHA",target:"_blank",rel:"noopener noreferrer"}},[_._v("MHA"),v("OutboundLink")],1),_._v(" ä»¥åŠ "),v("a",{attrs:{href:"http://blog.51cto.com/sumongodb/1953244",target:"_blank",rel:"noopener noreferrer"}},[_._v("MM + keepalived"),v("OutboundLink")],1),_._v(" ç­‰çš„åŸç†ã€å®ç°æ–¹å¼ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¼˜åŠ¿å’Œä¸è¶³äº†ï¼Œä¸€èˆ¬è¿™ç§æƒ…å†µä¸‹ï¼Œèƒ½è¯´å‡ºè¿™ä¸ªçš„åŸºæœ¬æ²¡æœ‰ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("MMM é‚£ä¸œè¥¿å¥½åƒä¸é è°±ï¼Œæ®è¯´ä¸ç¨³å®šï¼Œä½†æ˜¯æœ‰äººåœ¨ç”¨çš„ï¼Œå’Œ mysql-router æ¯”è¾ƒåƒï¼Œéƒ½æ˜¯æŒ‡å®šå¯å†™çš„æœºå™¨å’Œåªè¯»æœºå™¨ã€‚")]),_._v(" "),v("li",[_._v("MHA çš„è¯ä¸€å¥è¯è¯´ä¸å®Œï¼Œå¯ä»¥æœç´¢ä¸‹ç›¸å…³åšå®¢ã€‚")])]),_._v(" "),v("p",[_._v("ğŸ¦… "),v("strong",[_._v("ä½¿ç”¨è¿‡å…¶ä»–åˆ†æ”¯ç‰ˆæœ¬çš„æ•°æ®åº“å—ï¼ŸPerconaã€Mariadb ç­‰ã€‚å¯¹Percona çš„ pxc é›†ç¾¤äº†è§£å—ï¼Ÿ")])]),_._v(" "),v("p",[_._v("é™¤äº† Oracle æ——ä¸‹çš„ MySQL å¤–ï¼Œæˆ‘è¿˜ä½¿ç”¨è¿‡ Percona Server ã€‚")]),_._v(" "),v("p",[_._v("Percona æ˜¯åœ¨åŸç”Ÿ MySQL çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†ä¼˜åŒ–å’Œæ”¹è¿›ï¼Œæ‰€ä»¥ Percona çš„æ€§èƒ½æ¯” MySQL æ›´å¥½ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("ç›®å‰ï¼Œæˆ‘çŸ¥é“ Percona æä¾›å…è´¹çš„çº¿ç¨‹æ± åŠŸèƒ½ï¼Œè€Œç¤¾åŒºç‰ˆçš„ MySQL æ²¡æœ‰çº¿ç¨‹æ± çš„åŠŸèƒ½ï¼ˆå½“ç„¶ï¼Œä¼ä¸šç‰ˆçš„mysqlæ˜¯æœ‰çº¿ç¨‹æ± çš„ï¼Œä½†æ˜¯éœ€è¦æ”¶è´¹ï¼‰")]),_._v(" "),v("li",[_._v("å¦å¤– Percona è¿˜æ”¯æŒ NUMA ç­‰åŠŸèƒ½ã€‚")])]),_._v(" "),v("p",[_._v("æˆ‘ç†Ÿæ‚‰ pxc ï¼Œæˆ‘æ›¾ç»åœ¨æµ‹è¯•ç¯å¢ƒæ­å»ºè¿‡ pxc ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ç”Ÿäº§ä¸Šä½¿ç”¨ï¼Œå› ä¸ºç›®å‰ä½¿ç”¨ pxc çš„ä¼ä¸šä¸æ˜¯å¾ˆå¤šï¼Œç›®å‰æˆ‘çŸ¥é“æœç‹åœ¨ç”¨ pxc ã€‚")]),_._v(" "),v("ul",[v("li",[_._v("pxc æ˜¯æ‘’å¼ƒ MySQL ä¸»ä»çš„æ¦‚å¿µï¼Œå³å¯¹äº pxc æ¥è¯´ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥è¯»å†™ï¼Œå¹¶ä¸”å†™ä¸€ä»½æ•°æ®ï¼Œå…¶ä»–èŠ‚ç‚¹ä¼šåŒæ—¶æ‹¥æœ‰ï¼Œè¿™æ˜¯ä¸€ç§åŒæ­¥çš„å¤åˆ¶æ–¹æ¡ˆï¼ˆåŒºåˆ«äº MySQL ä¸»ä»çš„å¼‚æ­¥å¤åˆ¶ï¼‰ã€‚")])]),_._v(" "),v("h2",{attrs:{id:"èŠèŠ-mysql-å®‰å…¨"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#èŠèŠ-mysql-å®‰å…¨"}},[_._v("#")]),_._v(" èŠèŠ MySQL å®‰å…¨ï¼Ÿ")]),_._v(" "),v("p",[_._v("æ„Ÿå…´è¶£çš„èƒ–å‹ï¼Œå¯ä»¥çœ‹çœ‹ï¼š")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"http://netsecurity.51cto.com/art/201311/418159.htm",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šä¿éšœ MySQL å®‰å…¨çš„14ä¸ªæœ€ä½³æ–¹æ³•ã€‹"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.freebuf.com/articles/database/36777.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šè¯¦è§£ MySQL å®‰å…¨é…ç½®ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("h2",{attrs:{id:"mysql-æœ‰å“ªäº›æ—¥å¿—"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql-æœ‰å“ªäº›æ—¥å¿—"}},[_._v("#")]),_._v(" MySQL æœ‰å“ªäº›æ—¥å¿—ï¼Ÿ")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("é”™è¯¯æ—¥å¿—ï¼šè®°å½•äº†å½“ mysqld å¯åŠ¨å’Œåœæ­¢æ—¶ï¼Œä»¥åŠæœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿä»»ä½•ä¸¥é‡é”™è¯¯æ—¶çš„ç›¸å…³ä¿¡æ¯ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("äºŒè¿›åˆ¶æ–‡ä»¶ï¼šè®°å½•äº†æ‰€æœ‰çš„ DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰è¯­å¥å’Œ DMLï¼ˆæ•°æ®æ“çºµè¯­è¨€ï¼‰è¯­å¥ï¼Œä¸åŒ…æ‹¬æ•°æ®æŸ¥è¯¢è¯­å¥ã€‚è¯­å¥ä»¥â€œäº‹ä»¶â€çš„å½¢å¼ä¿å­˜ï¼Œå®ƒæè¿°äº†æ•°æ®çš„æ›´æ”¹è¿‡ç¨‹ã€‚ï¼ˆå®šæœŸåˆ é™¤æ—¥å¿—ï¼Œé»˜è®¤å…³é—­ï¼‰ã€‚")]),_._v(" "),v("blockquote",[v("p",[_._v("å°±æ˜¯æˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„ MySQL binlog æ—¥å¿—ã€‚")])])]),_._v(" "),v("li",[v("p",[_._v("æŸ¥è¯¢æ—¥å¿—ï¼šè®°å½•äº†å®¢æˆ·ç«¯çš„æ‰€æœ‰è¯­å¥ï¼Œæ ¼å¼ä¸ºçº¯æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œè¯»å–ã€‚ï¼ˆlog æ—¥å¿—ä¸­è®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„æ“ä½œï¼Œå¯¹äºè®¿é—®é¢‘ç¹çš„ç³»ç»Ÿï¼Œæ­¤æ—¥å¿—å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“è¾ƒå¤§ï¼Œå»ºè®®å…³é—­ï¼Œé»˜è®¤å…³é—­ï¼‰ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("æ…¢æŸ¥è¯¢æ—¥å¿—ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•äº†åŒ…å«æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡å‚æ•°long_query_timeï¼ˆå•ä½ï¼šç§’ï¼‰æ‰€è®¾ç½®å€¼çš„ SQL è¯­å¥çš„æ—¥å¿—ã€‚ï¼ˆçº¯æ–‡æœ¬æ ¼å¼ï¼‰")]),_._v(" "),v("blockquote",[v("p",[_._v("é‡è¦ï¼Œä¸€å®šè¦å¼€å¯ã€‚")])])])]),_._v(" "),v("p",[_._v("å¦å¤–ï¼Œé”™è¯¯æ—¥å¿—å’Œæ…¢æŸ¥è¯¢æ—¥å¿—çš„è¯¦ç»†è§£é‡Šï¼Œå¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/xlgen157387/article/details/76019934",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL æ—¥å¿—æ–‡ä»¶ä¹‹é”™è¯¯æ—¥å¿—å’Œæ…¢æŸ¥è¯¢æ—¥å¿—è¯¦è§£ã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("h2",{attrs:{id:"èŠèŠ-mysql-ç›‘æ§"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#èŠèŠ-mysql-ç›‘æ§"}},[_._v("#")]),_._v(" èŠèŠ MySQL ç›‘æ§ï¼Ÿ")]),_._v(" "),v("p",[v("strong",[_._v("ä½ æ˜¯å¦‚ä½•ç›‘æ§ä½ ä»¬çš„æ•°æ®åº“çš„ï¼Ÿ")])]),_._v(" "),v("p",[_._v("ç›‘æ§çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ Zabbix ï¼ŒLepus ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ "),v("a",{attrs:{href:"https://github.com/lijiapengsa/lepus",target:"_blank",rel:"noopener noreferrer"}},[_._v("Lepus"),v("OutboundLink")],1),_._v(" ã€‚")]),_._v(" "),v("h2",{attrs:{id:"å¯¹ä¸€ä¸ªå¤§è¡¨åšåœ¨çº¿-ddl-æ€ä¹ˆè¿›è¡Œå®æ–½çš„æ‰èƒ½å°½å¯èƒ½é™ä½å½±å“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹ä¸€ä¸ªå¤§è¡¨åšåœ¨çº¿-ddl-æ€ä¹ˆè¿›è¡Œå®æ–½çš„æ‰èƒ½å°½å¯èƒ½é™ä½å½±å“"}},[_._v("#")]),_._v(" å¯¹ä¸€ä¸ªå¤§è¡¨åšåœ¨çº¿ DDL ï¼Œæ€ä¹ˆè¿›è¡Œå®æ–½çš„æ‰èƒ½å°½å¯èƒ½é™ä½å½±å“ï¼Ÿ")]),_._v(" "),v("p",[_._v("ä½¿ç”¨ pt-online-schema-change ï¼Œå…·ä½“å¯ä»¥çœ‹çœ‹ "),v("a",{attrs:{href:"https://blog.csdn.net/mchdba/article/details/76253016",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL å¤§è¡¨åœ¨çº¿ DML ç¥å™¨â€“pt-online-schema-changeã€‹"),v("OutboundLink")],1),_._v(" æ–‡ç« ã€‚")]),_._v(" "),v("p",[_._v("å¦å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒçš„å·¥å…·ï¼Œèƒ–å‹å¯ä»¥æœç´¢ä¸‹ã€‚")]),_._v(" "),v("h1",{attrs:{id:"å½©è›‹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å½©è›‹"}},[_._v("#")]),_._v(" å½©è›‹")]),_._v(" "),v("p",[_._v("T T çŸ¥è¯†ç‚¹çœŸå¤šï¼Œèƒ–å‹è¿˜æ˜¯é‡ç‚¹æŒæ¡æ–‡åˆè¯´çš„å‡ ä¸ªï¼Œä¸è¦æ–¹ï¼Œæˆ‘ä»¬èƒ½èµ¢ã€‚å¦‚ä¸‹æ˜¯åœ¨ç½‘ç»œä¸Šæ‰¾åˆ°è¿‡çš„ä¸€ä¸ª MySQL é—®é¢˜æ¸…å•ï¼ˆç ”å‘å‘ï¼‰ï¼š")]),_._v(" "),v("blockquote",[v("ul",[v("li",[_._v("3-1 æ•°æ®åº“æ¶æ„")]),_._v(" "),v("li",[_._v("3-2 ä¼˜åŒ–ä½ çš„ç´¢å¼•-è¿ç”¨äºŒå‰æŸ¥æ‰¾æ ‘")]),_._v(" "),v("li",[_._v("3-3 ä¼˜åŒ–ä½ çš„ç´¢å¼•-è¿ç”¨Bæ ‘")]),_._v(" "),v("li",[_._v("3-4 ä¼˜åŒ–ä½ çš„ç´¢å¼•-è¿ç”¨B+æ ‘")]),_._v(" "),v("li",[_._v("3-5 ä¼˜åŒ–ä½ çš„ç´¢å¼•-è¿ç”¨Hashä»¥åŠBitMap")]),_._v(" "),v("li",[_._v("3-6 å¯†é›†ç´¢å¼•å’Œç¨€ç–ç´¢å¼•çš„åŒºåˆ«")]),_._v(" "),v("li",[_._v("3-7 ç´¢å¼•é¢å¤–çš„é—®é¢˜ä¹‹å¦‚ä½•è°ƒä¼˜Sql")]),_._v(" "),v("li",[_._v("3-8 ç´¢å¼•é¢å¤–é—®é¢˜ä¹‹æœ€å·¦åŒ¹é…åŸåˆ™çš„æˆå› ")]),_._v(" "),v("li",[_._v("3-9 ç´¢å¼•é¢å¤–é—®é¢˜ä¹‹ç´¢å¼•æ˜¯å»ºç«‹è¶Šå¤šè¶Šå¥½å—")]),_._v(" "),v("li",[_._v("3-10 é”æ¨¡å—ä¹‹MyISAMä¸InooDBå…³äºé”æ–¹é¢çš„åŒºåˆ«")]),_._v(" "),v("li",[_._v("3-11 é”æ¨¡å—ä¹‹MyISAMä¸InooDBå…³äºé”æ–¹é¢çš„åŒºåˆ«_2")]),_._v(" "),v("li",[_._v("3-12 é”æ¨¡å—ä¹‹æ•°æ®åº“äº‹åŠ¡çš„å››å¤§ç‰¹æ€§")]),_._v(" "),v("li",[_._v("3-13 é”æ¨¡å—ä¹‹äº‹åŠ¡å¹¶å‘è®¿é—®äº§ç”Ÿçš„é—®é¢˜ä»¥åŠäº‹åŠ¡éš”ç¦»æœºåˆ¶")]),_._v(" "),v("li",[_._v("3-14 é”æ¨¡å—ä¹‹äº‹åŠ¡å¹¶å‘è®¿é—®äº§ç”Ÿçš„é—®é¢˜ä»¥åŠäº‹åŠ¡éš”ç¦»æœºåˆ¶_2")]),_._v(" "),v("li",[_._v("3-15 é”æ¨¡å—ä¹‹å½“å‰è¯»å’Œå¿«ç…§è¯»")]),_._v(" "),v("li",[_._v("3-16 é”æ¨¡å—ä¹‹RRå¦‚ä½•é¿å…å¹»è¯»")]),_._v(" "),v("li",[_._v("3-17 é”æ¨¡å—å°ç»“")]),_._v(" "),v("li",[_._v("3-18 å…³é”®è¯­æ³•è®²è§£")]),_._v(" "),v("li",[_._v("3-19 æœ¬ç« æ€»ç»“")]),_._v(" "),v("li",[_._v("3-20 å½©è›‹ä¹‹é¢è¯•çš„ä¸‰å±‚æ¶æ„")])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"å‚è€ƒä¸æ¨èå¦‚ä¸‹æ–‡ç« "}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒä¸æ¨èå¦‚ä¸‹æ–‡ç« "}},[_._v("#")]),_._v(" å‚è€ƒä¸æ¨èå¦‚ä¸‹æ–‡ç« ï¼š")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("ranjun940726 "),v("a",{attrs:{href:"https://www.kancloud.cn/ranjun940726/php_interview",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠPHP é¢è¯•æŒ‡å—ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("ç´«è‘¡è„0 "),v("a",{attrs:{href:"https://www.jianshu.com/p/07c42e310e67",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ç´¢å¼•çš„ä½¿ç”¨å’Œä¼˜åŒ–ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("Ddaidai "),v("a",{attrs:{href:"https://www.jianshu.com/p/977a9e7d80b3",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šã€MySQLã€‘20 ä¸ªç»å…¸é¢è¯•é¢˜ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("ç˜¦ç˜¦é¸­ "),v("a",{attrs:{href:"https://segmentfault.com/a/1190000014316316",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL é¢è¯•çŸ¥è¯†ç‚¹æ€»ç»“ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("ç«‹è¶…çš„ä¸“æ  "),v("a",{attrs:{href:"https://www.cnblogs.com/zlcxbb/p/5757245.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMyISAM å’Œ InnoDB çš„ç´¢å¼•å®ç°ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("æ—¶èŠ¥è“ "),v("a",{attrs:{href:"https://www.jianshu.com/p/5052f6a454ef",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL é¢è¯•ä¹‹å¿…ä¼šçŸ¥è¯†ç‚¹ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("derrantcm "),v("a",{attrs:{href:"https://blog.csdn.net/DERRANTCM/article/details/51535193",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€Šã€é¢è¯•ã€‘ã€MySQLå¸¸è§é—®é¢˜æ€»ç»“ã€‘ã€04ã€‘ã€‹"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[_._v("mrlapulga "),v("a",{attrs:{href:"https://www.mrlapulga.com/?p=59",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ç»å…¸é¢è¯•é¢˜ã€‹"),v("OutboundLink")],1),_._v(" æä¾›çš„é¢è¯•é¢˜ï¼Œéš¾çš„æƒ³å“­ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("å°éº¦è‹— "),v("a",{attrs:{href:"https://yq.aliyun.com/articles/283427",target:"_blank",rel:"noopener noreferrer"}},[_._v("ã€ŠMySQL ç¬”è¯•é¢è¯•é¢˜é›†åˆã€‹"),v("OutboundLink")],1),_._v(" å…¨çš„æƒ³å“­ã€‚")])]),_._v(" "),v("li",[v("p",[_._v("Boot Starter çš„é¢è¯•é¢˜ã€‹](https://blog.csdn.net/sun1021873926/article/details/78176354)")])])])])}),[],!1,null,null,null);v.default=r.exports}}]);